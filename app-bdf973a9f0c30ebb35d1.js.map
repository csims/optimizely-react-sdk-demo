{"version":3,"file":"app-bdf973a9f0c30ebb35d1.js","mappings":";oGAQAA,EAAOC,QARP,SAAgCC,GAC9B,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,GAGgCF,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,0BCR9G,SAASI,IAcP,OAbAL,EAAOC,QAAUI,EAAWC,OAAOC,QAAU,SAAUC,GACrD,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GACNR,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,QACjEI,EAASY,MAAMC,KAAMR,WAG9BV,EAAOC,QAAUI,EAAUL,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,8BCjBhG,IAAIkB,EAAiB,EAAQ,MAQ7BnB,EAAOC,QANP,SAAwBmB,EAAUC,GAChCD,EAASN,UAAYR,OAAOgB,OAAOD,EAAWP,WAC9CM,EAASN,UAAUS,YAAcH,EACjCD,EAAeC,EAAUC,IAGMrB,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,0BCFtGD,EAAOC,QANP,SAAgCuB,GAC9B,OAAOA,GAAOA,EAAIpB,WAAaoB,EAAM,CACnC,QAAWA,IAI0BxB,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,0BCS9GD,EAAOC,QAfP,SAAuCW,EAAQa,GAC7C,GAAc,MAAVb,EAAgB,MAAO,GAC3B,IAEIC,EAAKJ,EAFLD,EAAS,GACTkB,EAAapB,OAAOqB,KAAKf,GAG7B,IAAKH,EAAI,EAAGA,EAAIiB,EAAWf,OAAQF,IACjCI,EAAMa,EAAWjB,GACbgB,EAASG,QAAQf,IAAQ,IAC7BL,EAAOK,GAAOD,EAAOC,IAGvB,OAAOL,GAGuCR,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,0BCfrH,SAAS4B,EAAgBC,EAAGC,GAK1B,OAJA/B,EAAOC,QAAU4B,EAAkBvB,OAAOa,gBAAkB,SAAyBW,EAAGC,GAEtF,OADAD,EAAEE,UAAYD,EACPD,GACN9B,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,QACjE4B,EAAgBC,EAAGC,GAG5B/B,EAAOC,QAAU4B,EAAiB7B,EAAOC,QAAQG,YAAa,EAAMJ,EAAOC,QAAiB,QAAID,EAAOC,yCCJvG,IAAII,EAAWC,OAAOC,QAAU,SAAUC,GACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGLyB,EAAc,SAAqBrB,GACrC,IAAIsB,EAAmBtB,EAAOuB,SAC1BC,EAASF,EAAiBE,OAC1BC,EAAOH,EAAiBG,KACxBC,EAAOJ,EAAiBI,KACxBC,EAASL,EAAiBK,OAC1BC,EAAWN,EAAiBM,SAC5BC,EAAOP,EAAiBO,KACxBC,EAAWR,EAAiBQ,SAC5BC,EAAOT,EAAiBS,KACxBC,EAAWhC,EAAOuB,SAASS,UAE1BA,GAAYN,GAAQO,IAEvBD,EADU,IAAIE,IAAIR,GACHM,UAGjB,MAAO,CACLA,SAAUG,UAAUC,UAAUJ,IAC9BR,OAAQA,EACRC,KAAMA,EACNC,KAAMA,EACNC,OAAQA,EACRC,SAAUA,EACVC,KAAMA,EACNC,SAAUA,EACVC,KAAMA,EACNM,MAAOrC,EAAOsC,QAAQD,MACtBpC,IAAKD,EAAOsC,QAAQD,OAASrC,EAAOsC,QAAQD,MAAMpC,KAAO,YAIzDsC,EAAgB,SAAuBvC,EAAQwC,GACjD,IAAIC,EAAY,GACZlB,EAAWF,EAAYrB,GACvB0C,GAAgB,EAEhBC,EAAoB,aAExB,MAAO,CACDpB,eACF,OAAOA,GAGLmB,oBACF,OAAOA,GAGTE,sBAAuB,WACrBF,GAAgB,EAChBC,KAEFE,OAAQ,SAAgBC,GACtBL,EAAUM,KAAKD,GAEf,IAAIE,EAAmB,WACrBzB,EAAWF,EAAYrB,GACvB8C,EAAS,CACPvB,SAAUA,EACV0B,OAAQ,SAKZ,OADAjD,EAAOkD,iBAAiB,WAAYF,GAC7B,WACLhD,EAAOmD,oBAAoB,WAAYH,GACvCP,EAAYA,EAAUW,QAAO,SAAUC,GACrC,OAAOA,IAAOP,OAIpBQ,SAAU,SAAkBC,GAC1B,IAAIC,EAAO1D,UAAUC,OAAS,QAAsB0D,IAAjB3D,UAAU,GAAmBA,UAAU,GAAK,GAC3EuC,EAAQmB,EAAKnB,MACbqB,EAAeF,EAAKG,QACpBA,OAA2BF,IAAjBC,GAAqCA,EAEnD,GAAkB,iBAAPH,EACTvD,EAAOsC,QAAQsB,GAAGL,OACb,CACLlB,EAAQ5C,EAAS,GAAI4C,EAAO,CAC1BpC,IAAK4D,KAAKC,MAAQ,KAGpB,IACMpB,GAAiBiB,EACnB3D,EAAOsC,QAAQyB,aAAa1B,EAAO,KAAMkB,GAEzCvD,EAAOsC,QAAQ0B,UAAU3B,EAAO,KAAMkB,GAExC,MAAOU,GACPjE,EAAOuB,SAASoC,EAAU,UAAY,UAAUJ,IAIpDhC,EAAWF,EAAYrB,GACvB0C,GAAgB,EAChB,IAAIwB,EAAa,IAAIC,SAAQ,SAAUC,GACrC,OAAOzB,EAAoByB,KAQ7B,OANA3B,EAAU4B,SAAQ,SAAUvB,GAC1B,OAAOA,EAAS,CACdvB,SAAUA,EACV0B,OAAQ,YAGLiB,KAOTI,EAAqB,WACvB,IAAIC,EAAczE,UAAUC,OAAS,QAAsB0D,IAAjB3D,UAAU,GAAmBA,UAAU,GAAK,IAClF0E,EAAcD,EAAYvD,QAAQ,KAClCyD,EAAkB,CACpBzC,SAAUwC,GAAe,EAAID,EAAYG,OAAO,EAAGF,GAAeD,EAClE/C,OAAQgD,GAAe,EAAID,EAAYG,OAAOF,GAAe,IAE3DG,EAAQ,EACRC,EAAQ,CAACH,GACTI,EAAS,CAAC,MACd,MAAO,CACDtD,eACF,OAAOqD,EAAMD,IAGfzB,iBAAkB,SAA0B4B,EAAMzB,KAClDF,oBAAqB,SAA6B2B,EAAMzB,KACxDf,QAAS,CACHyC,cACF,OAAOH,GAGLD,YACF,OAAOA,GAGLtC,YACF,OAAOwC,EAAOF,IAGhBX,UAAW,SAAmB3B,EAAO2C,EAAGC,GACtC,IAAIC,EAAaD,EAAIE,MAAM,KACvBnD,EAAWkD,EAAW,GACtBE,EAAcF,EAAW,GACzB1D,OAAyBiC,IAAhB2B,EAA4B,GAAKA,EAE9CT,IACAC,EAAM7B,KAAK,CACTf,SAAUA,EACVR,OAAQA,EAAOzB,OAAS,IAAMyB,EAASA,IAEzCqD,EAAO9B,KAAKV,IAEd0B,aAAc,SAAsB1B,EAAO2C,EAAGC,GAC5C,IAAII,EAAcJ,EAAIE,MAAM,KACxBnD,EAAWqD,EAAY,GACvBC,EAAeD,EAAY,GAC3B7D,OAA0BiC,IAAjB6B,EAA6B,GAAKA,EAE/CV,EAAMD,GAAS,CACb3C,SAAUA,EACVR,OAAQA,GAEVqD,EAAOF,GAAStC,GAElBuB,GAAI,SAAYL,GACd,IAAIgC,EAAWZ,EAAQpB,EAEnBgC,EAAW,GAAKA,EAAWV,EAAO9E,OAAS,IAI/C4E,EAAQY,OASZtD,IAAiC,oBAAXuD,SAA0BA,OAAOC,WAAYD,OAAOC,SAASC,eAMnFC,EAAgBpD,EAHXN,EAAYuD,OAASlB,KAI1BhB,EAAWqC,EAAcrC,SAE7BjE,EAAQ,GAAgBsG,qCCjNxBtG,EAAQG,YAAa,EACrBH,EAAQuG,eAAiBvG,EAAQwG,iBAAmBxG,EAAQyG,aAAezG,EAAQ0G,QAAU1G,EAAQ2G,MAAQ3G,EAAQ4G,KAAO5G,EAAQ6G,gBAAazC,EAEjJ,IAIgC7C,EAJ5BuF,EAAa,EAAQ,MAErBC,GAE4BxF,EAFSuF,IAGzBvF,EAAIpB,WAAaoB,EAAM,CACnCyF,QAASzF,GAMb,IAAIsF,EAAa,SAAoBI,EAAQ9E,GAC3C,OAAO8E,EAAO5B,OAAO,EAAGlD,EAAOzB,UAAYyB,GAwBzCyE,EAAO,SAAcM,EAAQtB,GAW/B,IAVA,IAAIe,OAAQ,EACRQ,OAAW,EAGXC,EADaxB,EAAIE,MAAM,KACE,GAEzBuB,EAAcC,EAAWF,GACzBG,EAA+B,KAAnBF,EAAY,GACxBG,EAASC,EAAWP,GAEf1G,EAAI,EAAGkH,EAAIF,EAAO9G,OAAQF,EAAIkH,EAAGlH,IAAK,CAC7C,IAAImH,GAAS,EACTC,EAAQJ,EAAOhH,GAAGoH,MAEtB,GAAIA,EAAMZ,QACRG,EAAW,CACTS,MAAOA,EACPC,OAAQ,GACRjC,IAAKA,OAJT,CAcA,IALA,IAAIkC,EAAgBR,EAAWM,EAAMG,MACjCF,EAAS,GACTG,EAAMC,KAAKD,IAAIX,EAAY3G,OAAQoH,EAAcpH,QACjD4E,EAAQ,EAELA,EAAQ0C,EAAK1C,IAAS,CAC3B,IAAI4C,EAAeJ,EAAcxC,GAC7B6C,EAAad,EAAY/B,GAE7B,GAAI8C,EAAQF,GAAe,CAKzBL,EADYK,EAAaG,MAAM,IAAM,KACrBhB,EAAYgB,MAAM/C,GAAOgD,IAAIC,oBAAoBC,KAAK,KACtE,MAGF,QAAmBpE,IAAf+D,EAA0B,CAI5BR,GAAS,EACT,MAGF,IAAIc,EAAeC,EAAQC,KAAKT,GAEhC,GAAIO,IAAiBlB,EAAW,EACuC,IAA5CqB,EAAcjH,QAAQ8G,EAAa,MAC4K,EAAI1B,EAAYC,UAAS,GACjQ,IAAI6B,EAAQN,mBAAmBJ,GAC/BN,EAAOY,EAAa,IAAMI,OACrB,GAAIX,IAAiBC,EAAY,CAItCR,GAAS,EACT,OAIJ,IAAKA,EAAQ,CACXhB,EAAQ,CACNiB,MAAOA,EACPC,OAAQA,EACRjC,IAAK,IAAMyB,EAAYgB,MAAM,EAAG/C,GAAOkD,KAAK,MAE9C,QAIJ,OAAO7B,GAASQ,GAAY,MAiH1BuB,EAAU,SAWVI,EAAY,SAAmBC,GACjC,OAAOL,EAAQM,KAAKD,IAGlBX,EAAU,SAAiBW,GAC7B,OAAOA,GAA0B,MAAfA,EAAQ,IAGxBE,EAAY,SAAmBrB,EAAOtC,GAMxC,MAAO,CACLsC,MAAOA,EACPsB,MAPUtB,EAAMZ,QAAU,EAAIM,EAAWM,EAAMG,MAAMoB,QAAO,SAAUD,EAAOH,GAG7E,OAFAG,GApBiB,GAMD,SAAuBH,GACzC,MAAmB,KAAZA,EAcDK,CAAcL,GAAwCD,EAAUC,GAAUG,GAnB7D,EAmB8Fd,EAAQW,GAAUG,GAASG,EAAoCH,GApB9J,EAoBYA,GAjBd,EAkBPA,IACN,GAID5D,MAAOA,IAIPmC,EAAa,SAAoBP,GACnC,OAAOA,EAAOoB,IAAIW,GAAWK,MAAK,SAAUC,EAAGC,GAC7C,OAAOD,EAAEL,MAAQM,EAAEN,MAAQ,EAAIK,EAAEL,MAAQM,EAAEN,OAAS,EAAIK,EAAEjE,MAAQkE,EAAElE,UAIpEgC,EAAa,SAAoB1B,GACnC,OAAOA,EACNtB,QAAQ,eAAgB,IAAIwB,MAAM,MAGjC2D,EAAW,SAAkB9G,GAC/B,IAAK,IAAI+G,EAAOjJ,UAAUC,OAAQiJ,EAAQC,MAAMF,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IAC/FF,EAAME,EAAO,GAAKpJ,UAAUoJ,GAM9B,OAAOlH,IAHPgH,EAAQA,EAAM5F,QAAO,SAAU+F,GAC7B,OAAOA,GAAKA,EAAEpJ,OAAS,OAEGiJ,EAAMjJ,OAAS,EAAI,IAAMiJ,EAAMnB,KAAK,KAAO,KAGrEI,EAAgB,CAAC,MAAO,QAe5B5I,EAAQ6G,WAAaA,EACrB7G,EAAQ4G,KAAOA,EACf5G,EAAQ2G,MAnLI,SAAeoB,EAAMnC,GAC/B,OAAOgB,EAAK,CAAC,CACXmB,KAAMA,IACJnC,IAiLN5F,EAAQ0G,QApJM,SAAiBxC,EAAI6F,GAEjC,GAAIlD,EAAW3C,EAAI,KACjB,OAAOA,EAGT,IAAI8F,EAAY9F,EAAG4B,MAAM,KACrBmE,EAAaD,EAAU,GACvBE,EAAUF,EAAU,GAGpBG,EADcJ,EAAKjE,MAAM,KACE,GAE3BsE,EAAa9C,EAAW2C,GACxBI,EAAe/C,EAAW6C,GAE9B,GAAsB,KAAlBC,EAAW,GACb,OAAOX,EAASU,EAAcD,GAIhC,IAAKrD,EAAWuD,EAAW,GAAI,KAAM,CACnC,IAAIzH,EAAW0H,EAAaC,OAAOF,GAAY5B,KAAK,KACpD,OAAOiB,GAA2B,MAAjBU,EAAuB,GAAK,KAAOxH,EAAUuH,GAWhE,IAHA,IAAIK,EAAcF,EAAaC,OAAOF,GAClCI,EAAW,GAENhK,EAAI,EAAGkH,EAAI6C,EAAY7J,OAAQF,EAAIkH,EAAGlH,IAAK,CAClD,IAAIuI,EAAUwB,EAAY/J,GACV,OAAZuI,EAAkByB,EAASC,MAA2B,MAAZ1B,GAAiByB,EAAS9G,KAAKqF,GAG/E,OAAOU,EAAS,IAAMe,EAAShC,KAAK,KAAM0B,IA8G5ClK,EAAQyG,aAzGW,SAAsBsB,EAAMF,GAC7C,IAAI6C,EAAc3C,EAAKjC,MAAM,KACzB6E,EAAWD,EAAY,GACvBE,EAAeF,EAAY,GAC3Bf,OAAyBvF,IAAjBwG,EAA6B,GAAKA,EAG1CC,EAAkB,IADPvD,EAAWqD,GACWrC,KAAI,SAAUS,GACjD,IAAIpC,EAAQ+B,EAAQC,KAAKI,GACzB,OAAOpC,EAAQkB,EAAOlB,EAAM,IAAMoC,KACjCP,KAAK,KACJsC,EAAmBjD,EAAO3F,SAE1B6I,GADJD,OAAwC1G,IAArB0G,EAAiC,GAAKA,GACZ3I,OAEzC6I,QADmC5G,IAA1B2G,EAAsC,GAAKA,GAC/BjF,MAAM,KAAK,IAAM,GAE1C,OADA+E,EAAkBpB,EAASoB,EAAiBlB,EAAOqB,IA0FrDhL,EAAQwG,iBAtFe,SAA0ByE,EAAM/G,GACrD,IAAIH,EAAS,SAAgBgF,GAC3B,OAAOD,EAAUC,IAKnB,OAFiBzB,EAAW2D,GAAMlH,OAAOA,GAAQuF,OAAOd,KAAK,OAC9ClB,EAAWpD,GAAIH,OAAOA,GAAQuF,OAAOd,KAAK,MAiF3DxI,EAAQuG,eAda,SAAwB2E,EAAMC,GACjD,IAAIC,EAAW/K,OAAOqB,KAAKwJ,GAC3B,OAAOE,EAAS1K,SAAWL,OAAOqB,KAAKyJ,GAAMzK,QAAU0K,EAASC,OAAM,SAAUzK,GAC9E,OAAOuK,EAAKrK,eAAeF,IAAQsK,EAAKtK,KAASuK,EAAKvK,0CCtR1DP,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAI0C,EAAW,EAAQ,MAMvB,IAAIC,EAEJ,WACE,SAASA,IACPvK,KAAKwK,WAAa,EAsBpB,OAnBAD,EAAkB3K,UAAU6K,SAAW,WACrC,OAAwB,IAApBzK,KAAKwK,WACA,EAIgB,IADHF,EAASI,yCAAyC1D,KAAK2D,IAAIL,EAASI,yCAAyCjL,OAAS,EAAGO,KAAKwK,aAf/IxD,KAAK4D,MAAsB,IAAhB5D,KAAK6D,WAmBvBN,EAAkB3K,UAAUkL,WAAa,WACnC9K,KAAKwK,WAAaF,EAASI,yCAAyCjL,OAAS,GAC/EO,KAAKwK,cAITD,EAAkB3K,UAAUmL,MAAQ,WAClC/K,KAAKwK,WAAa,GAGbD,EAxBT,GA2BAxL,EAAA,QAAkBwL,qCCvClB,IACMS,EADFC,EAAYjL,MAAQA,KAAKiL,YACvBD,EAAiB,SAAuBE,EAAG3C,GAW7C,OAVAyC,EAAiB5L,OAAOa,gBAAkB,CACxCa,UAAW,cACA6H,OAAS,SAAUuC,EAAG3C,GACjC2C,EAAEpK,UAAYyH,IACX,SAAU2C,EAAG3C,GAChB,IAAK,IAAI1H,KAAK0H,EACRA,EAAE1I,eAAegB,KAAIqK,EAAErK,GAAK0H,EAAE1H,KAI/BmK,EAAeE,EAAG3C,IAGpB,SAAU2C,EAAG3C,GAGlB,SAAS4C,IACPnL,KAAKK,YAAc6K,EAHrBF,EAAeE,EAAG3C,GAMlB2C,EAAEtL,UAAkB,OAAN2I,EAAanJ,OAAOgB,OAAOmI,IAAM4C,EAAGvL,UAAY2I,EAAE3I,UAAW,IAAIuL,KAI/EC,EAAkBpL,MAAQA,KAAKoL,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAInM,WAAamM,EAAM,CACnC,QAAWA,IAIfjM,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAI0D,EAAmB,EAAQ,MAI3BC,EAEJ,SAAUC,GAGR,SAASD,IACP,OAAkB,OAAXC,GAAmBA,EAAOzL,MAAMC,KAAMR,YAAcQ,KAa7D,OAhBAiL,EAAUM,EAAwBC,GAMlCD,EAAuB3L,UAAU6L,eAAiB,SAAUC,EAAQC,GAClE,OAAOL,EAAiBG,eAAeC,EAAQC,IAGjDJ,EAAuB3L,UAAUgM,kBAAoB,WACnD,MAAO,CACLC,YAAY,IAITN,EAjBT,CAJmCH,EAAgB,EAAQ,OAsB5BrF,SAE/BhH,EAAA,QAAkBwM,qCC9DlBnM,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAI0C,EAAW,EAAQ,MAInBwB,EAFmB,EAAQ,MAEDC,UAAU,mBA4ExChN,EAAQ0M,eAzCR,SAAwBC,EAAQC,GAC9B,IAAIK,EAAM,IAAIC,eACVC,EAAkB,IAAIrI,SAAQ,SAAU4B,EAAS0G,GACnDH,EAAII,KArCS,MAqCQV,GAAQ,GAVjC,SAAyBC,EAASK,GAChC5M,OAAOqB,KAAKkL,GAAS5H,SAAQ,SAAUsI,GACrC,IAAIC,EAASX,EAAQU,GACrBL,EAAIO,iBAAiBF,EAAYC,MAQjCE,CAAgBb,EAASK,GAEzBA,EAAIS,mBAAqB,WACvB,GAxCiB,IAwCbT,EAAIU,WAAiC,CAGvC,GAAmB,IAFFV,EAAIW,OAInB,YADAR,EAAO,IAAIS,MAAM,kBAInB,IAAIC,EA9CZ,SAA6Bb,GAC3B,IAAIc,EAAmBd,EAAIe,wBAE3B,GAAyB,OAArBD,EACF,MAAO,GAGT,IAAIE,EAAcF,EAAiBjI,MAAM,QACrC8G,EAAU,GAad,OAZAqB,EAAYjJ,SAAQ,SAAUkJ,GAC5B,IAAIC,EAAiBD,EAAWvM,QAAQ,MAExC,GAAIwM,GAAkB,EAAG,CACvB,IAAIb,EAAaY,EAAW7F,MAAM,EAAG8F,GACjCC,EAAcF,EAAW7F,MAAM8F,EAAiB,GAEhDC,EAAY1N,OAAS,IACvBkM,EAAQU,GAAcc,OAIrBxB,EAyBeyB,CAAoBpB,GAChCqB,EAAO,CACTC,WAAYtB,EAAIW,OAChBY,KAAMvB,EAAIwB,aACV7B,QAASkB,GAEXpH,EAAQ4H,KAIZrB,EAAIyB,QAAUnD,EAASoD,mBAEvB1B,EAAI2B,UAAY,WACd7B,EAAO8B,MAAM,sBAGf5B,EAAI6B,UAEN,MAAO,CACL3B,gBAAiBA,EACjB4B,MAAO,WACL9B,EAAI8B,4CC/EV1O,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQgP,wBAA0B,IAElChP,EAAQiP,oBAAsB,IAC9BjP,EAAQkP,qBAAuB,+CAC/BlP,EAAQmP,mCAAqC,uDAC7CnP,EAAQ2L,yCAA2C,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,KAChF3L,EAAQ2O,mBAAqB,qCCT7BtO,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAIuG,EAEJ,WACE,SAASA,IACPnO,KAAKmC,UAAY,GACjBnC,KAAKoO,WAAa,EAmCpB,OAhCAD,EAAavO,UAAUyO,GAAK,SAAUC,EAAW9L,GAC/C,IAAI+L,EAAQvO,KAEPA,KAAKmC,UAAUmM,KAClBtO,KAAKmC,UAAUmM,GAAa,IAG9B,IAAIE,EAAoBC,OAAOzO,KAAKoO,YAGpC,OAFApO,KAAKoO,aACLpO,KAAKmC,UAAUmM,GAAWE,GAAqBhM,EACxC,WACD+L,EAAMpM,UAAUmM,WACXC,EAAMpM,UAAUmM,GAAWE,KAKxCL,EAAavO,UAAU8O,KAAO,SAAUJ,EAAWK,GACjD,IAAIxM,EAAYnC,KAAKmC,UAAUmM,GAE3BnM,GACF/C,OAAOqB,KAAK0B,GAAW4B,SAAQ,SAAUqK,IAEvC5L,EADeL,EAAUiM,IAChBO,OAKfR,EAAavO,UAAUgP,mBAAqB,WAC1C5O,KAAKmC,UAAY,IAGZgM,EAtCT,GAyCApP,EAAA,QAAkBoP,qCC/ClB,IAAIU,EAAW7O,MAAQA,KAAK6O,UAAY,WAatC,OAZAA,EAAWzP,OAAOC,QAAU,SAAUyP,GACpC,IAAK,IAAIC,EAAGxP,EAAI,EAAGyP,EAAIxP,UAAUC,OAAQF,EAAIyP,EAAGzP,IAG9C,IAAK,IAAIsB,KAFTkO,EAAIvP,UAAUD,GAGRH,OAAOQ,UAAUC,eAAeC,KAAKiP,EAAGlO,KAAIiO,EAAEjO,GAAKkO,EAAElO,IAI7D,OAAOiO,GAGFD,EAAS9O,MAAMC,KAAMR,YAG1B4L,EAAkBpL,MAAQA,KAAKoL,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAInM,WAAamM,EAAM,CACnC,QAAWA,IAIfjM,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAIqH,EAAmB,EAAQ,MAE3BC,EAAiB,EAAQ,MAEzBC,EAAiB/D,EAAgB,EAAQ,OAEzCd,EAAW,EAAQ,MAEnB8E,EAAsBhE,EAAgB,EAAQ,OAE9CU,EAASmD,EAAiBlD,UAAU,mBAOxC,SAASsD,EAAoB/B,GAC3B,OAAOA,GAAc,KAAOA,EAAa,IAG3C,IAAIgC,EAAoB,CACtBC,IAAK,WACH,OAAO1L,QAAQ4B,QAAQ,KAEzB+J,IAAK,WACH,OAAO3L,QAAQ4B,WAEjBgK,SAAU,WACR,OAAO5L,QAAQ4B,SAAQ,IAEzBiK,OAAQ,WACN,OAAO7L,QAAQ4B,YAIfkK,EAEJ,WACE,SAASA,EAA2BC,GAClC,IAAIrB,EAAQvO,KAER6P,EAA4BhB,EAASA,EAAS,GAAI7O,KAAK4L,qBAAsBgE,GAE7EE,EAAWD,EAA0BC,SACrCC,EAAKF,EAA0BhE,WAC/BA,OAAoB,IAAPkE,GAAwBA,EACrCC,EAASH,EAA0BG,OACnCC,EAAKJ,EAA0BK,eAC/BA,OAAwB,IAAPD,EAAgB3F,EAASyD,wBAA0BkC,EACpEE,EAAKN,EAA0BO,YAC/BA,OAAqB,IAAPD,EAAgB7F,EAAS2D,qBAAuBkC,EAC9DE,EAAKR,EAA0BS,MAC/BA,OAAe,IAAPD,EAAgBf,EAAoBe,EAChDrQ,KAAKsQ,MAAQA,EACbtQ,KAAKuQ,SAAW,gBAAkBP,EAClChQ,KAAKwQ,uBAAwB,EAE7BxQ,KAAKyQ,qBAAuB,aAE5BzQ,KAAK0Q,qBAAuB,aAE5B1Q,KAAK2Q,aAAe,IAAI9M,SAAQ,SAAU4B,EAAS0G,GACjDoC,EAAMkC,qBAAuBhL,EAC7B8I,EAAMmC,qBAAuBvE,KAG3B2D,GACF9P,KAAK4Q,gBAAkBd,EAElBE,GACHhQ,KAAK6Q,uBAGP7Q,KAAK4Q,gBAAkB,GAGzB5Q,KAAK8Q,WAAY,EACjB9Q,KAAK+Q,YAAc7B,EAAe8B,QAAQZ,EAAaJ,GACvDhQ,KAAKiR,QAAU,IAAI9B,EAAepJ,QAClC/F,KAAK6L,WAAaA,GAnEtB,SAA+BqE,GAC7B,OAAOA,GAAkB5F,EAAS0D,oBAoE5BkD,CAAsBhB,IAGxBpE,EAAOqF,KAAK,8CAA+CjB,EAAgB5F,EAASyD,yBACpF/N,KAAKkQ,eAAiB5F,EAASyD,yBAH/B/N,KAAKkQ,eAAiBA,EAMxBlQ,KAAKoR,eAAiB,KACtBpR,KAAKqR,eAAiB,KACtBrR,KAAKsR,kBAAoB,IAAIlC,EAAoBrJ,QACjD/F,KAAKuR,8BAA+B,EA+MtC,OA5MA5B,EAA2B/P,UAAU2P,IAAM,WACzC,OAAOvP,KAAK4Q,iBAGdjB,EAA2B/P,UAAU4R,MAAQ,WACtCxR,KAAK8Q,YACRhF,EAAO2F,MAAM,4BACbzR,KAAK8Q,WAAY,EACjB9Q,KAAKsR,kBAAkBvG,QACvB/K,KAAK0R,kCACL1R,KAAK2R,iBAIThC,EAA2B/P,UAAUgS,KAAO,WAgB1C,OAfA9F,EAAO2F,MAAM,4BACbzR,KAAK8Q,WAAY,EAEb9Q,KAAKoR,iBACPS,aAAa7R,KAAKoR,gBAClBpR,KAAKoR,eAAiB,MAGxBpR,KAAKiR,QAAQrC,qBAET5O,KAAKqR,iBACPrR,KAAKqR,eAAevD,QACpB9N,KAAKqR,eAAiB,MAGjBxN,QAAQ4B,WAGjBkK,EAA2B/P,UAAUkS,QAAU,WAC7C,OAAO9R,KAAK2Q,cAGdhB,EAA2B/P,UAAUyO,GAAK,SAAUC,EAAW9L,GAC7D,OAAOxC,KAAKiR,QAAQ5C,GAAGC,EAAW9L,IAGpCmN,EAA2B/P,UAAUmS,kBAAoB,SAAUC,GAC5DhS,KAAK8Q,YAIV9Q,KAAKsR,kBAAkBxG,aAEnBkH,aAAepF,MACjBd,EAAO8B,MAAM,8BAA+BoE,EAAIC,QAASD,GACjC,iBAARA,EAChBlG,EAAO8B,MAAM,8BAA+BoE,GAE5ClG,EAAO8B,MAAM,6BAIjB+B,EAA2B/P,UAAUsS,kBAAoB,SAAUC,GACjE,GAAKnS,KAAK8Q,UAAV,MAImC,IAAxBqB,EAAS7E,YAA8B+B,EAAoB8C,EAAS7E,YAC7EtN,KAAKsR,kBAAkBvG,QAEvB/K,KAAKsR,kBAAkBxG,aAGzB9K,KAAKoS,sBAAsBD,EAASxG,SACpC,IAAImE,EAAW9P,KAAKqS,4BAA4BF,GAEhD,GAAiB,KAAbrC,EAKF,GAJAhE,EAAOwG,KAAK,mCACZtS,KAAK4Q,gBAAkBd,EACvB9P,KAAKsQ,MAAMd,IAAIxP,KAAKuQ,SAAUT,GAEzB9P,KAAKwQ,sBAEH,CACL,IAAI+B,EAAiB,CACnBzC,SAAUA,GAEZ9P,KAAKiR,QAAQvC,KAtKJ,SAsKqB6D,QAL9BvS,KAAK6Q,wBAUXlB,EAA2B/P,UAAU4S,kBAAoB,WAClDxS,KAAK8Q,YAIV9Q,KAAKqR,eAAiB,KAEjBrR,KAAKwQ,uBAA0BxQ,KAAK6L,YAEvC7L,KAAKyS,mBAAmB,IAAI7F,MAAM,2BAGhC5M,KAAK6L,YAAc7L,KAAKuR,8BAC1BvR,KAAK2R,eAGP3R,KAAKuR,8BAA+B,IAGtC5B,EAA2B/P,UAAU+R,aAAe,WAClD,IAAIpD,EAAQvO,KAER2L,EAAU,GAEV3L,KAAK0S,2BACP/G,EAAQ,qBAAuB3L,KAAK0S,0BAGtC5G,EAAO2F,MAAM,qDAAsDzR,KAAK+Q,aAAa,WACnF,OAAO4B,KAAKC,UAAUjH,MAExB3L,KAAKqR,eAAiBrR,KAAKyL,eAAezL,KAAK+Q,YAAapF,GAE5D,IAAI6G,EAAoB,WACtBjE,EAAMiE,qBAWRxS,KAAKqR,eAAenF,gBAAgB2G,MARZ,SAA2BV,GACjD5D,EAAM2D,kBAAkBC,MAGF,SAA2BH,GACjDzD,EAAMwD,kBAAkBC,MAGqDa,KAAKL,EAAmBA,GAEnGxS,KAAK6L,YACP7L,KAAK8S,sBAITnD,EAA2B/P,UAAUiR,oBAAsB,WACzD7Q,KAAKyQ,uBACLzQ,KAAKwQ,uBAAwB,GAG/Bb,EAA2B/P,UAAU6S,mBAAqB,SAAUT,GAClEhS,KAAK0Q,qBAAqBsB,GAC1BhS,KAAKwQ,uBAAwB,GAG/Bb,EAA2B/P,UAAUkT,mBAAqB,WACxD,IAAIvE,EAAQvO,KAER+S,EAAsB/S,KAAKsR,kBAAkB7G,WAC7CuI,EAAkBhM,KAAKD,IAAIgM,EAAqB/S,KAAKkQ,gBACzDpE,EAAO2F,MAAM,2BAA4BuB,GACzChT,KAAKoR,eAAiB6B,YAAW,WAC3B1E,EAAM8C,eACR9C,EAAMgD,8BAA+B,EAErChD,EAAMoD,iBAEPqB,IAGLrD,EAA2B/P,UAAUyS,4BAA8B,SAAUF,GAG3E,OAFArG,EAAO2F,MAAM,2BAA4BU,EAAS7E,iBAEf,IAAxB6E,EAAS7E,YAIQ,MAAxB6E,EAAS7E,WAHJ,GAOL+B,EAAoB8C,EAAS7E,YACxB6E,EAAS5E,KAGX,IAGToC,EAA2B/P,UAAUwS,sBAAwB,SAAUzG,GACrE,IAAIuH,EAAqBvH,EAAQ,kBAAoBA,EAAQ,sBAE3B,IAAvBuH,IACTlT,KAAK0S,yBAA2BQ,EAChCpH,EAAO2F,MAAM,qDAAsDzR,KAAK0S,4BAI5E/C,EAA2B/P,UAAU8R,gCAAkC,WACrE,IAAInD,EAAQvO,KAEZA,KAAKsQ,MAAMf,IAAIvP,KAAKuQ,UAAUsC,MAAK,SAAU/C,GACvCvB,EAAMuC,YAAcvC,EAAMiC,uBAAsC,KAAbV,IACrDhE,EAAO2F,MAAM,6BACblD,EAAMqC,gBAAkBd,EAExBvB,EAAMsC,2BAKLlB,EArQT,GAwQA5Q,EAAA,QAAkB4Q,qCCxUlBvQ,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAIuL,EAA2B,EAAQ,MAEvCpU,EAAQ4Q,2BAA6BwD,EAAyBpN,yCCrB9D3G,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAQT,IAAIwL,EAEJ,WACE,SAASA,KAYT,OALAA,EAAiBxT,UAAUyT,YAAc,SAAUC,KAK5CF,EAbT,GAgBArU,EAAQqU,iBAAmBA,EAC3B,IAAIG,EAAqB,IAAIH,EAU7BrU,EAAQyU,gBAJR,SAAyBC,GACvBF,EAAqBE,GAavB1U,EAAQ2U,gBAJR,WACE,OAAOH,GAYTxU,EAAQ4U,kBAJR,WACEJ,EAAqB,IAAIH,sCCtD3B,SAASQ,EAASC,GAChB,IAAK,IAAIhT,KAAKgT,EACP9U,EAAQc,eAAegB,KAAI9B,EAAQ8B,GAAKgT,EAAEhT,IAInDzB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBTgM,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,0CC7BjB,IAAIE,EAAiB9T,MAAQA,KAAK8T,gBAAkB,WAClD,IAAK,IAAI/E,EAAI,EAAGxP,EAAI,EAAGwU,EAAKvU,UAAUC,OAAQF,EAAIwU,EAAIxU,IACpDwP,GAAKvP,UAAUD,GAAGE,OAGf,IAAIuU,EAAIrL,MAAMoG,GAAIkF,EAAI,EAA3B,IAA8B1U,EAAI,EAAGA,EAAIwU,EAAIxU,IAC3C,IAAK,IAAI+I,EAAI9I,UAAUD,GAAI2U,EAAI,EAAGC,EAAK7L,EAAE7I,OAAQyU,EAAIC,EAAID,IAAKD,IAC5DD,EAAEC,GAAK3L,EAAE4L,GAIb,OAAOF,GAGT5U,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwM,EAAiB,EAAQ,MAEzBlF,EAAiB,EAAQ,MAEzBmF,EAAW,EAAQ,MAEnBC,EAAmB,CACrBC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,GAGT,SAASC,EAAeC,GACtB,MAAqB,iBAAVA,EACFA,GAKK,UAFdA,EAAQA,EAAMC,iBAGZD,EAAQ,WAGLP,EAAiBO,GAIfP,EAAiBO,GAHfA,GAMX,IAAIE,EAEJ,WACE,SAASA,IACP/U,KAAKgV,oBAAsB,IAAIC,EAC/BjV,KAAKkV,QAAU,GAiBjB,OAdAH,EAAkBnV,UAAUmM,UAAY,SAAUvH,GAChD,OAAKA,GAIAxE,KAAKkV,QAAQ1Q,KAChBxE,KAAKkV,QAAQ1Q,GAAQ,IAAIyQ,EAAiB,CACxCE,cAAe3Q,KAIZxE,KAAKkV,QAAQ1Q,IATXxE,KAAKgV,qBAYTD,EApBT,GAuBIK,EAEJ,WAME,SAASA,EAAkBxF,QACV,IAAXA,IACFA,EAAS,IAGX5P,KAAKqV,SAAWhB,EAASiB,SAASf,YAEVpR,IAApByM,EAAOyF,UAA0BnG,EAAeqG,YAAYlB,EAASiB,SAAU1F,EAAOyF,WACxFrV,KAAKwV,YAAY5F,EAAOyF,UAG1BrV,KAAKyV,kBAAuCtS,IAAxByM,EAAO6F,gBAA+B7F,EAAO6F,aACjEzV,KAAK0V,YAA2BvS,IAAlByM,EAAO8F,OAAuB9F,EAAO8F,OAAS,eA6G9D,OApGAN,EAAkBxV,UAAU+V,IAAM,SAAUd,EAAO5C,GACjD,GAAKjS,KAAK4V,UAAUf,IAAW7U,KAAKyV,aAApC,CAIA,IAAII,EAAa7V,KAAK0V,OAAS,MAAQ1V,KAAK8V,gBAAgBjB,GAAS,IAAM7U,KAAK+V,UAAY,IAAM9D,EAClGjS,KAAKgW,WAAWnB,EAAO,CAACgB,MAQ1BT,EAAkBxV,UAAU4V,YAAc,SAAUX,GAClDA,EAAQD,EAAeC,GAElB3F,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG3D7U,KAAKqV,SAAWR,EAFhB7U,KAAKqV,SAAWhB,EAASiB,SAASX,OAWtCS,EAAkBxV,UAAUmW,QAAU,WACpC,OAAO,IAAIxS,MAAO0S,eAUpBb,EAAkBxV,UAAUgW,UAAY,SAAUM,GAChD,OAAOA,GAAkBlW,KAAKqV,UAUhCD,EAAkBxV,UAAUkW,gBAAkB,SAAUT,GACtD,OAAQA,GACN,KAAKhB,EAASiB,SAASd,MACrB,MAAO,QAET,KAAKH,EAASiB,SAASb,KACrB,MAAO,QAET,KAAKJ,EAASiB,SAASZ,QACrB,MAAO,QAET,KAAKL,EAASiB,SAASX,MACrB,MAAO,QAET,QACE,MAAO,WAWbS,EAAkBxV,UAAUoW,WAAa,SAAUX,EAAUc,GAC3D,OAAQd,GACN,KAAKhB,EAASiB,SAASd,MACrB4B,QAAQT,IAAI5V,MAAMqW,QAASD,GAC3B,MAEF,KAAK9B,EAASiB,SAASb,KACrB2B,QAAQ9D,KAAKvS,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASZ,QACrB0B,QAAQjF,KAAKpR,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASX,MACrByB,QAAQxI,MAAM7N,MAAMqW,QAASD,GAC7B,MAEF,QACEC,QAAQT,IAAI5V,MAAMqW,QAASD,KAI1Bf,EA/HT,GAkIArW,EAAQqW,kBAAoBA,EAC5B,IAAIiB,EAAiBhC,EAASiB,SAASf,OACnC+B,EAAmB,KAEnBrB,EAEJ,WACE,SAASA,EAAiBsB,QACX,IAATA,IACFA,EAAO,IAGTvW,KAAKmV,cAAgB,GAEjBoB,EAAKpB,gBACPnV,KAAKmV,cAAgBoB,EAAKpB,eAuH9B,OA7GAF,EAAiBrV,UAAU+V,IAAM,SAAUd,EAAO5C,GAGhD,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK0W,YAAY9B,EAAeC,GAAQ,CACtC5C,QAASA,EACTuE,MAAOA,KAIXvB,EAAiBrV,UAAU0S,KAAO,SAAUL,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASb,KAAMxC,EAASuE,IAGjDvB,EAAiBrV,UAAU6R,MAAQ,SAAUQ,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASd,MAAOvC,EAASuE,IAGlDvB,EAAiBrV,UAAUuR,KAAO,SAAUc,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASZ,QAASzC,EAASuE,IAGpDvB,EAAiBrV,UAAUgO,MAAQ,SAAUqE,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASX,MAAO1C,EAASuE,IAGlDvB,EAAiBrV,UAAUgX,OAAS,SAAUC,GAC5C,OAAa7W,KAAKmV,cAAgBnV,KAAKmV,cAAgB,KAAO,IAAMjG,EAAe8B,QAAQjR,WAAM,EAAQ+T,EAAe,CAAC+C,EAAK5E,SAAU4E,EAAKL,SAG/IvB,EAAiBrV,UAAU8W,YAAc,SAAU7B,EAAOgC,GACnDP,IAIDzB,EAAQwB,IAIZC,EAAiBX,IAAId,EAAO7U,KAAK4W,OAAOC,IAEpCA,EAAKjJ,OAASiJ,EAAKjJ,iBAAiBhB,OACtCwH,EAAeV,kBAAkBL,YAAYwD,EAAKjJ,UAItDqH,EAAiBrV,UAAU+W,SAAW,SAAU9B,EAAO5C,EAASuE,GAC9D,IAAI5I,EAEJ,GAAIqE,aAAmBrF,MAQrB,OANAqF,GADArE,EAAQqE,GACQA,aAChBjS,KAAK0W,YAAY7B,EAAO,CACtBjH,MAAOA,EACPqE,QAASA,EACTuE,MAAOA,IAKX,GAAqB,IAAjBA,EAAM/W,OAAV,CAQA,IAAIqX,EAAON,EAAMA,EAAM/W,OAAS,GAE5BqX,aAAgBlK,QAClBgB,EAAQkJ,EACRN,EAAMO,QAAQ,IAGhB/W,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTrE,MAAOA,EACP4I,MAAOA,SAjBPxW,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTuE,MAAOA,KAmBNvB,EAhIT,GAmII+B,EAAmB,IAAIjC,EAM3BhW,EAAQgN,UAJR,SAAmBvH,GACjB,OAAOwS,EAAiBjL,UAAUvH,IASpCzF,EAAQkY,cAJR,SAAuBnL,GACrBwK,EAAmBxK,GAerB/M,EAAQyW,YAVR,SAAqBX,GACnBA,EAAQD,EAAeC,GAKrBwB,EAHGnH,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG1CA,EAFAR,EAASiB,SAASX,OAYvC5V,EAAQmY,YAJR,WACE,OAAOb,GAaTtX,EAAQoY,YALR,WACEH,EAAmB,IAAIjC,EACvBsB,EAAiBhC,EAASiB,SAASf,yCC5YrCnV,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAoBT,SAAW0N,GACTA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,QALpC,CAMcvW,EAAQuW,WAAavW,EAAQuW,SAAW,wCC3BtDlW,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwP,EAAS,EAAQ,MAkDrB,SAASC,EAAa/W,GACpB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,OAAOW,EAAIX,MA9CfZ,EAAQuY,aAJR,WACE,OAAOF,EAAOG,MAShBxY,EAAQyY,aAJR,WACE,OAAO,IAAIjU,MAAOwS,WA2BpBhX,EAAQwW,YAdR,SAAqBkC,EAAa7P,GAIhC,IAHA,IAAI8P,GAAQ,EACRjX,EAAOrB,OAAOqB,KAAKgX,GAEdpT,EAAQ,EAAGA,EAAQ5D,EAAKhB,OAAQ4E,IACvC,GAAIuD,IAAU6P,EAAYhX,EAAK4D,IAAS,CACtCqT,GAAQ,EACR,MAIJ,OAAOA,GAeT3Y,EAAQ4Y,QAVR,SAAiBC,EAAKC,GACpB,IAAIC,EAAU,GAMd,OALAF,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAMkY,EAAUE,GACpBD,EAAQnY,GAAOmY,EAAQnY,IAAQ,GAC/BmY,EAAQnY,GAAK8C,KAAKsV,MAEbV,EAAaS,IAWtB/Y,EAAQsY,aAAeA,EAQvBtY,EAAQiZ,cANR,SAAuB1X,GACrB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,MAAO,CAACA,EAAKW,EAAIX,QAqBrBZ,EAAQkZ,KAfR,SAAcL,EAAKM,GAGjB,IAFA,IAAIR,EAEKjB,EAAK,EAAG0B,EAAQP,EAAKnB,EAAK0B,EAAM1Y,OAAQgX,IAAM,CACrD,IAAIsB,EAAOI,EAAM1B,GAEjB,GAAIyB,EAAKH,GAAO,CACdL,EAAQK,EACR,OAIJ,OAAOL,GAcT3Y,EAAQqZ,MATR,SAAeR,EAAKS,GAClB,IAAIhR,EAAM,GAKV,OAJAuQ,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAM0Y,EAAQN,GAClB1Q,EAAI1H,GAAOoY,KAEN1Q,GA2BTtI,EAAQiS,QAtBR,SAAiB4F,GAGf,IAFA,IAAI0B,EAAO,GAEF7B,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtC6B,EAAK7B,EAAK,GAAKjX,UAAUiX,GAG3B,IAAIlX,EAAI,EACR,OAAOqX,EAAOvT,QAAQ,OAAO,WAC3B,IAAIsL,EAAM2J,EAAK/Y,KACXgZ,SAAc5J,EAElB,MAAa,aAAT4J,EACK5J,IACW,WAAT4J,EACF5J,EAEAF,OAAOE,OAmDpB,SAAW6J,GACTA,EAA6B,SAAI,4DACjCA,EAA6B,SAAI,kDACjCA,EAA8B,UAAI,qBAClCA,EAA6C,yBAAI,2BACjDA,EAA0B,MAAI,0DALhC,CAMwBzZ,EAAQyZ,qBAAuBzZ,EAAQyZ,mBAAqB,2BC7LpF,IAAIC,EAAK,EAAQ,MAEblB,EAAK,EAAQ,MAEbmB,EAAOnB,EACXmB,EAAKD,GAAKA,EACVC,EAAKnB,GAAKA,EACVzY,EAAOC,QAAU2Z,oBCDjB,IAFA,IAAIC,EAAY,GAEPpZ,EAAI,EAAGA,EAAI,MAAOA,EACzBoZ,EAAUpZ,IAAMA,EAAI,KAAOqZ,SAAS,IAAIxU,OAAO,GAUjDtF,EAAOC,QAPP,SAAqB8Z,EAAKC,GACxB,IAAIvZ,EAAIuZ,GAAU,EACdC,EAAMJ,EAEV,MAAO,CAACI,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,OAAOgI,KAAK,uBCRnR,IAAIyR,EAAmC,oBAAVC,QAAyBA,OAAOD,iBAAmBC,OAAOD,gBAAgBE,KAAKD,SAA8B,oBAAZE,UAAqE,mBAAnCjU,OAAOiU,SAASH,iBAAiCG,SAASH,gBAAgBE,KAAKC,UAE/O,GAAIH,EAAiB,CAEnB,IAAII,EAAQ,IAAIC,WAAW,IAE3Bva,EAAOC,QAAU,WAEf,OADAia,EAAgBI,GACTA,OAEJ,CAKL,IAAIE,EAAO,IAAI3Q,MAAM,IAErB7J,EAAOC,QAAU,WACf,IAAK,IAAWiV,EAAPzU,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiByU,EAAoB,WAAhBhN,KAAK6D,UAC/ByO,EAAK/Z,GAAKyU,MAAY,EAAJzU,IAAa,GAAK,IAGtC,OAAO+Z,0BC7BX,IAQIC,EAEAC,EAVAC,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAWtBC,EAAa,EACbC,EAAa,EAkFjB9a,EAAOC,QAhFP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EACrBvQ,EAAIsQ,GAAO,GAEXgB,GADJ3X,EAAUA,GAAW,IACF2X,MAAQN,EACvBO,OAAgC3W,IAArBjB,EAAQ4X,SAAyB5X,EAAQ4X,SAAWN,EAInE,GAAY,MAARK,GAA4B,MAAZC,EAAkB,CACpC,IAAIC,EAAYN,IAEJ,MAARI,IAEFA,EAAON,EAAU,CAAgB,EAAfQ,EAAU,GAAWA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAG3F,MAAZD,IAEFA,EAAWN,EAAiD,OAApCO,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIC,OAA0B7W,IAAlBjB,EAAQ8X,MAAsB9X,EAAQ8X,OAAQ,IAAIzW,MAAOwS,UAGjEkE,OAA0B9W,IAAlBjB,EAAQ+X,MAAsB/X,EAAQ+X,MAAQL,EAAa,EAEnEM,EAAKF,EAAQL,GAAcM,EAAQL,GAAc,IAarD,GAXIM,EAAK,QAA0B/W,IAArBjB,EAAQ4X,WACpBA,EAAWA,EAAW,EAAI,QAKvBI,EAAK,GAAKF,EAAQL,SAAiCxW,IAAlBjB,EAAQ+X,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAIrN,MAAM,mDAGlB+M,EAAaK,EACbJ,EAAaK,EACbT,EAAYM,EAIZ,IAAIK,GAA4B,KAAb,WAFnBH,GAAS,cAE+BC,GAAS,WACjD1R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,EAAI,IACpB5R,EAAEhJ,KAAY,IAAL4a,EAET,IAAIC,EAAMJ,EAAQ,WAAc,IAAQ,UACxCzR,EAAEhJ,KAAO6a,IAAQ,EAAI,IACrB7R,EAAEhJ,KAAa,IAAN6a,EAET7R,EAAEhJ,KAAO6a,IAAQ,GAAK,GAAM,GAE5B7R,EAAEhJ,KAAO6a,IAAQ,GAAK,IAEtB7R,EAAEhJ,KAAOua,IAAa,EAAI,IAE1BvR,EAAEhJ,KAAkB,IAAXua,EAET,IAAK,IAAI9K,EAAI,EAAGA,EAAI,IAAKA,EACvBzG,EAAEhJ,EAAIyP,GAAK6K,EAAK7K,GAGlB,OAAO6J,GAAYa,EAAYnR,0BC7FjC,IAAIkR,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAyB1B5a,EAAOC,QAvBP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EAEH,iBAAX5W,IACT2W,EAAkB,WAAZ3W,EAAuB,IAAIyG,MAAM,IAAM,KAC7CzG,EAAU,MAIZ,IAAIoX,GADJpX,EAAUA,GAAW,IACF2I,SAAW3I,EAAQuX,KAAOA,KAK7C,GAHAH,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBT,EACF,IAAK,IAAIwB,EAAK,EAAGA,EAAK,KAAMA,EAC1BxB,EAAItZ,EAAI8a,GAAMf,EAAKe,GAIvB,OAAOxB,GAAOa,EAAYJ,qCCtB5Bla,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,uCCDTxI,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQub,sBAAwBvb,EAAQwb,SAAWxb,EAAQyb,wBAA0Bzb,EAAQ0b,4BAA8B1b,EAAQ2b,mBAAqB3b,EAAQ4b,4BAAyB,EAEzL,IAAIC,EAAe,EAAQ,MAEvB3L,EAAmB,EAAQ,KAE3BC,EAAiB,EAAQ,MAE7BnQ,EAAQ4b,uBAAyB,IAEjC5b,EAAQ2b,mBAAqB,GAC7B,IAAI5O,EAASmD,EAAiBlD,UAAU,kBAWxChN,EAAQ0b,4BATR,SAAqCI,GAMnC,OALIA,GAAiB,IACnB/O,EAAOqF,KAAK,yBAA2B0J,EAAgB,mBAAqB9b,EAAQ4b,wBACpFE,EAAgB9b,EAAQ4b,wBAGnBE,GAiBT9b,EAAQyb,wBAZR,SAAiCM,GAS/B,OARAA,EAAY9T,KAAK+T,MAAMD,IAEP,IACdhP,EAAOqF,KAAK,qBAAuB2J,EAAY,mBAAqB/b,EAAQ2b,oBAC5EI,EAAY/b,EAAQ2b,oBAGtBI,EAAY9T,KAAKD,IAAI,EAAG+T,IAyB1B/b,EAAQwb,SAnBR,SAAkBO,EAAWD,EAAeG,EAAMC,GAgBhD,OAbIH,EAAY,EACN,IAAIF,EAAaM,kBAAkB,CACzCL,cAAeA,EACfM,aAAcL,EACdE,KAAMA,EACNC,gBAAiBA,IAGX,IAAIL,EAAaQ,iBAAiB,CACxCJ,KAAMA,KAeZjc,EAAQub,sBANR,SAA+Be,EAAoBC,GAC7CD,GACFA,EAAmBE,kBAAkBrM,EAAesJ,mBAAmBgD,UAAWF,uCCjDtFlc,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQmc,kBAAoBnc,EAAQqc,sBAAmB,EAEvD,IAEItP,EAFmB,EAAQ,KAEDC,UAAU,kBAEpC0P,EAEJ,WACE,SAASA,EAAM1L,GACb,IAAItC,EAAUsC,EAAGtC,QACbiO,EAAW3L,EAAG2L,SAClB1b,KAAKyN,QAAUzG,KAAKD,IAAI0G,EAAS,GACjCzN,KAAK0b,SAAWA,EAkBlB,OAfAD,EAAM7b,UAAU4R,MAAQ,WACtBxR,KAAK2b,UAAY1I,WAAWjT,KAAK0b,SAAU1b,KAAKyN,UAGlDgO,EAAM7b,UAAUgc,QAAU,WACxB5b,KAAK4R,OACL5R,KAAKwR,SAGPiK,EAAM7b,UAAUgS,KAAO,WACjB5R,KAAK2b,WACP9J,aAAa7R,KAAK2b,YAIfF,EAvBT,GA0BIL,EAEJ,WACE,SAASA,EAAiBrL,GACxB,IAAIiL,EAAOjL,EAAGiL,KACdhb,KAAKgb,KAAOA,EAed,OAZAI,EAAiBxb,UAAU4R,MAAQ,aAGnC4J,EAAiBxb,UAAUgS,KAAO,WAEhC,OAAO/N,QAAQ4B,WAGjB2V,EAAiBxb,UAAUic,QAAU,SAAUP,GAC7Ctb,KAAKgb,KAAK,CAACM,KAGNF,EAlBT,GAqBArc,EAAQqc,iBAAmBA,EAE3B,IAAIF,EAEJ,WACE,SAASA,EAAkBnL,GACzB,IAAI8K,EAAgB9K,EAAG8K,cACnBM,EAAepL,EAAGoL,aAClBH,EAAOjL,EAAGiL,KACVC,EAAkBlL,EAAGkL,gBACzBjb,KAAK8b,OAAS,GACd9b,KAAKmb,aAAenU,KAAKD,IAAIoU,EAAc,GAC3Cnb,KAAKgb,KAAOA,EACZhb,KAAKib,gBAAkBA,EACvBjb,KAAK+b,MAAQ,IAAIN,EAAM,CACrBC,SAAU1b,KAAKgc,MAAM9C,KAAKlZ,MAC1ByN,QAASoN,IAEX7a,KAAKic,SAAU,EA+CjB,OA5CAf,EAAkBtb,UAAU4R,MAAQ,WAClCxR,KAAKic,SAAU,GAGjBf,EAAkBtb,UAAUgS,KAAO,WACjC5R,KAAKic,SAAU,EACf,IAAIC,EAASlc,KAAKgb,KAAKhb,KAAK8b,QAG5B,OAFA9b,KAAK8b,OAAS,GACd9b,KAAK+b,MAAMnK,OACJsK,GAGThB,EAAkBtb,UAAUic,QAAU,SAAUP,GAC9C,GAAKtb,KAAKic,QAAV,CAOA,IAAIE,EAAgBnc,KAAK8b,OAAO,GAE5BK,IAAkBnc,KAAKib,gBAAgBkB,EAAeb,IACxDtb,KAAKgc,QAIoB,IAAvBhc,KAAK8b,OAAOrc,QACdO,KAAK+b,MAAMH,UAGb5b,KAAK8b,OAAOrZ,KAAK6Y,GAEbtb,KAAK8b,OAAOrc,QAAUO,KAAKmb,cAC7Bnb,KAAKgc,aApBLlQ,EAAOqF,KAAK,0CAwBhB+J,EAAkBtb,UAAUoc,MAAQ,WAClChc,KAAKgb,KAAKhb,KAAK8b,QACf9b,KAAK8b,OAAS,GACd9b,KAAK+b,MAAMnK,QAGNsJ,EA7DT,GAgEAnc,EAAQmc,kBAAoBA,mCC/I5B9b,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQqd,2BAAwB,EAQhCrd,EAAQqd,sBANR,SAA+BC,EAAQC,GACrC,IAAIC,EAAWF,EAAOG,QAClBC,EAAWH,EAAOE,QACtB,OAAOD,EAASG,YAAcD,EAASC,WAAaH,EAASI,YAAcF,EAASE,WAAaJ,EAASK,aAAeH,EAASG,YAAcL,EAASM,gBAAkBJ,EAASI,eAAiBN,EAASO,WAAaL,EAASK,UAAYP,EAASQ,cAAgBN,EAASM,aAAeR,EAASS,eAAiBP,EAASO,iDCOtU,IAAIC,EAAkBjd,MAAQA,KAAKid,kBAAoB7d,OAAOgB,OAAS,SAAUQ,EAAGiT,EAAGI,EAAGiJ,QAC7E/Z,IAAP+Z,IAAkBA,EAAKjJ,GAC3B7U,OAAOiL,eAAezJ,EAAGsc,EAAI,CAC3BC,YAAY,EACZ5N,IAAK,WACH,OAAOsE,EAAEI,OAGX,SAAUrT,EAAGiT,EAAGI,EAAGiJ,QACV/Z,IAAP+Z,IAAkBA,EAAKjJ,GAC3BrT,EAAEsc,GAAMrJ,EAAEI,KAGRmJ,EAAepd,MAAQA,KAAKod,cAAgB,SAAUvJ,EAAG9U,GAC3D,IAAK,IAAI8B,KAAKgT,EACF,YAANhT,GAAoBzB,OAAOQ,UAAUC,eAAeC,KAAKf,EAAS8B,IAAIoc,EAAgBle,EAAS8U,EAAGhT,IAI1GzB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGTwV,EAAa,EAAQ,MAAare,GAElCqe,EAAa,EAAQ,MAAqBre,GAE1Cqe,EAAa,EAAQ,MAAsBre,GAE3Cqe,EAAa,EAAQ,MAAcre,GAEnCqe,EAAa,EAAQ,IAA8Bre,GAEnDqe,EAAa,EAAQ,IAAsBre,GAE3Cqe,EAAa,EAAQ,MAA0Bre,oCClD/CK,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,qCCDT,IACMoD,EADFC,EAAYjL,MAAQA,KAAKiL,YACvBD,EAAiB,SAAuBE,EAAG3C,GAW7C,OAVAyC,EAAiB5L,OAAOa,gBAAkB,CACxCa,UAAW,cACA6H,OAAS,SAAUuC,EAAG3C,GACjC2C,EAAEpK,UAAYyH,IACX,SAAU2C,EAAG3C,GAChB,IAAK,IAAI1H,KAAK0H,EACRnJ,OAAOQ,UAAUC,eAAeC,KAAKyI,EAAG1H,KAAIqK,EAAErK,GAAK0H,EAAE1H,KAItDmK,EAAeE,EAAG3C,IAGpB,SAAU2C,EAAG3C,GAGlB,SAAS4C,IACPnL,KAAKK,YAAc6K,EAHrBF,EAAeE,EAAG3C,GAMlB2C,EAAEtL,UAAkB,OAAN2I,EAAanJ,OAAOgB,OAAOmI,IAAM4C,EAAGvL,UAAY2I,EAAE3I,UAAW,IAAIuL,KAInF/L,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQse,oCAAsCte,EAAQue,6BAA0B,EAiBhF,IAAIrO,EAAmB,EAAQ,KAE3BsO,EAAuB,EAAQ,MAE/BrO,EAAiB,EAAQ,MAEzBpD,EAASmD,EAAiBlD,UAAU,kBAEpCuR,EAEJ,WACE,SAASA,EAAwBvN,GAC/B,IAAIyN,EAAkBzN,EAAGyN,gBACrBC,EAAQ1N,EAAG0N,MACfzd,KAAK0d,WAAaF,EAClBxd,KAAKyd,MAAQA,EAkCf,OA/BAH,EAAwB1d,UAAU+d,cAAgB,SAAUC,EAASlC,GACnE1b,KAAK6N,KAAK,CACR6K,KAAMxJ,EAAeoI,eACrBuG,UAAW3O,EAAesI,eAC1BoG,QAASA,GACRlC,IAGL4B,EAAwB1d,UAAUke,kBAAoB,WACpD,IAAIvP,EAAQvO,KAER+d,EAAgB/d,KAAKyd,MAAMO,SAC/BlS,EAAO2F,MAAM,+CAAgDsM,EAActe,QAC3Ese,EAAcha,SAAQ,SAAUgU,GAC9B,IACExJ,EAAMV,KAAKkK,GAAM,eACjB,MAAOpU,SAIb2Z,EAAwB1d,UAAUiO,KAAO,SAAUoQ,EAAOvC,GACxD,IAAInN,EAAQvO,KAEZA,KAAKyd,MAAMjO,IAAIyO,EAAMvF,KAAMuF,GAC3Bje,KAAK0d,WAAWC,cAAcM,EAAML,SAAS,SAAUzL,GACrD5D,EAAMkP,MAAM/N,OAAOuO,EAAMvF,MAEzBgD,EAASvJ,OAINmL,EAvCT,GA0CAve,EAAQue,wBAA0BA,EAElC,IAAID,EAEJ,SAAU7R,GAGR,SAAS6R,EAAoCtN,GAC3C,IAAIyN,EAAkBzN,EAAGyN,gBACzB,OAAOhS,EAAO1L,KAAKE,KAAM,CACvBwd,gBAAiBA,EACjBC,MAAO,IAAIF,EAAqBW,kBAAkB,CAEhDC,UAAW,IACXxe,IAAK,+BAEHK,KAGR,OAdAiL,EAAUoS,EAAqC7R,GAcxC6R,EAfT,CAgBEC,GAEFve,EAAQse,oCAAsCA,qCCxH9Cje,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQmf,uBAAoB,EAiB5B,IAAIhP,EAAiB,EAAQ,MAIzBpD,EAFmB,EAAQ,KAEDC,UAAU,kBAEpCmS,EAEJ,WACE,SAASA,EAAkBnO,GACzB,IAAIpQ,EAAMoQ,EAAGpQ,IACTsQ,EAAKF,EAAGoO,UACRA,OAAmB,IAAPlO,EAAgB,IAAOA,EACvCjQ,KAAKoe,OAASze,EACdK,KAAKme,UAAYA,EA8EnB,OA3EAD,EAAkBte,UAAU2P,IAAM,SAAU5P,GAC1C,OAAOK,KAAKqe,SAAS1e,IAAQ,MAG/Bue,EAAkBte,UAAU4P,IAAM,SAAU7P,EAAKiI,GAC/C,IAAIP,EAAMrH,KAAKqe,SACfhX,EAAI1H,GAAOiI,EACX5H,KAAKqD,QAAQgE,IAGf6W,EAAkBte,UAAU8P,OAAS,SAAU/P,GAC7C,IAAI0H,EAAMrH,KAAKqe,gBACRhX,EAAI1H,GACXK,KAAKqD,QAAQgE,IAGf6W,EAAkBte,UAAUoe,OAAS,WACnC,OAAO9O,EAAemI,aAAarX,KAAKqe,WAG1CH,EAAkBte,UAAU0e,MAAQ,WAClCte,KAAKqD,QAAQ,KAGf6a,EAAkBte,UAAUyD,QAAU,SAAUgE,GAC9C,IAEEnC,OAAOqZ,cAAgBA,aAAaC,QAAQxe,KAAKoe,OAAQzL,KAAKC,UAAUvL,IACxErH,KAAKye,QACL,MAAO9a,GACPmI,EAAO8B,MAAMjK,KAIjBua,EAAkBte,UAAU6e,MAAQ,WAClC,IAAIpX,EAAMrH,KAAKqe,SACX5d,EAAOrB,OAAOqB,KAAK4G,GACnBqX,EAAWje,EAAKhB,OAASO,KAAKme,UAElC,KAAIO,EAAW,GAAf,CAIA,IAAIja,EAAUhE,EAAK4G,KAAI,SAAU1H,GAC/B,MAAO,CACLA,IAAKA,EACLiI,MAAOP,EAAI1H,OAGf8E,EAAQ4D,MAAK,SAAUC,EAAGC,GACxB,OAAOD,EAAEV,MAAMiW,UAAYtV,EAAEX,MAAMiW,aAGrC,IAAK,IAAIte,EAAI,EAAGA,EAAImf,EAAUnf,WACrB8H,EAAI5C,EAAQlF,GAAGI,KAGxBK,KAAKqD,QAAQgE,KAGf6W,EAAkBte,UAAUye,OAAS,WACnC,IAEE,IAAIxH,EAAO3R,OAAOqZ,cAAgBA,aAAaI,QAAQ3e,KAAKoe,QAE5D,GAAIvH,EACF,OAAOlE,KAAKiM,MAAM/H,IAAS,GAE7B,MAAOlT,GACPmI,EAAO8B,MAAMjK,GAGf,MAAO,IAGFua,EApFT,GAuFAnf,EAAQmf,kBAAoBA,mCCpG5B9e,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAST,IAAIiX,EAEJ,WACE,SAASA,IACP7e,KAAK8e,kBAAoB,EACzB9e,KAAK+e,sBAAwB,GA+C/B,OAtCAF,EAAejf,UAAUof,aAAe,SAAUC,GAChD,IAAI1Q,EAAQvO,KAEZA,KAAK8e,oBAEL,IAAII,EAAgB,WAClB3Q,EAAMuQ,oBAE0B,IAA5BvQ,EAAMuQ,oBACRvQ,EAAMwQ,sBAAsBhb,SAAQ,SAAUob,GAC5C,OAAOA,OAGT5Q,EAAMwQ,sBAAwB,KAIlCE,EAAWpM,KAAKqM,EAAeA,IASjCL,EAAejf,UAAUwf,mBAAqB,WAC5C,IAAI7Q,EAAQvO,KAEZ,OAAO,IAAI6D,SAAQ,SAAU4B,GACK,IAA5B8I,EAAMuQ,kBACRrZ,IAEA8I,EAAMwQ,sBAAsBtc,KAAKgD,OAKhCoZ,EAlDT,GAqDA9f,EAAA,QAAkB8f,iCChFlB,IAAIhQ,EAAW7O,MAAQA,KAAK6O,UAAY,WAatC,OAZAA,EAAWzP,OAAOC,QAAU,SAAUyP,GACpC,IAAK,IAAIC,EAAGxP,EAAI,EAAGyP,EAAIxP,UAAUC,OAAQF,EAAIyP,EAAGzP,IAG9C,IAAK,IAAIsB,KAFTkO,EAAIvP,UAAUD,GAGRH,OAAOQ,UAAUC,eAAeC,KAAKiP,EAAGlO,KAAIiO,EAAEjO,GAAKkO,EAAElO,IAI7D,OAAOiO,GAGFD,EAAS9O,MAAMC,KAAMR,YAG9BJ,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQsgB,aAAetgB,EAAQugB,uBAAyBvgB,EAAQwgB,uBAAyBxgB,EAAQygB,wBAAqB,EACtH,IAEIC,EAAoB,qBASxB,SAASD,EAAmBE,GAC1B,IAAIC,EAAW,GACX9I,EAAO6I,EAAO,GAclB,OAbAA,EAAO3b,SAAQ,SAAUuX,GACvB,GAAmB,eAAfA,EAAM/C,MAAwC,eAAf+C,EAAM/C,KAAuB,CAC9D,IAAIqH,EAAUC,EAAYvE,GAEP,eAAfA,EAAM/C,KACRqH,EAAQE,UAAUrd,KAAKsd,EAAqBzE,IACpB,eAAfA,EAAM/C,MACfqH,EAAQE,UAAUrd,KAAKud,EAAuB1E,IAGhDqE,EAASld,KAAKmd,OAGX,CACLK,YAAapJ,EAAK2F,QAAQI,WAC1BsD,eAAgBrJ,EAAK2F,QAAQK,cAC7BsD,WAAYtJ,EAAK2F,QAAQE,UACzB0D,WAAYvJ,EAAK2F,QAAQG,UACzBG,SAAUjG,EAAK2F,QAAQM,SACvBuD,aAAcxJ,EAAK2F,QAAQO,YAC3BuD,kBAAkB,EAClBX,SAAUA,GAMd,SAASK,EAAuBO,GAC9B,IAAIC,EAAO3R,EAAS,GAAI0R,EAAWC,aAE5BA,EAAc,eACdA,EAAY,MACnB,IAAIlF,EAAQ,CACVmF,UAAWF,EAAWjF,MAAMoF,GAC5B/gB,IAAK4gB,EAAWjF,MAAM3b,IACtBke,UAAW0C,EAAW1C,UACtBnF,KAAM6H,EAAW7H,MAenB,OAZI6H,EAAWC,OACblF,EAAMkF,KAAOD,EAAWC,MAGF,MAApBD,EAAW3Y,QACb0T,EAAM1T,MAAQ2Y,EAAW3Y,OAGD,MAAtB2Y,EAAWI,UACbrF,EAAMqF,QAAUJ,EAAWI,SAGtB,CACLjB,OAAQ,CAACpE,IAIb,SAASyE,EAAqBzE,GAC5B,IAAIvL,EAAIE,EAEJ2Q,EAAQtF,EAAMsF,MACdC,EAAavF,EAAMuF,WACnBC,EAAYxF,EAAMwF,UAClBC,EAAUzF,EAAMyF,QAChBC,EAAU1F,EAAM0F,QAChBC,EAAW3F,EAAM2F,SACjBC,EAAU5F,EAAM4F,QAChBC,EAAUP,EAAQA,EAAMF,GAAK,KAIjC,MAAO,CACLU,UAAW,CAAC,CACVC,YAAaF,EACbG,cANgG,QAAhFvR,EAAK8Q,MAAAA,OAA+C,EAASA,EAAWH,UAAuB,IAAP3Q,EAAgBA,EAAK,GAO7HwR,aAN4F,QAA7EtR,EAAK6Q,MAAAA,OAA6C,EAASA,EAAUJ,UAAuB,IAAPzQ,EAAgBA,EAAK,GAOzHuR,SAAU,CACRC,SAAUT,EACVU,SAAUX,EACVY,UAAWV,EACXW,cAVad,EAAYA,EAAUnhB,IAAM,GAWzCuhB,QAASA,KAGbxB,OAAQ,CAAC,CACPe,UAAWU,EACXtD,UAAWvC,EAAMuC,UACjBle,IApGmB,qBAqGnB+Y,KAAM4C,EAAM5C,QAKlB,SAASmH,EAAYhJ,GACnB,IAAI+I,EAAU,CACZE,UAAW,GACX+B,WAAYhL,EAAKiL,KAAKpB,GACtBqB,WAAY,IAoBd,OAlBAlL,EAAKiL,KAAKC,WAAWhe,SAAQ,SAAUie,GACrCpC,EAAQmC,WAAWtf,KAAK,CACtBge,UAAWuB,EAAKC,SAChBtiB,IAAKqiB,EAAKriB,IACV4Y,KAAM,SACN3Q,MAAOoa,EAAKpa,WAIyB,kBAA9BiP,EAAK2F,QAAQQ,cACtB4C,EAAQmC,WAAWtf,KAAK,CACtBge,UAAWhB,EACX9f,IAAK8f,EACLlH,KA5H8B,SA6H9B3Q,MAAOiP,EAAK2F,QAAQQ,eAIjB4C,EA3FT7gB,EAAQygB,mBAAqBA,EAoH7BzgB,EAAQwgB,uBAfR,SAAgC1I,GAC9B,IAAI+I,EAAUC,EAAYhJ,GAE1B,OADA+I,EAAQE,UAAUrd,KAAKsd,EAAqBlJ,IACrC,CACLoJ,YAAapJ,EAAK2F,QAAQI,WAC1BsD,eAAgBrJ,EAAK2F,QAAQK,cAC7BsD,WAAYtJ,EAAK2F,QAAQE,UACzB0D,WAAYvJ,EAAK2F,QAAQG,UACzBG,SAAUjG,EAAK2F,QAAQM,SACvBuD,aAAcxJ,EAAK2F,QAAQO,YAC3BuD,kBAAkB,EAClBX,SAAU,CAACC,KAqBf7gB,EAAQugB,uBAfR,SAAgCzI,GAC9B,IAAI+I,EAAUC,EAAYhJ,GAE1B,OADA+I,EAAQE,UAAUrd,KAAKud,EAAuBnJ,IACvC,CACLoJ,YAAapJ,EAAK2F,QAAQI,WAC1BsD,eAAgBrJ,EAAK2F,QAAQK,cAC7BsD,WAAYtJ,EAAK2F,QAAQE,UACzB0D,WAAYvJ,EAAK2F,QAAQG,UACzBG,SAAUjG,EAAK2F,QAAQM,SACvBuD,aAAcxJ,EAAK2F,QAAQO,YAC3BuD,kBAAkB,EAClBX,SAAU,CAACC,KAcf7gB,EAAQsgB,aARR,SAAsBK,GACpB,MAAO,CACLwC,IAAK,wCACLC,SAAU,OACVvb,OAAQ4Y,EAAmBE,wCCtM/B,IAAI0C,EAAYpiB,MAAQA,KAAKoiB,WAAa,SAAUC,EAASC,EAAYC,EAAGC,GAO1E,OAAO,IAAKD,IAAMA,EAAI1e,WAAU,SAAU4B,EAAS0G,GACjD,SAASsW,EAAU7a,GACjB,IACE8a,EAAKF,EAAUG,KAAK/a,IACpB,MAAOjE,GACPwI,EAAOxI,IAIX,SAASif,EAAShb,GAChB,IACE8a,EAAKF,EAAiB,MAAE5a,IACxB,MAAOjE,GACPwI,EAAOxI,IAIX,SAAS+e,EAAKxG,GAvBhB,IAAetU,EAwBXsU,EAAO2G,KAAOpd,EAAQyW,EAAOtU,QAxBlBA,EAwBiCsU,EAAOtU,MAvB9CA,aAAiB2a,EAAI3a,EAAQ,IAAI2a,GAAE,SAAU9c,GAClDA,EAAQmC,OAsBkDiL,KAAK4P,EAAWG,GAG5EF,GAAMF,EAAYA,EAAUziB,MAAMsiB,EAASC,GAAc,KAAKK,YAI9DG,EAAc9iB,MAAQA,KAAK8iB,aAAe,SAAUT,EAAS9U,GAC/D,IASIwV,EACAC,EACAlU,EACAmU,EAZAve,EAAI,CACNwe,MAAO,EACPC,KAAM,WACJ,GAAW,EAAPrU,EAAE,GAAQ,MAAMA,EAAE,GACtB,OAAOA,EAAE,IAEXsU,KAAM,GACNC,IAAK,IAMP,OAAOJ,EAAI,CACTN,KAAMW,EAAK,GACX,MAASA,EAAK,GACd,OAAUA,EAAK,IACI,mBAAXC,SAA0BN,EAAEM,OAAOC,UAAY,WACvD,OAAOxjB,OACLijB,EAEJ,SAASK,EAAKtU,GACZ,OAAO,SAAUyU,GACf,OAIJ,SAAcC,GACZ,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAE3B,KAAOjf,GACL,IACE,GAAIqe,EAAI,EAAGC,IAAMlU,EAAY,EAAR4U,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOlU,EAAIkU,EAAU,SAAMlU,EAAEhP,KAAKkjB,GAAI,GAAKA,EAAEL,SAAW7T,EAAIA,EAAEhP,KAAKkjB,EAAGU,EAAG,KAAKb,KAAM,OAAO/T,EAG3J,OAFIkU,EAAI,EAAGlU,IAAG4U,EAAK,CAAS,EAARA,EAAG,GAAQ5U,EAAElH,QAEzB8b,EAAG,IACT,KAAK,EACL,KAAK,EACH5U,EAAI4U,EACJ,MAEF,KAAK,EAEH,OADAhf,EAAEwe,QACK,CACLtb,MAAO8b,EAAG,GACVb,MAAM,GAGV,KAAK,EACHne,EAAEwe,QACFF,EAAIU,EAAG,GACPA,EAAK,CAAC,GACN,SAEF,KAAK,EACHA,EAAKhf,EAAE2e,IAAI7Z,MAEX9E,EAAE0e,KAAK5Z,MAEP,SAEF,QACE,KAAMsF,EAAIpK,EAAE0e,MAAMtU,EAAIA,EAAErP,OAAS,GAAKqP,EAAEA,EAAErP,OAAS,KAAkB,IAAVikB,EAAG,IAAsB,IAAVA,EAAG,IAAW,CACtFhf,EAAI,EACJ,SAGF,GAAc,IAAVgf,EAAG,MAAc5U,GAAK4U,EAAG,GAAK5U,EAAE,IAAM4U,EAAG,GAAK5U,EAAE,IAAK,CACvDpK,EAAEwe,MAAQQ,EAAG,GACb,MAGF,GAAc,IAAVA,EAAG,IAAYhf,EAAEwe,MAAQpU,EAAE,GAAI,CACjCpK,EAAEwe,MAAQpU,EAAE,GACZA,EAAI4U,EACJ,MAGF,GAAI5U,GAAKpK,EAAEwe,MAAQpU,EAAE,GAAI,CACvBpK,EAAEwe,MAAQpU,EAAE,GAEZpK,EAAE2e,IAAI5gB,KAAKihB,GAEX,MAGE5U,EAAE,IAAIpK,EAAE2e,IAAI7Z,MAEhB9E,EAAE0e,KAAK5Z,MAEP,SAGJka,EAAKnW,EAAKzN,KAAKuiB,EAAS3d,GACxB,MAAOf,GACP+f,EAAK,CAAC,EAAG/f,GACTqf,EAAI,EACJ,QACAD,EAAIjU,EAAI,EAIZ,GAAY,EAAR4U,EAAG,GAAQ,MAAMA,EAAG,GACxB,MAAO,CACL9b,MAAO8b,EAAG,GAAKA,EAAG,QAAK,EACvBb,MAAM,GAlFCH,CAAK,CAAC1T,EAAGyU,OAuFlBrY,EAAkBpL,MAAQA,KAAKoL,iBAAmB,SAAUC,GAC9D,OAAOA,GAAOA,EAAInM,WAAamM,EAAM,CACnC,QAAWA,IAIfjM,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAET7I,EAAQ6kB,6BAA0B,EAiBlC,IAAI3U,EAAmB,EAAQ,KAE3B4U,EAAmB,EAAQ,MAE3BC,EAAmB1Y,EAAgB,EAAQ,OAE3C2Y,EAAW,EAAQ,MAEnBC,EAAiB,EAAQ,IAEzBlY,EAASmD,EAAiBlD,UAAU,2BAEpC6X,EAEJ,WACE,SAASA,EAAwB7T,GAC/B,IAAI2N,EAAa3N,EAAG2N,WAChBzN,EAAKF,EAAG8K,cACRA,OAAuB,IAAP5K,EAAgB4T,EAAiBlJ,uBAAyB1K,EAC1EE,EAAKJ,EAAG+K,UACRA,OAAmB,IAAP3K,EAAgB0T,EAAiBnJ,mBAAqBvK,EAClEkL,EAAqBtL,EAAGsL,mBAC5Brb,KAAK0d,WAAaA,EAClB1d,KAAKqb,mBAAqBA,EAC1Brb,KAAKikB,eAAiB,IAAIH,EAAiB/d,QAC3C8U,EAAgBgJ,EAAiBpJ,4BAA4BI,GAC7DC,EAAY+I,EAAiBrJ,wBAAwBM,GACrD9a,KAAKkkB,MAAQL,EAAiBtJ,SAASO,EAAWD,EAAe7a,KAAKmkB,WAAWjL,KAAKlZ,MAAO+jB,EAAS3H,uBAqDxG,OAlDAwH,EAAwBhkB,UAAUukB,WAAa,SAAUrI,GACvD,IAAIvN,EAAQvO,KAERif,EAAa,IAAIpb,SAAQ,SAAU4B,GAGrC,GAFAqG,EAAO2F,MAAM,gCAAiCqK,EAAOrc,QAE/B,IAAlBqc,EAAOrc,OAAX,CAKA,IAAI2kB,EAAiBJ,EAAe3E,aAAavD,GAEjDvN,EAAMmP,WAAWC,cAAcyG,GAAgB,WAC7C3e,OAGFoe,EAAiBvJ,sBAAsB/L,EAAM8M,mBAAoB+I,QAV/D3e,OAaJ,OADAzF,KAAKikB,eAAejF,aAAaC,GAC1BA,GAGT2E,EAAwBhkB,UAAUykB,QAAU,SAAU/I,GACpDtb,KAAKkkB,MAAMrI,QAAQP,IAGrBsI,EAAwBhkB,UAAUgS,KAAO,WAEvC,IAEE,OADA5R,KAAKkkB,MAAMtS,OACJ5R,KAAKikB,eAAe7E,qBAC3B,MAAOzb,GACPmI,EAAO8B,MAAM,sCAAuCjK,EAAEsO,QAAStO,GAGjE,OAAOE,QAAQ4B,WAGjBme,EAAwBhkB,UAAU4R,MAAQ,WACxC,OAAO4Q,EAAUpiB,UAAM,OAAQ,GAAQ,WACrC,OAAO8iB,EAAY9iB,MAAM,SAAU+P,GAEjC,OADA/P,KAAKkkB,MAAM1S,QACJ,CAAC,UAOPoS,EAlET,GAqEA7kB,EAAQ6kB,wBAA0BA,mCC5PlCxkB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAQT,IAAIwL,EAEJ,WACE,SAASA,KAYT,OALAA,EAAiBxT,UAAUyT,YAAc,SAAUC,KAK5CF,EAbT,GAgBArU,EAAQqU,iBAAmBA,EAC3B,IAAIG,EAAqB,IAAIH,EAU7BrU,EAAQyU,gBAJR,SAAyBC,GACvBF,EAAqBE,GAavB1U,EAAQ2U,gBAJR,WACE,OAAOH,GAYTxU,EAAQ4U,kBAJR,WACEJ,EAAqB,IAAIH,qCCtD3B,SAASQ,EAASC,GAChB,IAAK,IAAIhT,KAAKgT,EACP9U,EAAQc,eAAegB,KAAI9B,EAAQ8B,GAAKgT,EAAEhT,IAInDzB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBTgM,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,MAEjBA,EAAS,EAAQ,wCC7BjB,IAAIE,EAAiB9T,MAAQA,KAAK8T,gBAAkB,WAClD,IAAK,IAAI/E,EAAI,EAAGxP,EAAI,EAAGwU,EAAKvU,UAAUC,OAAQF,EAAIwU,EAAIxU,IACpDwP,GAAKvP,UAAUD,GAAGE,OAGf,IAAIuU,EAAIrL,MAAMoG,GAAIkF,EAAI,EAA3B,IAA8B1U,EAAI,EAAGA,EAAIwU,EAAIxU,IAC3C,IAAK,IAAI+I,EAAI9I,UAAUD,GAAI2U,EAAI,EAAGC,EAAK7L,EAAE7I,OAAQyU,EAAIC,EAAID,IAAKD,IAC5DD,EAAEC,GAAK3L,EAAE4L,GAIb,OAAOF,GAGT5U,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwM,EAAiB,EAAQ,MAEzBlF,EAAiB,EAAQ,MAEzBmF,EAAW,EAAQ,KAEnBC,EAAmB,CACrBC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,GAGT,SAASC,EAAeC,GACtB,MAAqB,iBAAVA,EACFA,GAKK,UAFdA,EAAQA,EAAMC,iBAGZD,EAAQ,WAGLP,EAAiBO,GAIfP,EAAiBO,GAHfA,GAMX,IAAIE,EAEJ,WACE,SAASA,IACP/U,KAAKgV,oBAAsB,IAAIC,EAC/BjV,KAAKkV,QAAU,GAiBjB,OAdAH,EAAkBnV,UAAUmM,UAAY,SAAUvH,GAChD,OAAKA,GAIAxE,KAAKkV,QAAQ1Q,KAChBxE,KAAKkV,QAAQ1Q,GAAQ,IAAIyQ,EAAiB,CACxCE,cAAe3Q,KAIZxE,KAAKkV,QAAQ1Q,IATXxE,KAAKgV,qBAYTD,EApBT,GAuBIK,EAEJ,WAME,SAASA,EAAkBxF,QACV,IAAXA,IACFA,EAAS,IAGX5P,KAAKqV,SAAWhB,EAASiB,SAASf,YAEVpR,IAApByM,EAAOyF,UAA0BnG,EAAeqG,YAAYlB,EAASiB,SAAU1F,EAAOyF,WACxFrV,KAAKwV,YAAY5F,EAAOyF,UAG1BrV,KAAKyV,kBAAuCtS,IAAxByM,EAAO6F,gBAA+B7F,EAAO6F,aACjEzV,KAAK0V,YAA2BvS,IAAlByM,EAAO8F,OAAuB9F,EAAO8F,OAAS,eA6G9D,OApGAN,EAAkBxV,UAAU+V,IAAM,SAAUd,EAAO5C,GACjD,GAAKjS,KAAK4V,UAAUf,IAAW7U,KAAKyV,aAApC,CAIA,IAAII,EAAa7V,KAAK0V,OAAS,MAAQ1V,KAAK8V,gBAAgBjB,GAAS,IAAM7U,KAAK+V,UAAY,IAAM9D,EAClGjS,KAAKgW,WAAWnB,EAAO,CAACgB,MAQ1BT,EAAkBxV,UAAU4V,YAAc,SAAUX,GAClDA,EAAQD,EAAeC,GAElB3F,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG3D7U,KAAKqV,SAAWR,EAFhB7U,KAAKqV,SAAWhB,EAASiB,SAASX,OAWtCS,EAAkBxV,UAAUmW,QAAU,WACpC,OAAO,IAAIxS,MAAO0S,eAUpBb,EAAkBxV,UAAUgW,UAAY,SAAUM,GAChD,OAAOA,GAAkBlW,KAAKqV,UAUhCD,EAAkBxV,UAAUkW,gBAAkB,SAAUT,GACtD,OAAQA,GACN,KAAKhB,EAASiB,SAASd,MACrB,MAAO,QAET,KAAKH,EAASiB,SAASb,KACrB,MAAO,QAET,KAAKJ,EAASiB,SAASZ,QACrB,MAAO,QAET,KAAKL,EAASiB,SAASX,MACrB,MAAO,QAET,QACE,MAAO,WAWbS,EAAkBxV,UAAUoW,WAAa,SAAUX,EAAUc,GAC3D,OAAQd,GACN,KAAKhB,EAASiB,SAASd,MACrB4B,QAAQT,IAAI5V,MAAMqW,QAASD,GAC3B,MAEF,KAAK9B,EAASiB,SAASb,KACrB2B,QAAQ9D,KAAKvS,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASZ,QACrB0B,QAAQjF,KAAKpR,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASX,MACrByB,QAAQxI,MAAM7N,MAAMqW,QAASD,GAC7B,MAEF,QACEC,QAAQT,IAAI5V,MAAMqW,QAASD,KAI1Bf,EA/HT,GAkIArW,EAAQqW,kBAAoBA,EAC5B,IAAIiB,EAAiBhC,EAASiB,SAASf,OACnC+B,EAAmB,KAEnBrB,EAEJ,WACE,SAASA,EAAiBsB,QACX,IAATA,IACFA,EAAO,IAGTvW,KAAKmV,cAAgB,GAEjBoB,EAAKpB,gBACPnV,KAAKmV,cAAgBoB,EAAKpB,eAuH9B,OA7GAF,EAAiBrV,UAAU+V,IAAM,SAAUd,EAAO5C,GAGhD,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK0W,YAAY9B,EAAeC,GAAQ,CACtC5C,QAASA,EACTuE,MAAOA,KAIXvB,EAAiBrV,UAAU0S,KAAO,SAAUL,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASb,KAAMxC,EAASuE,IAGjDvB,EAAiBrV,UAAU6R,MAAQ,SAAUQ,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASd,MAAOvC,EAASuE,IAGlDvB,EAAiBrV,UAAUuR,KAAO,SAAUc,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASZ,QAASzC,EAASuE,IAGpDvB,EAAiBrV,UAAUgO,MAAQ,SAAUqE,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASX,MAAO1C,EAASuE,IAGlDvB,EAAiBrV,UAAUgX,OAAS,SAAUC,GAC5C,OAAa7W,KAAKmV,cAAgBnV,KAAKmV,cAAgB,KAAO,IAAMjG,EAAe8B,QAAQjR,WAAM,EAAQ+T,EAAe,CAAC+C,EAAK5E,SAAU4E,EAAKL,SAG/IvB,EAAiBrV,UAAU8W,YAAc,SAAU7B,EAAOgC,GACnDP,IAIDzB,EAAQwB,IAIZC,EAAiBX,IAAId,EAAO7U,KAAK4W,OAAOC,IAEpCA,EAAKjJ,OAASiJ,EAAKjJ,iBAAiBhB,OACtCwH,EAAeV,kBAAkBL,YAAYwD,EAAKjJ,UAItDqH,EAAiBrV,UAAU+W,SAAW,SAAU9B,EAAO5C,EAASuE,GAC9D,IAAI5I,EAEJ,GAAIqE,aAAmBrF,MAQrB,OANAqF,GADArE,EAAQqE,GACQA,aAChBjS,KAAK0W,YAAY7B,EAAO,CACtBjH,MAAOA,EACPqE,QAASA,EACTuE,MAAOA,IAKX,GAAqB,IAAjBA,EAAM/W,OAAV,CAQA,IAAIqX,EAAON,EAAMA,EAAM/W,OAAS,GAE5BqX,aAAgBlK,QAClBgB,EAAQkJ,EACRN,EAAMO,QAAQ,IAGhB/W,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTrE,MAAOA,EACP4I,MAAOA,SAjBPxW,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTuE,MAAOA,KAmBNvB,EAhIT,GAmII+B,EAAmB,IAAIjC,EAM3BhW,EAAQgN,UAJR,SAAmBvH,GACjB,OAAOwS,EAAiBjL,UAAUvH,IASpCzF,EAAQkY,cAJR,SAAuBnL,GACrBwK,EAAmBxK,GAerB/M,EAAQyW,YAVR,SAAqBX,GACnBA,EAAQD,EAAeC,GAKrBwB,EAHGnH,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG1CA,EAFAR,EAASiB,SAASX,OAYvC5V,EAAQmY,YAJR,WACE,OAAOb,GAaTtX,EAAQoY,YALR,WACEH,EAAmB,IAAIjC,EACvBsB,EAAiBhC,EAASiB,SAASf,wCC5YrCnV,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAoBT,SAAW0N,GACTA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,QALpC,CAMcvW,EAAQuW,WAAavW,EAAQuW,SAAW,wCC3BtDlW,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwP,EAAS,EAAQ,MAkDrB,SAASC,EAAa/W,GACpB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,OAAOW,EAAIX,MA9CfZ,EAAQuY,aAJR,WACE,OAAOF,EAAOG,MAShBxY,EAAQyY,aAJR,WACE,OAAO,IAAIjU,MAAOwS,WA2BpBhX,EAAQwW,YAdR,SAAqBkC,EAAa7P,GAIhC,IAHA,IAAI8P,GAAQ,EACRjX,EAAOrB,OAAOqB,KAAKgX,GAEdpT,EAAQ,EAAGA,EAAQ5D,EAAKhB,OAAQ4E,IACvC,GAAIuD,IAAU6P,EAAYhX,EAAK4D,IAAS,CACtCqT,GAAQ,EACR,MAIJ,OAAOA,GAeT3Y,EAAQ4Y,QAVR,SAAiBC,EAAKC,GACpB,IAAIC,EAAU,GAMd,OALAF,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAMkY,EAAUE,GACpBD,EAAQnY,GAAOmY,EAAQnY,IAAQ,GAC/BmY,EAAQnY,GAAK8C,KAAKsV,MAEbV,EAAaS,IAWtB/Y,EAAQsY,aAAeA,EAQvBtY,EAAQiZ,cANR,SAAuB1X,GACrB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,MAAO,CAACA,EAAKW,EAAIX,QAqBrBZ,EAAQkZ,KAfR,SAAcL,EAAKM,GAGjB,IAFA,IAAIR,EAEKjB,EAAK,EAAG0B,EAAQP,EAAKnB,EAAK0B,EAAM1Y,OAAQgX,IAAM,CACrD,IAAIsB,EAAOI,EAAM1B,GAEjB,GAAIyB,EAAKH,GAAO,CACdL,EAAQK,EACR,OAIJ,OAAOL,GAcT3Y,EAAQqZ,MATR,SAAeR,EAAKS,GAClB,IAAIhR,EAAM,GAKV,OAJAuQ,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAM0Y,EAAQN,GAClB1Q,EAAI1H,GAAOoY,KAEN1Q,GA2BTtI,EAAQiS,QAtBR,SAAiB4F,GAGf,IAFA,IAAI0B,EAAO,GAEF7B,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtC6B,EAAK7B,EAAK,GAAKjX,UAAUiX,GAG3B,IAAIlX,EAAI,EACR,OAAOqX,EAAOvT,QAAQ,OAAO,WAC3B,IAAIsL,EAAM2J,EAAK/Y,KACXgZ,SAAc5J,EAElB,MAAa,aAAT4J,EACK5J,IACW,WAAT4J,EACF5J,EAEAF,OAAOE,OAmDpB,SAAW6J,GACTA,EAA6B,SAAI,4DACjCA,EAA6B,SAAI,kDACjCA,EAA8B,UAAI,qBAClCA,EAA6C,yBAAI,2BACjDA,EAA0B,MAAI,0DALhC,CAMwBzZ,EAAQyZ,qBAAuBzZ,EAAQyZ,mBAAqB,2BC7LpF,IAAIC,EAAK,EAAQ,MAEblB,EAAK,EAAQ,MAEbmB,EAAOnB,EACXmB,EAAKD,GAAKA,EACVC,EAAKnB,GAAKA,EACVzY,EAAOC,QAAU2Z,oBCDjB,IAFA,IAAIC,EAAY,GAEPpZ,EAAI,EAAGA,EAAI,MAAOA,EACzBoZ,EAAUpZ,IAAMA,EAAI,KAAOqZ,SAAS,IAAIxU,OAAO,GAUjDtF,EAAOC,QAPP,SAAqB8Z,EAAKC,GACxB,IAAIvZ,EAAIuZ,GAAU,EACdC,EAAMJ,EAEV,MAAO,CAACI,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,OAAOgI,KAAK,uBCRnR,IAAIyR,EAAmC,oBAAVC,QAAyBA,OAAOD,iBAAmBC,OAAOD,gBAAgBE,KAAKD,SAA8B,oBAAZE,UAAqE,mBAAnCjU,OAAOiU,SAASH,iBAAiCG,SAASH,gBAAgBE,KAAKC,UAE/O,GAAIH,EAAiB,CAEnB,IAAII,EAAQ,IAAIC,WAAW,IAE3Bva,EAAOC,QAAU,WAEf,OADAia,EAAgBI,GACTA,OAEJ,CAKL,IAAIE,EAAO,IAAI3Q,MAAM,IAErB7J,EAAOC,QAAU,WACf,IAAK,IAAWiV,EAAPzU,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiByU,EAAoB,WAAhBhN,KAAK6D,UAC/ByO,EAAK/Z,GAAKyU,MAAY,EAAJzU,IAAa,GAAK,IAGtC,OAAO+Z,0BC7BX,IAQIC,EAEAC,EAVAC,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAWtBC,EAAa,EACbC,EAAa,EAkFjB9a,EAAOC,QAhFP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EACrBvQ,EAAIsQ,GAAO,GAEXgB,GADJ3X,EAAUA,GAAW,IACF2X,MAAQN,EACvBO,OAAgC3W,IAArBjB,EAAQ4X,SAAyB5X,EAAQ4X,SAAWN,EAInE,GAAY,MAARK,GAA4B,MAAZC,EAAkB,CACpC,IAAIC,EAAYN,IAEJ,MAARI,IAEFA,EAAON,EAAU,CAAgB,EAAfQ,EAAU,GAAWA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAG3F,MAAZD,IAEFA,EAAWN,EAAiD,OAApCO,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIC,OAA0B7W,IAAlBjB,EAAQ8X,MAAsB9X,EAAQ8X,OAAQ,IAAIzW,MAAOwS,UAGjEkE,OAA0B9W,IAAlBjB,EAAQ+X,MAAsB/X,EAAQ+X,MAAQL,EAAa,EAEnEM,EAAKF,EAAQL,GAAcM,EAAQL,GAAc,IAarD,GAXIM,EAAK,QAA0B/W,IAArBjB,EAAQ4X,WACpBA,EAAWA,EAAW,EAAI,QAKvBI,EAAK,GAAKF,EAAQL,SAAiCxW,IAAlBjB,EAAQ+X,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAIrN,MAAM,mDAGlB+M,EAAaK,EACbJ,EAAaK,EACbT,EAAYM,EAIZ,IAAIK,GAA4B,KAAb,WAFnBH,GAAS,cAE+BC,GAAS,WACjD1R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,EAAI,IACpB5R,EAAEhJ,KAAY,IAAL4a,EAET,IAAIC,EAAMJ,EAAQ,WAAc,IAAQ,UACxCzR,EAAEhJ,KAAO6a,IAAQ,EAAI,IACrB7R,EAAEhJ,KAAa,IAAN6a,EAET7R,EAAEhJ,KAAO6a,IAAQ,GAAK,GAAM,GAE5B7R,EAAEhJ,KAAO6a,IAAQ,GAAK,IAEtB7R,EAAEhJ,KAAOua,IAAa,EAAI,IAE1BvR,EAAEhJ,KAAkB,IAAXua,EAET,IAAK,IAAI9K,EAAI,EAAGA,EAAI,IAAKA,EACvBzG,EAAEhJ,EAAIyP,GAAK6K,EAAK7K,GAGlB,OAAO6J,GAAYa,EAAYnR,0BC7FjC,IAAIkR,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAyB1B5a,EAAOC,QAvBP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EAEH,iBAAX5W,IACT2W,EAAkB,WAAZ3W,EAAuB,IAAIyG,MAAM,IAAM,KAC7CzG,EAAU,MAIZ,IAAIoX,GADJpX,EAAUA,GAAW,IACF2I,SAAW3I,EAAQuX,KAAOA,KAK7C,GAHAH,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBT,EACF,IAAK,IAAIwB,EAAK,EAAGA,EAAK,KAAMA,EAC1BxB,EAAItZ,EAAI8a,GAAMf,EAAKe,GAIvB,OAAOxB,GAAOa,EAAYJ,qCCtB5Bla,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAQT,IAAIwL,EAEJ,WACE,SAASA,KAYT,OALAA,EAAiBxT,UAAUyT,YAAc,SAAUC,KAK5CF,EAbT,GAgBArU,EAAQqU,iBAAmBA,EAC3B,IAAIG,EAAqB,IAAIH,EAU7BrU,EAAQyU,gBAJR,SAAyBC,GACvBF,EAAqBE,GAavB1U,EAAQ2U,gBAJR,WACE,OAAOH,GAYTxU,EAAQ4U,kBAJR,WACEJ,EAAqB,IAAIH,sCCtD3B,SAASQ,EAASC,GAChB,IAAK,IAAIhT,KAAKgT,EACP9U,EAAQc,eAAegB,KAAI9B,EAAQ8B,GAAKgT,EAAEhT,IAInDzB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBTgM,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,0CC7BjBxU,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwM,EAAiB,EAAQ,MAEzBlF,EAAiB,EAAQ,MAEzBmF,EAAW,EAAQ,MAEnBC,EAAmB,CACrBC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,GAGT,SAASC,EAAeC,GACtB,MAAqB,iBAAVA,EACFA,GAKK,UAFdA,EAAQA,EAAMC,iBAGZD,EAAQ,WAGLP,EAAiBO,GAIfP,EAAiBO,GAHfA,GAMX,IAAIE,EAEJ,WACE,SAASA,IACP/U,KAAKgV,oBAAsB,IAAIC,EAC/BjV,KAAKkV,QAAU,GAiBjB,OAdAH,EAAkBnV,UAAUmM,UAAY,SAAUvH,GAChD,OAAKA,GAIAxE,KAAKkV,QAAQ1Q,KAChBxE,KAAKkV,QAAQ1Q,GAAQ,IAAIyQ,EAAiB,CACxCE,cAAe3Q,KAIZxE,KAAKkV,QAAQ1Q,IATXxE,KAAKgV,qBAYTD,EApBT,GAuBIK,EAEJ,WAME,SAASA,EAAkBxF,QACV,IAAXA,IACFA,EAAS,IAGX5P,KAAKqV,SAAWhB,EAASiB,SAASf,YAEVpR,IAApByM,EAAOyF,UAA0BnG,EAAeqG,YAAYlB,EAASiB,SAAU1F,EAAOyF,WACxFrV,KAAKwV,YAAY5F,EAAOyF,UAG1BrV,KAAKyV,kBAAuCtS,IAAxByM,EAAO6F,gBAA+B7F,EAAO6F,aACjEzV,KAAK0V,YAA2BvS,IAAlByM,EAAO8F,OAAuB9F,EAAO8F,OAAS,eA6G9D,OApGAN,EAAkBxV,UAAU+V,IAAM,SAAUd,EAAO5C,GACjD,GAAKjS,KAAK4V,UAAUf,IAAW7U,KAAKyV,aAApC,CAIA,IAAII,EAAa7V,KAAK0V,OAAS,MAAQ1V,KAAK8V,gBAAgBjB,GAAS,IAAM7U,KAAK+V,UAAY,IAAM9D,EAClGjS,KAAKgW,WAAWnB,EAAO,CAACgB,MAQ1BT,EAAkBxV,UAAU4V,YAAc,SAAUX,GAClDA,EAAQD,EAAeC,GAElB3F,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG3D7U,KAAKqV,SAAWR,EAFhB7U,KAAKqV,SAAWhB,EAASiB,SAASX,OAWtCS,EAAkBxV,UAAUmW,QAAU,WACpC,OAAO,IAAIxS,MAAO0S,eAUpBb,EAAkBxV,UAAUgW,UAAY,SAAUM,GAChD,OAAOA,GAAkBlW,KAAKqV,UAUhCD,EAAkBxV,UAAUkW,gBAAkB,SAAUT,GACtD,OAAQA,GACN,KAAKhB,EAASiB,SAASd,MACrB,MAAO,QAET,KAAKH,EAASiB,SAASb,KACrB,MAAO,QAET,KAAKJ,EAASiB,SAASZ,QACrB,MAAO,QAET,KAAKL,EAASiB,SAASX,MACrB,MAAO,QAET,QACE,MAAO,WAWbS,EAAkBxV,UAAUoW,WAAa,SAAUX,EAAUc,GAC3D,OAAQd,GACN,KAAKhB,EAASiB,SAASd,MACrB4B,QAAQT,IAAI5V,MAAMqW,QAASD,GAC3B,MAEF,KAAK9B,EAASiB,SAASb,KACrB2B,QAAQ9D,KAAKvS,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASZ,QACrB0B,QAAQjF,KAAKpR,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASX,MACrByB,QAAQxI,MAAM7N,MAAMqW,QAASD,GAC7B,MAEF,QACEC,QAAQT,IAAI5V,MAAMqW,QAASD,KAI1Bf,EA/HT,GAkIArW,EAAQqW,kBAAoBA,EAC5B,IAAIiB,EAAiBhC,EAASiB,SAASf,OACnC+B,EAAmB,KAEnBrB,EAEJ,WACE,SAASA,EAAiBsB,QACX,IAATA,IACFA,EAAO,IAGTvW,KAAKmV,cAAgB,GAEjBoB,EAAKpB,gBACPnV,KAAKmV,cAAgBoB,EAAKpB,eAiH9B,OAvGAF,EAAiBrV,UAAU+V,IAAM,SAAUd,EAAO5C,GAChDjS,KAAK0W,YAAY9B,EAAeC,GAAQ,CACtC5C,QAASA,EACTuE,MAAO,MAIXvB,EAAiBrV,UAAU0S,KAAO,SAAUL,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASb,KAAMxC,EAASuE,IAGjDvB,EAAiBrV,UAAU6R,MAAQ,SAAUQ,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASd,MAAOvC,EAASuE,IAGlDvB,EAAiBrV,UAAUuR,KAAO,SAAUc,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASZ,QAASzC,EAASuE,IAGpDvB,EAAiBrV,UAAUgO,MAAQ,SAAUqE,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASX,MAAO1C,EAASuE,IAGlDvB,EAAiBrV,UAAUgX,OAAS,SAAUC,GAC5C,OAAa7W,KAAKmV,cAAgBnV,KAAKmV,cAAgB,KAAO,IAAMjG,EAAe8B,QAAQjR,WAAM,EAAQ,CAAC8W,EAAK5E,SAAS5I,OAAOwN,EAAKL,SAGtIvB,EAAiBrV,UAAU8W,YAAc,SAAU7B,EAAOgC,GACnDP,IAIDzB,EAAQwB,IAIZC,EAAiBX,IAAId,EAAO7U,KAAK4W,OAAOC,IAEpCA,EAAKjJ,OAASiJ,EAAKjJ,iBAAiBhB,OACtCwH,EAAeV,kBAAkBL,YAAYwD,EAAKjJ,UAItDqH,EAAiBrV,UAAU+W,SAAW,SAAU9B,EAAO5C,EAASuE,GAC9D,IAAI5I,EAEJ,GAAIqE,aAAmBrF,MAQrB,OANAqF,GADArE,EAAQqE,GACQA,aAChBjS,KAAK0W,YAAY7B,EAAO,CACtBjH,MAAOA,EACPqE,QAASA,EACTuE,MAAOA,IAKX,GAAqB,IAAjBA,EAAM/W,OAAV,CAQA,IAAIqX,EAAON,EAAMA,EAAM/W,OAAS,GAE5BqX,aAAgBlK,QAClBgB,EAAQkJ,EACRN,EAAMO,QAAQ,IAGhB/W,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTrE,MAAOA,EACP4I,MAAOA,SAjBPxW,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTuE,MAAOA,KAmBNvB,EA1HT,GA6HI+B,EAAmB,IAAIjC,EAM3BhW,EAAQgN,UAJR,SAAmBvH,GACjB,OAAOwS,EAAiBjL,UAAUvH,IASpCzF,EAAQkY,cAJR,SAAuBnL,GACrBwK,EAAmBxK,GAerB/M,EAAQyW,YAVR,SAAqBX,GACnBA,EAAQD,EAAeC,GAKrBwB,EAHGnH,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG1CA,EAFAR,EAASiB,SAASX,OAYvC5V,EAAQmY,YAJR,WACE,OAAOb,GAaTtX,EAAQoY,YALR,WACEH,EAAmB,IAAIjC,EACvBsB,EAAiBhC,EAASiB,SAASf,yCCxXrCnV,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAoBT,SAAW0N,GACTA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,QALpC,CAMcvW,EAAQuW,WAAavW,EAAQuW,SAAW,wCC3BtDlW,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwP,EAAS,EAAQ,IAkDrB,SAASC,EAAa/W,GACpB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,OAAOW,EAAIX,MA9CfZ,EAAQyY,aAJR,WACE,OAAO,IAAIjU,MAAOwS,WASpBhX,EAAQuY,aAJR,WACE,OAAOF,EAAOG,MA2BhBxY,EAAQwW,YAdR,SAAqBkC,EAAa7P,GAIhC,IAHA,IAAI8P,GAAQ,EACRjX,EAAOrB,OAAOqB,KAAKgX,GAEdpT,EAAQ,EAAGA,EAAQ5D,EAAKhB,OAAQ4E,IACvC,GAAIuD,IAAU6P,EAAYhX,EAAK4D,IAAS,CACtCqT,GAAQ,EACR,MAIJ,OAAOA,GAeT3Y,EAAQ4Y,QAVR,SAAiBC,EAAKC,GACpB,IAAIC,EAAU,GAMd,OALAF,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAMkY,EAAUE,GACpBD,EAAQnY,GAAOmY,EAAQnY,IAAQ,GAC/BmY,EAAQnY,GAAK8C,KAAKsV,MAEbV,EAAaS,IAWtB/Y,EAAQsY,aAAeA,EAiBvBtY,EAAQkZ,KAfR,SAAcL,EAAKM,GAGjB,IAFA,IAAIR,EAEKjB,EAAK,EAAG0B,EAAQP,EAAKnB,EAAK0B,EAAM1Y,OAAQgX,IAAM,CACrD,IAAIsB,EAAOI,EAAM1B,GAEjB,GAAIyB,EAAKH,GAAO,CACdL,EAAQK,EACR,OAIJ,OAAOL,GAcT3Y,EAAQqZ,MATR,SAAeR,EAAKS,GAClB,IAAIhR,EAAM,GAKV,OAJAuQ,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAM0Y,EAAQN,GAClB1Q,EAAI1H,GAAOoY,KAEN1Q,GA2BTtI,EAAQiS,QAtBR,SAAiB4F,GAGf,IAFA,IAAI0B,EAAO,GAEF7B,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtC6B,EAAK7B,EAAK,GAAKjX,UAAUiX,GAG3B,IAAIlX,EAAI,EACR,OAAOqX,EAAOvT,QAAQ,OAAO,WAC3B,IAAIsL,EAAM2J,EAAK/Y,KACXgZ,SAAc5J,EAElB,MAAa,aAAT4J,EACK5J,IACW,WAAT4J,EACF5J,EAEAF,OAAOE,2BC5HpB,IAAI8J,EAAK,EAAQ,MAEblB,EAAK,EAAQ,MAEbmB,EAAOnB,EACXmB,EAAKD,GAAKA,EACVC,EAAKnB,GAAKA,EACVzY,EAAOC,QAAU2Z,oBCDjB,IAFA,IAAIC,EAAY,GAEPpZ,EAAI,EAAGA,EAAI,MAAOA,EACzBoZ,EAAUpZ,IAAMA,EAAI,KAAOqZ,SAAS,IAAIxU,OAAO,GAUjDtF,EAAOC,QAPP,SAAqB8Z,EAAKC,GACxB,IAAIvZ,EAAIuZ,GAAU,EACdC,EAAMJ,EAEV,MAAO,CAACI,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,OAAOgI,KAAK,uBCRnR,IAAIyR,EAAmC,oBAAVC,QAAyBA,OAAOD,iBAAmBC,OAAOD,gBAAgBE,KAAKD,SAA8B,oBAAZE,UAAqE,mBAAnCjU,OAAOiU,SAASH,iBAAiCG,SAASH,gBAAgBE,KAAKC,UAE/O,GAAIH,EAAiB,CAEnB,IAAII,EAAQ,IAAIC,WAAW,IAE3Bva,EAAOC,QAAU,WAEf,OADAia,EAAgBI,GACTA,OAEJ,CAKL,IAAIE,EAAO,IAAI3Q,MAAM,IAErB7J,EAAOC,QAAU,WACf,IAAK,IAAWiV,EAAPzU,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiByU,EAAoB,WAAhBhN,KAAK6D,UAC/ByO,EAAK/Z,GAAKyU,MAAY,EAAJzU,IAAa,GAAK,IAGtC,OAAO+Z,0BC7BX,IAQIC,EAEAC,EAVAC,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAWtBC,EAAa,EACbC,EAAa,EAkFjB9a,EAAOC,QAhFP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EACrBvQ,EAAIsQ,GAAO,GAEXgB,GADJ3X,EAAUA,GAAW,IACF2X,MAAQN,EACvBO,OAAgC3W,IAArBjB,EAAQ4X,SAAyB5X,EAAQ4X,SAAWN,EAInE,GAAY,MAARK,GAA4B,MAAZC,EAAkB,CACpC,IAAIC,EAAYN,IAEJ,MAARI,IAEFA,EAAON,EAAU,CAAgB,EAAfQ,EAAU,GAAWA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAG3F,MAAZD,IAEFA,EAAWN,EAAiD,OAApCO,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIC,OAA0B7W,IAAlBjB,EAAQ8X,MAAsB9X,EAAQ8X,OAAQ,IAAIzW,MAAOwS,UAGjEkE,OAA0B9W,IAAlBjB,EAAQ+X,MAAsB/X,EAAQ+X,MAAQL,EAAa,EAEnEM,EAAKF,EAAQL,GAAcM,EAAQL,GAAc,IAarD,GAXIM,EAAK,QAA0B/W,IAArBjB,EAAQ4X,WACpBA,EAAWA,EAAW,EAAI,QAKvBI,EAAK,GAAKF,EAAQL,SAAiCxW,IAAlBjB,EAAQ+X,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAIrN,MAAM,mDAGlB+M,EAAaK,EACbJ,EAAaK,EACbT,EAAYM,EAIZ,IAAIK,GAA4B,KAAb,WAFnBH,GAAS,cAE+BC,GAAS,WACjD1R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,EAAI,IACpB5R,EAAEhJ,KAAY,IAAL4a,EAET,IAAIC,EAAMJ,EAAQ,WAAc,IAAQ,UACxCzR,EAAEhJ,KAAO6a,IAAQ,EAAI,IACrB7R,EAAEhJ,KAAa,IAAN6a,EAET7R,EAAEhJ,KAAO6a,IAAQ,GAAK,GAAM,GAE5B7R,EAAEhJ,KAAO6a,IAAQ,GAAK,IAEtB7R,EAAEhJ,KAAOua,IAAa,EAAI,IAE1BvR,EAAEhJ,KAAkB,IAAXua,EAET,IAAK,IAAI9K,EAAI,EAAGA,EAAI,IAAKA,EACvBzG,EAAEhJ,EAAIyP,GAAK6K,EAAK7K,GAGlB,OAAO6J,GAAYa,EAAYnR,0BC7FjC,IAAIkR,EAAM,EAAQ,MAEdC,EAAc,EAAQ,MAyB1B5a,EAAOC,QAvBP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EAEH,iBAAX5W,IACT2W,EAAkB,WAAZ3W,EAAuB,IAAIyG,MAAM,IAAM,KAC7CzG,EAAU,MAIZ,IAAIoX,GADJpX,EAAUA,GAAW,IACF2I,SAAW3I,EAAQuX,KAAOA,KAK7C,GAHAH,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBT,EACF,IAAK,IAAIwB,EAAK,EAAGA,EAAK,KAAMA,EAC1BxB,EAAItZ,EAAI8a,GAAMf,EAAKe,GAIvB,OAAOxB,GAAOa,EAAYJ,uCCtB5Bla,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAGT,IAAIjE,EACAmL,EAAI,EAAQ,MACZkF,EAAI,EAAQ,MACZzU,EAAI,EAAQ,MACZyP,GAAKrL,EAAI,EAAQ,QAAkB,iBAAmBA,GAAK,YAAaA,EAAIA,EAAEoC,QAAUpC,EACxF/C,EAAI,EAAQ,MACZmP,EAAK,WACP,OAAQA,EAAK3Q,OAAOC,QAAU,SAAUsE,GACtC,IAAK,IAAImL,EAAGkF,EAAI,EAAGzU,EAAIC,UAAUC,OAAQuU,EAAIzU,EAAGyU,IAC9C,IAAK,IAAIhF,KAAKF,EAAItP,UAAUwU,GAC1B5U,OAAOQ,UAAUC,eAAeC,KAAKgP,EAAGE,KAAOrL,EAAEqL,GAAKF,EAAEE,IAI5D,OAAOrL,IACN5D,MAAMC,KAAMR,YAGjB,SAASuP,IACP,IAAK,IAAIpL,EAAI,EAAGmL,EAAI,EAAGkF,EAAIxU,UAAUC,OAAQqP,EAAIkF,EAAGlF,IAClDnL,GAAKnE,UAAUsP,GAAGrP,OAGpB,IAAIF,EAAIoJ,MAAMhF,GACVqL,EAAI,EAER,IAAKF,EAAI,EAAGA,EAAIkF,EAAGlF,IACjB,IAAK,IAAIlO,EAAIpB,UAAUsP,GAAIxG,EAAI,EAAGyG,EAAInO,EAAEnB,OAAQ6I,EAAIyG,EAAGzG,IAAK0G,IAC1DzP,EAAEyP,GAAKpO,EAAE0H,GAIb,OAAO/I,EAGT,IAAI+kB,EAAI,CACN/P,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,GAELlO,EAAI,CACN8d,0BAA2B,yDAC3BC,6BAA8B,mFAC9BC,+BAAgC,4CAChCC,wBAAyB,yCACzBC,gCAAiC,iDACjCC,mBAAoB,oDACpBC,qBAAsB,sDACtBC,iBAAkB,4CAClBC,2BAA4B,mDAC5BC,eAAgB,0DAChBC,aAAc,gCACdC,sBAAuB,uDACvBC,yBAA0B,0DAC1BC,mBAAoB,oDACpBC,uBAAwB,uFACxBC,sBAAuB,2CACvBC,iBAAkB,sCAClBC,eAAgB,iDAChBC,mBAAoB,mDACpBC,gBAAiB,gDACjBC,6BAA8B,0EAC9BC,sBAAuB,sDACvBC,iBAAkB,iDAClBC,gCAAiC,iEACjCC,oBAAqB,qDACrBC,uBAAwB,sFACxBC,qBAAsB,0DACtBC,6BAA8B,wFAC9BC,0BAA2B,gEAC3BC,wBAAyB,4DACzBC,6BAA8B,uFAC9BC,6BAA8B,gEAC9BC,2CAA4C,8CAC5CC,qBAAsB,2CACtBC,yBAA0B,yFAC1BC,sBAAuB,uDAErBC,EAAI,CACNC,cAAe,2CACfC,0BAA2B,6DAC3BC,0BAA2B,6DAC3BC,uBAAwB,4CACxBC,oBAAqB,uCACrBC,uBAAwB,oCACxBC,yBAA0B,yCAC1BC,6BAA8B,6CAC9BC,2BAA4B,qDAC5BC,sBAAuB,wDACvBC,wBAAyB,0DACzBC,wBAAyB,mEACzBC,eAAgB,kDAChBC,sBAAuB,gEACvBC,+BAAgC,uDAChCC,uBAAwB,6EACxBC,qBAAsB,6DACtBC,gCAAiC,yDACjCC,kBAAmB,yCACnBC,oBAAqB,gDACrBC,kBAAmB,4BACnBC,qBAAsB,iDACtBC,qBAAsB,+CACtBC,2BAA4B,wGAC5BC,2BAA4B,+CAC5BC,gBAAiB,6DACjBC,0BAA2B,wHAC3BC,6BAA8B,oEAC9BC,yBAA0B,uCAC1BC,YAAa,qCACbC,2BAA4B,8CAC5BC,mCAAoC,uDACpCC,uCAAwC,+CACxCC,kCAAmC,+CACnCC,2BAA4B,qEAC5BC,gBAAiB,2CACjBC,+CAAgD,mFAChDC,2CAA4C,mDAC5CC,+CAAgD,oDAChDC,sCAAuC,kGACvCC,+BAAgC,0DAChCC,oBAAqB,+CACrBC,yBAA0B,yCAC1BC,gCAAiC,kFACjCC,+CAAgD,8DAChDC,yCAA0C,sDAC1CC,mBAAoB,mDACpBC,6CAA8C,6FAC9CC,gDAAiD,kFACjDC,yDAA0D,gGAC1DC,4DAA6D,qFAC7DC,0BAA2B,uFAC3BC,sBAAuB,mDACvBC,6BAA8B,kDAC9BC,4CAA6C,sEAC7CC,2BAA4B,oDAC5BC,uBAAwB,+DACxBC,qCAAsC,yHACtCC,kDAAmD,0FACnDC,gDAAiD,4EACjDC,6BAA8B,qEAC9BC,eAAgB,yBAChBC,2BAA4B,2CAC5BC,2BAA4B,sEAC5BC,mCAAoC,qHACpCC,mBAAoB,iCACpBC,wBAAyB,iEACzBC,oBAAqB,8DACrBC,8BAA+B,4CAC/BC,2BAA4B,qCAC5BC,oCAAqC,wDACrCC,wBAAyB,sGACzBC,2BAA4B,+FAC5BC,gBAAiB,kHACjBC,qBAAsB,0GACtBC,uBAAwB,6HACxBC,mBAAoB,0HACpBC,0BAA2B,+DAC3BC,cAAe,sIACfC,wBAAyB,oEAEvBC,EAAI,CACNC,cAAe,qBACfC,aAAc,oBACdC,qBAAsB,6BACtBC,WAAY,kBACZC,8BAA+B,sBAE7BC,EAAI3sB,EAAEiZ,mBACNuK,EAAI,CACNoJ,QAAS,UACTC,QAAS,UACTC,aAAc,eACdC,iBAAkB,mBAClBC,sBAAuB,wBACvBC,KAAM,QAEJ9nB,EAAI,CACN2nB,aAAc,eACdI,QAAS,UACTC,WAAY,cAEVxhB,EAAI,CACNyhB,KAAM,OACND,WAAY,cAEVzJ,EAAI,CACN2J,QAAS,UACTC,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACRpa,KAAM,QAEJ9R,EAAI,CACNmsB,GAAI,IACJC,GAAI,IACJC,GAAI,KAEFC,EAAI,CACNC,cAAe,8CACfC,iBAAkB,kCAClBC,uBAAwB,yDAEtBC,EAAInuB,OAAOouB,OAAO,CACpB1sB,UAAW,KACX2sB,UAAWnJ,EACXoJ,eAAgBjnB,EAChBknB,aAAchH,EACdiH,mBAAoBhC,EACpBiC,yBAA0B,iBAC1BC,mBAAoB,WACpBC,oBAAqB,YACrBC,2BAA4B,mBAC5BC,8BAA+B,sBAC/BC,oBAAqB,QACrB1V,mBAAoB0T,EACpBiC,4BAA6BpL,EAC7BqL,iBAAkB1pB,EAClB2pB,0BAA2BnjB,EAC3BojB,uBAAwBrL,EACxBsL,kBAAmB1tB,EACnB2tB,kBAAmBrB,IAEjBsB,EAAI,mBACJC,EAAI,CAAC7tB,EAAEmsB,GAAInsB,EAAEosB,GAAIpsB,EAAEqsB,IACnBzJ,EAAI,SAAW9f,GACjB,GAAI,iBAAmBA,GAAK,OAASA,EAAG,CACtC,IAAImL,EAAInL,EACJqQ,EAAIlF,EAAE6f,aACN3f,EAAIF,EAAE0O,gBACN5c,EAAIkO,EAAEhD,OACV,GAAIkI,GAAK,mBAAqBA,EAAEX,YAAa,MAAM,IAAIzG,MAAMrN,EAAEyR,QAAQvK,EAAEye,sBAAuBuJ,IAChG,GAAIzf,GAAK,mBAAqBA,EAAE2O,cAAe,MAAM,IAAI/Q,MAAMrN,EAAEyR,QAAQvK,EAAE0e,yBAA0BsJ,IACrG,GAAI7tB,GAAK,mBAAqBA,EAAE+U,IAAK,MAAM,IAAI/I,MAAMrN,EAAEyR,QAAQvK,EAAE+e,eAAgBiJ,IACjF,OAAO,EAGT,MAAM,IAAI7hB,MAAMrN,EAAEyR,QAAQvK,EAAEue,eAAgByJ,KAa1CzL,EAAI,CACN3P,YAAa,cAOXub,EAAI,CACNjR,cAAe,SAAuBha,EAAGmL,GACvC,IAAIkF,EACAzU,EAAIoE,EAAEiD,OACNoI,EAAIrL,EAAEue,IACV,SAAWve,EAAEwe,WAAanO,EAAI,IAAI/H,gBAAkBG,KAAK,OAAQ4C,GAAG,GAAKgF,EAAEzH,iBAAiB,eAAgB,oBAAqByH,EAAEvH,mBAAqB,WACtJ,GAAI,IAAMuH,EAAEtH,YAAcoC,GAAK,mBAAqBA,EAAG,IACrDA,EAAE,CACAxB,WAAY0G,EAAErH,SAEhB,MAAOhJ,MACRqQ,EAAEnG,KAAK8E,KAAKC,UAAUrT,MAAQyP,GAAK,aAAczP,IAAMyP,GAAK,IAhB3D,SAAWrL,GACjB,OAAOvE,OAAOqB,KAAKkD,GAAG0D,KAAI,SAAUyH,GAClC,OAAO+f,mBAAmB/f,GAAK,IAAM+f,mBAAmBlrB,EAAEmL,OACzDvH,KAAK,KAa+DunB,CAAEvvB,KAAMyU,EAAI,IAAI/H,gBAAkBG,KAAK,MAAO4C,GAAG,GAAKgF,EAAEvH,mBAAqB,WAChJ,GAAI,IAAMuH,EAAEtH,YAAcoC,GAAK,mBAAqBA,EAAG,IACrDA,EAAE,CACAxB,WAAY0G,EAAErH,SAEhB,MAAOhJ,MACRqQ,EAAEnG,UAGLkhB,EAAI,WACN,SAASprB,KAET,OAAOA,EAAE/D,UAAU+V,IAAM,aAAgBhS,EAHnC,GAMR,SAASqrB,EAAErrB,GACT,OAAO,IAAImL,EAAEsG,kBAAkBzR,GAGjC,IAAIsrB,EACApb,EACAqb,EAAI9vB,OAAOouB,OAAO,CACpB1sB,UAAW,KACXquB,WAAYJ,EACZK,aAAcJ,EACdK,iBAAkB,WAChB,OAAO,IAAIN,KAIf,SAASO,EAAE3rB,EAAGmL,EAAGkF,GACf,MAAO,CACLub,aAAc,KACdrO,SAAS,EACTsO,UAAW,GACXzO,QAAS,KACTC,QAASrd,EACT8rB,YAAa3gB,EACb4gB,QAAS1b,IAIZ,SAAUrQ,GACTA,EAAEipB,QAAU,UAAWjpB,EAAEkpB,OAAS,SAAUlpB,EAAEmpB,QAAU,UAAWnpB,EAAEopB,OAAS,SAAUppB,EAAEgP,KAAO,OADlG,CAECsc,IAAMA,EAAI,MAAOpb,EAAI9U,EAAQ4wB,yBAA2B5wB,EAAQ4wB,uBAAyB,KAAKC,uBAAyB,yBAA0B/b,EAAEgc,mBAAqB,qBAAsBhc,EAAEic,4BAA8B,8BAA+Bjc,EAAEkc,gBAAkB,kBAAmBlc,EAAEmc,kBAAoB,oBAE5T,IAAIC,EAAI,WACN,SAAStsB,EAAEA,GACT,IAAImL,EACAkF,EAAIrQ,EAAEusB,WACN3wB,EAAIoE,EAAEwsB,OACNnhB,EAAIrL,EAAEoe,WACV/hB,KAAKkwB,WAAalc,EAAGhU,KAAKmwB,OAAS5wB,EAAGS,KAAK+hB,WAAa,QAAUjT,EAAIiB,EAAG,GAAIf,UAAO,IAAWF,EAAIA,EAAI,GAAI9O,KAAKowB,mBAAqB,GAGvI,OAAOzsB,EAAE/D,UAAUywB,aAAe,SAAU1sB,EAAGmL,GAC7C9O,KAAK+hB,WAAWpe,GAAKmL,GACpBnL,EAAE/D,UAAU0wB,UAAY,WACzB,OAAOtwB,KAAKmwB,QACXxsB,EAAE/D,UAAU2wB,cAAgB,WAC7B,OAAOxgB,EAAG,GAAI/P,KAAK+hB,aAClBpe,EAAE/D,UAAU4wB,cAAgB,WAC7B,OAAOxwB,KAAKkwB,YACXvsB,EAAE/D,UAAU6wB,OAAS,SAAU9sB,EAAGmL,GACnC,YAAO,IAAWA,IAAMA,EAAI,IAAK9O,KAAKkwB,WAAWO,OAAOzwB,KAAK0wB,mBAAoB/sB,EAAGmL,IACnFnL,EAAE/D,UAAU+wB,cAAgB,SAAUhtB,EAAGmL,GAC1C,YAAO,IAAWA,IAAMA,EAAI,IAAK9O,KAAKkwB,WAAWS,cAAc3wB,KAAK0wB,mBAAoB/sB,EAAGmL,IAC1FnL,EAAE/D,UAAUgxB,UAAY,SAAUjtB,GACnC,YAAO,IAAWA,IAAMA,EAAI,IAAK3D,KAAKkwB,WAAWU,UAAU5wB,KAAK0wB,mBAAoB/sB,IACnFA,EAAE/D,UAAUixB,WAAa,SAAUltB,EAAGmL,GACvC9O,KAAKkwB,WAAWY,MAAMntB,EAAG3D,KAAKmwB,OAAQnwB,KAAK+hB,WAAYjT,IACtDnL,EAAE/D,UAAUmxB,kBAAoB,SAAUptB,EAAGmL,GAC9C,IAAIkF,EACAzU,EAAIoE,EAAEqd,QACNhS,EAAI,QAAUgF,EAAIrQ,EAAEod,eAAY,IAAW/M,EAAIA,EAAI4X,EAAEK,8BACrDrrB,EAAI,CACN2uB,aAAczgB,EAAEygB,cAElB,OAAOvvB,KAAKowB,mBAAmB7wB,KAAOS,KAAKowB,mBAAmB7wB,GAAK,IAAKS,KAAKowB,mBAAmB7wB,GAAGyP,GAAKpO,GAAG,GAC1G+C,EAAE/D,UAAUoxB,kBAAoB,SAAUrtB,GAC3C,OAAO3D,KAAKixB,mBAAmBttB,IAC9BA,EAAE/D,UAAUsxB,qBAAuB,SAAUvtB,GAC9C,IAAImL,EACAkF,EAAI,QAAUlF,EAAInL,EAAEod,eAAY,IAAWjS,EAAIA,EAAI8c,EAAEK,8BACrD1sB,EAAIoE,EAAEqd,QACNhS,GAAI,EAER,OADAhP,KAAKowB,mBAAmBvwB,eAAeN,KAAOS,KAAKowB,mBAAmB7wB,GAAGM,eAAemU,YAAchU,KAAKowB,mBAAmB7wB,GAAGyU,GAAIhF,GAAI,GAAK,IAAM5P,OAAOqB,KAAKT,KAAKowB,mBAAmB7wB,IAAIE,eAAiBO,KAAKowB,mBAAmB7wB,IAC9NyP,GACNrL,EAAE/D,UAAUuxB,yBAA2B,WACxC,OAAOnxB,KAAKowB,mBAAqB,IAAI,GACpCzsB,EAAE/D,UAAUqxB,mBAAqB,SAAUttB,GAC5C,IAAImL,EACAkF,EAAI,QAAUlF,EAAInL,EAAEod,eAAY,IAAWjS,EAAIA,EAAI8c,EAAEK,8BACrD1sB,EAAIoE,EAAEqd,QAEV,GAAIhhB,KAAKowB,mBAAmBvwB,eAAe8D,EAAEqd,SAAU,CACrD,IAAIhS,EAAIhP,KAAKowB,mBAAmB7wB,GAChC,GAAIyP,EAAEnP,eAAemU,GAAI,MAAO,CAC9Bub,aAAcvgB,EAAEgF,GAAGub,cAIvB,OAAO,MACN5rB,EAAE/D,UAAU8wB,iBAAmB,WAChC,IAAI5hB,EAAI,IAAInL,EAAE,CACZusB,WAAYlwB,KAAKwwB,gBACjBL,OAAQnwB,KAAKswB,YACbvO,WAAY/hB,KAAKuwB,kBAEnB,OAAOnxB,OAAOqB,KAAKT,KAAKowB,oBAAoB3wB,OAAS,IAAMqP,EAAEshB,mBAAqBrgB,EAAG,GAAI/P,KAAKowB,qBAAsBthB,GACnHnL,EAhEG,GAkEJytB,EAAI,CAAC,MAAO,KAAM,OAEtB,SAAS7O,EAAE5e,EAAGmL,GACZ,GAAInG,MAAM0oB,QAAQ1tB,GAAI,CACpB,IAAIqQ,EAAIrQ,EAAE,GACNpE,EAAIoE,EAAEyD,MAAM,GAEhB,OAAQ,iBAAmB4M,IAAM,IAAMod,EAAE1wB,QAAQsT,KAAOA,EAAI,KAAMzU,EAAIoE,GAAIqQ,GACxE,IAAK,MACH,OAAO,SAAUrQ,EAAGmL,GAClB,IAAIkF,GAAI,EAER,GAAIrL,MAAM0oB,QAAQ1tB,GAAI,CACpB,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAElE,OAAQF,IAAK,CACjC,IAAIyP,EAAIuT,EAAE5e,EAAEpE,GAAIuP,GAChB,IAAI,IAAOE,EAAG,OAAO,EACrB,OAASA,IAAMgF,GAAI,GAGrB,OAAQA,GAAK,KAGf,OAAO,KAbF,CAcLzU,EAAGuP,GAEP,IAAK,MACH,OAAO,SAAUnL,EAAGmL,GAClB,GAAInG,MAAM0oB,QAAQ1tB,IAAMA,EAAElE,OAAS,EAAG,CACpC,IAAIuU,EAAIuO,EAAE5e,EAAE,GAAImL,GAChB,OAAO,OAASkF,EAAI,MAAQA,EAG9B,OAAO,KANF,CAOLzU,EAAGuP,GAEP,QACE,OAAO,SAAUnL,EAAGmL,GAClB,IAAIkF,GAAI,EAER,GAAIrL,MAAM0oB,QAAQ1tB,GAAI,CACpB,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAElE,OAAQF,IAAK,CACjC,IAAIyP,EAAIuT,EAAE5e,EAAEpE,GAAIuP,GAChB,IAAI,IAAOE,EAAG,OAAO,EACrB,OAASA,IAAMgF,GAAI,GAGrB,QAASA,GAAK,KAGhB,OAAO,KAbF,CAcLzU,EAAGuP,IAIX,OAAOA,EAAEnL,GAGX,IAAI4E,EAAI,WACN,SAAS5E,EAAEmL,EAAGkF,GACZ,IAAIzU,EAAGyP,EACPhP,KAAKgQ,OAAS,QAAUzQ,EAAIuP,EAAEkB,cAAW,IAAWzQ,EAAIA,EAAI,GAAIS,KAAKsxB,eAAiB,QAAUtiB,EAAIF,EAAEwiB,sBAAmB,IAAWtiB,EAAIA,EAAI,GAAIhP,KAAK+hB,WAAajT,EAAEiT,WAAY/hB,KAAKuxB,UAAY5tB,EAAE6tB,aAAa1iB,GAAI9O,KAAK0f,OAAS5Q,EAAE4Q,OAAQ1f,KAAK8c,SAAWhO,EAAEgO,SAC9P,IAAIlc,GAAKkO,EAAE2iB,cAAgB,IAAIvpB,QAAO,SAAUvE,EAAGmL,GACjD,OAAOnL,EAAEmL,EAAE4R,IAAM5R,EAAE0gB,UAAW7rB,IAC7B,IACC2E,EAAI3E,EAAE+tB,sBAAsB5iB,EAAGlO,GACnCZ,KAAK2xB,eAAiBhuB,EAAEiuB,qBAAqBtpB,GAAItI,KAAK6xB,YAAcluB,EAAEmuB,eAAehjB,EAAGlO,EAAG0H,GAAItI,KAAK8P,SAAWkE,EAGjH,OAAOrQ,EAAE/D,UAAUmyB,YAAc,WAC/B,OAAO/xB,KAAK8P,UACXnM,EAAE6tB,aAAe,SAAU7tB,GAC5B,IAAImL,EAAI,GACJkF,EAAI,GACR,OAAQrQ,EAAEquB,gBAAkB,IAAIjuB,SAAQ,SAAUJ,GAChDmL,EAAErM,KAAK,CACLie,GAAI/c,EAAE+c,GACNuR,WAAYtf,KAAKC,UAAUjP,EAAEsuB,YAC7BztB,KAAMb,EAAEa,OACNwP,EAAEvR,KAAKkB,EAAE+c,QACV/c,EAAE4tB,WAAa,IAAIxtB,SAAQ,SAAUJ,IACvC,IAAMqQ,EAAEtT,QAAQiD,EAAE+c,KAAO,uBAAyB/c,EAAE+c,IAAM5R,EAAErM,KAAK,CAChEie,GAAI/c,EAAE+c,GACNuR,WAAYtf,KAAKC,UAAUjP,EAAEsuB,YAC7BztB,KAAMb,EAAEa,UAERsK,GACHnL,EAAEuuB,uBAAyB,SAAUpjB,EAAGkF,GACzC,IAAIzU,EAAI,GAER,GAAIuP,EAAG,CACL,IAAIE,EAAI,GACRF,EAAE/K,SAAQ,SAAU+K,GAClB,IAAIlO,EAAI,GACR,GAAIkO,aAAanG,MAAO/H,EAAI,KAAOA,EAAI+C,EAAEuuB,uBAAuBpjB,EAAGkF,IAAM,SAAS,GAAIod,EAAE1wB,QAAQoO,IAAM,EAAGE,EAAIF,EAAEgG,kBAAmB,CAChI,IAAIxM,EAAI0L,EAAElF,GAAKkF,EAAElF,GAAGtK,KAAOsK,EAC3BvP,GAAK,QAAUyP,GAAKA,EAAI,KAAOA,EAAI,KAAOA,EAAGzP,EAAI,KAAOA,EAAIyP,EAAI,KAAOgF,EAAElF,GAAGtK,KAAO,IAAMjF,EAAE8J,OAAO,IAAM2F,EAAI,KAAO1G,EAAI,MAAQ/I,EAAI,IAAM+I,EAAI,IAE/I,KAAO1H,IAAM,KAAOrB,GAAK,QAAUyP,GAAKA,EAAI,KAAOA,EAAI,KAAOA,EAAGzP,EAAI,KAAOA,EAAIyP,EAAI,IAAMpO,EAAIrB,EAAE8J,OAAO,IAAM2F,EAAI,IAAMpO,IAAMrB,EAAIA,EAAE8J,OAAOzI,OAI9I,OAAOrB,GACNoE,EAAEwuB,uBAAyB,SAAUrjB,EAAGkF,GACzC,OAAOlF,EAAEsjB,mBAAqBzuB,EAAEuuB,uBAAuBpjB,EAAEsjB,mBAAoBpe,EAAEqe,eAAiB,IAC/F1uB,EAAE2uB,sBAAwB,SAAU3uB,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GACjD,IAAIpO,GAAK+C,EAAEqQ,IAAM,IAAI9L,QAAO,SAAUvE,EAAGmL,GACvC,OAAOnL,EAAEmL,EAAEnP,KAAO,CAChB+gB,GAAI5R,EAAE4R,GACN/gB,IAAKmP,EAAEnP,IACP4Y,KAAMzJ,EAAEyJ,KACR3Q,MAAOkH,EAAEyjB,cACR5uB,IACF,IACH,OAAQpE,GAAK,IAAIwE,SAAQ,SAAUJ,GACjC,IAAIqQ,EAAIlF,EAAEnL,EAAE+c,IACRnhB,EAAI,CACNmhB,GAAI/c,EAAE+c,GACN/gB,IAAKqU,EAAErU,IACP4Y,KAAMvE,EAAEuE,KACR3Q,MAAOoH,EAAIrL,EAAEiE,MAAQoM,EAAEue,cAEzB3xB,EAAEoT,EAAErU,KAAOJ,KACTqB,GACH+C,EAAE6uB,iBAAmB,SAAU1jB,EAAGkF,EAAGzU,EAAGyP,GACzC,OAAOF,EAAE5G,QAAO,SAAU4G,EAAGlO,GAC3B,IAAI0H,EAAI3E,EAAE2uB,sBAAsBte,EAAGzU,EAAGyP,EAAGpO,EAAE4uB,UAAW5uB,EAAE6xB,gBACxD,OAAO3jB,EAAElO,EAAEjB,KAAO,CAChB+gB,GAAI9f,EAAE8f,GACN/gB,IAAKiB,EAAEjB,IACP8yB,eAAgB7xB,EAAE6xB,eAClBC,aAAcpqB,GACbwG,IACF,KACFnL,EAAEgvB,iBAAmB,SAAUhvB,GAChC,OAAQA,EAAE8tB,cAAgB,IAAIvpB,QAAO,SAAUvE,EAAGmL,GAChD,OAAOA,EAAE0gB,UAAUzrB,SAAQ,SAAU+K,GACnCnL,EAAEmL,EAAE4R,IAAM5R,KACRnL,IACH,KACFA,EAAEivB,iBAAmB,SAAU9jB,EAAGkF,EAAGzU,EAAGyP,GACzC,IAAIpO,EAAI+C,EAAEgvB,iBAAiB7jB,GAC3B,OAAOE,EAAE3H,KAAI,SAAU2H,GACrB,MAAO,CACL0R,GAAI1R,EAAE0R,GACN/gB,IAAKqP,EAAErP,IACP4xB,UAAW5tB,EAAEwuB,uBAAuBnjB,EAAGF,GACvC+jB,cAAelvB,EAAE6uB,iBAAiBxjB,EAAE8jB,WAAY9e,EAAGpT,EAAGrB,QAGzDoE,EAAEovB,wBAA0B,SAAUpvB,GACvC,IAAImL,EAAI,GACR,OAAQnL,GAAK,IAAII,SAAQ,SAAUJ,GACjCA,EAAEqvB,YAAYjvB,SAAQ,SAAUJ,GAC9BmL,EAAErM,KAAKkB,EAAE+c,UAET5R,GACHnL,EAAE+tB,sBAAwB,SAAU5iB,EAAGkF,GACxC,IAAIzU,EAAIoE,EAAEgvB,iBAAiB7jB,GACvBE,EAAIhP,KAAK+yB,wBAAwBjkB,EAAEmkB,UACvC,OAAQnkB,EAAEkkB,aAAe,IAAI9qB,QAAO,SAAUtH,EAAG0H,GAC/C,IAAK,IAAM0G,EAAEtO,QAAQ4H,EAAEoY,IAAK,CAC1B,IAAI3R,EAAID,EAAEokB,qBAAqB5qB,EAAEoY,IAC7B4D,EAAI,GACRvV,GAAKA,EAAEtP,OAAS,IAAM6kB,EAAIvV,EAAE,IAC5B,IAAItI,EAAI9C,EAAE6uB,iBAAiBlqB,EAAEwqB,WAAY9e,EAAGzU,EAAG+kB,EAAE1L,YACjDhY,EAAE0H,EAAEoY,IAAM,CACRA,GAAIpY,EAAEoY,GACN/gB,IAAK2I,EAAE3I,IACP4xB,UAAW5tB,EAAEwuB,uBAAuB7pB,EAAGwG,GACvC+jB,cAAepsB,GAInB,OAAO7F,IACN,KACF+C,EAAEiuB,qBAAuB,SAAUjuB,GACpC,IAAImL,EAAI,GAER,IAAK,IAAIkF,KAAKrQ,EAAG,CACf,IAAIpE,EAAIoE,EAAEqQ,GACVlF,EAAEvP,EAAEI,KAAOJ,EAGb,OAAOuP,GACNnL,EAAEmuB,eAAiB,SAAUhjB,EAAGkF,EAAGzU,GACpC,IAAIyP,EAAI,GACR,OAAOF,EAAE2iB,aAAa1tB,SAAQ,SAAUnD,GACtC,IAAI0H,EAAI,GACJyG,EAAI,GACRnO,EAAEuyB,cAAcpvB,SAAQ,SAAUJ,GAChC,IAAImL,EAAIvP,EAAEoE,GACVmL,IAAMxG,EAAEwG,EAAEnP,KAAOmP,GAAIC,EAAEtM,KAAKlD,EAAEoE,OAEhC,IAAI2gB,GAAK1jB,EAAE4uB,WAAa,IAAItnB,QAAO,SAAUvE,EAAGmL,GAC9C,OAAOnL,EAAEmL,EAAEnP,KAAO,CAChB+gB,GAAI5R,EAAE4R,GACN/gB,IAAKmP,EAAEnP,IACP4Y,KAAMzJ,EAAEyJ,KACR3Q,MAAOkH,EAAEyjB,cACR5uB,IACF,IACC8C,EAAI,GACJkgB,EAAI7X,EAAEskB,aAAaxyB,EAAEyyB,WACzB1M,IAAMlgB,EAAI9C,EAAEivB,iBAAiB9jB,EAAGkF,EAAGpT,EAAE8f,GAAIiG,EAAEqM,cAAehkB,EAAEpO,EAAEjB,KAAO,CACnE+gB,GAAI9f,EAAE8f,GACN/gB,IAAKiB,EAAEjB,IACP2zB,gBAAiBvkB,EACjBwkB,cAAe9sB,EACfkrB,eAAgBrpB,EAChBoqB,aAAcpO,MAEdtV,GACHrL,EA3JG,GA8JJsQ,EAAIjN,KAAKwsB,IAAI,EAAG,IAChBC,EAAI,CACNp0B,OAAQ,SAAgBsE,GACtB,IAAK,IAAImL,EAAI,GAAIkF,EAAI,EAAGA,EAAIxU,UAAUC,OAAQuU,IAC5ClF,EAAEkF,EAAI,GAAKxU,UAAUwU,GAGvB,IAAKrQ,EAAG,MAAO,GACf,GAAI,mBAAqBvE,OAAOC,OAAQ,OAAOD,OAAOC,OAAOU,MAAMX,OAAQ2P,EAAE,CAACpL,GAAImL,IAElF,IAAK,IAAIvP,EAAIH,OAAOuE,GAAIqL,EAAI,EAAGA,EAAIF,EAAErP,OAAQuP,IAAK,CAChD,IAAIpO,EAAIkO,EAAEE,GACV,GAAI,MAAQpO,EAAG,IAAK,IAAI0H,KAAK1H,EAC3BxB,OAAOQ,UAAUC,eAAeC,KAAKc,EAAG0H,KAAO/I,EAAE+I,GAAK1H,EAAE0H,IAI5D,OAAO/I,GAETm0B,iBAAkB,WAChB,OAAO1sB,KAAK4D,OAAM,IAAIrH,MAAOwS,YAE/B4d,cAAe,SAAuBhwB,GACpC,MAAO,iBAAmBA,GAAKqD,KAAK4sB,IAAIjwB,IAAMsQ,GAEhDmE,MAAO,SAAezU,EAAGmL,GACvB,OAAOnL,EAAIpE,EAAE6Y,MAAMzU,GAAG,SAAUA,GAC9B,OAAOA,EAAEmL,MACN,IAEP4J,KAAMnZ,EAAE+X,aACRuc,SAAU,SAAkBlwB,GAC1B,MAAO,iBAAmBA,IAG1BmwB,EAAI,iBAEJC,EAAI,SAAWpwB,EAAGmL,QACpB,IAAWA,IAAMA,EAAI,MACrB,IAAIkF,EACAhF,EACApO,EACA0H,EACAyG,GAAKiF,EAAIrQ,GAAI2E,EAAImrB,EAAEp0B,OAAO,GAAI2U,IAAIud,WAAavd,EAAEud,WAAa,IAAIlqB,KAAI,SAAU1D,GAClF,OAAO8vB,EAAEp0B,OAAO,GAAIsE,MAClB2E,EAAE0qB,aAAehf,EAAEgf,aAAe,IAAI3rB,KAAI,SAAU1D,GACtD,OAAO8vB,EAAEp0B,OAAO,GAAIsE,MAClB2E,EAAEmpB,cAAgBzd,EAAEyd,cAAgB,IAAIpqB,KAAI,SAAU1D,GACxD,OAAO8vB,EAAEp0B,OAAO,GAAIsE,MAClB2E,EAAE0rB,QAAUhgB,EAAEggB,QAAU,IAAI3sB,KAAI,SAAU1D,GAC5C,IAAImL,EAAI2kB,EAAEp0B,OAAO,GAAIsE,GACrB,OAAOmL,EAAEkkB,aAAervB,EAAEqvB,aAAe,IAAI3rB,KAAI,SAAU1D,GACzD,OAAO8vB,EAAEp0B,OAAO,GAAIsE,MAClBmL,KACFxG,EAAE2qB,UAAYjf,EAAEif,UAAY,IAAI5rB,KAAI,SAAU1D,GAChD,IAAImL,EAAI2kB,EAAEp0B,OAAO,GAAIsE,GACrB,OAAOmL,EAAEkkB,aAAervB,EAAEqvB,aAAe,IAAI3rB,KAAI,SAAU1D,GACzD,OAAO8vB,EAAEp0B,OAAO,GAAIsE,MAClBmL,KACFxG,EAAEgpB,eAAiB,QAAUtiB,EAAIgF,EAAEsd,sBAAmB,IAAWtiB,EAAIA,EAAI,GAAI1G,EAAE0H,OAAS,QAAUpP,EAAIoT,EAAEhE,cAAW,IAAWpP,EAAIA,EAAI,GAAI0H,GAC9I,OAAOyG,EAAEklB,cAAgB,OAASnlB,EAAI6D,KAAKC,UAAUjP,GAAKmL,GAAIC,EAAEwiB,WAAa,IAAIxtB,SAAQ,SAAUJ,GACjGA,EAAEsuB,WAAatf,KAAKiM,MAAMjb,EAAEsuB,eAC1BljB,EAAEsjB,cAAgBoB,EAAErb,MAAMrJ,EAAEwiB,UAAW,MAAOkC,EAAEp0B,OAAO0P,EAAEsjB,cAAeoB,EAAErb,MAAMrJ,EAAEijB,eAAgB,OAAQjjB,EAAEmlB,gBAAkBT,EAAErb,MAAMrJ,EAAEgT,WAAY,OAAQhT,EAAEolB,YAAcV,EAAErb,MAAMrJ,EAAE2Q,OAAQ,OAAQ3Q,EAAEqlB,WAAaX,EAAErb,MAAMrJ,EAAEilB,OAAQ,MAAO50B,OAAOqB,KAAKsO,EAAEqlB,YAAc,IAAIrwB,SAAQ,SAAUJ,IACjSoL,EAAEqlB,WAAWzwB,GAAGqvB,aAAe,IAAIjvB,SAAQ,SAAU+K,GACpDC,EAAEikB,YAAYvwB,KAAKgxB,EAAEp0B,OAAOyP,EAAG,CAC7BulB,QAAS1wB,WAGXoL,EAAEqkB,aAAeK,EAAErb,MAAMrJ,EAAEkkB,UAAY,GAAI,MAAO1zB,EAAE8X,aAAatI,EAAEqkB,cAAgB,IAAIrvB,SAAQ,SAAUJ,IAC1GA,EAAEqvB,aAAe,IAAIjvB,SAAQ,SAAUJ,GACtCoL,EAAEikB,YAAYvwB,KAAKkB,GAAIA,EAAE2wB,gBAAkBb,EAAErb,MAAMzU,EAAEmvB,WAAY,aAEjE/jB,EAAEwlB,iBAAmBd,EAAErb,MAAMrJ,EAAEikB,YAAa,OAAQjkB,EAAEylB,gBAAkBf,EAAErb,MAAMrJ,EAAEikB,YAAa,MAAOjkB,EAAE0lB,eAAiB,GAAI1lB,EAAE2lB,0BAA4B,IAAK3lB,EAAEikB,aAAe,IAAIjvB,SAAQ,SAAUJ,GACzMA,EAAE2wB,gBAAkBb,EAAErb,MAAMzU,EAAEmvB,WAAY,OAAQW,EAAEp0B,OAAO0P,EAAE0lB,eAAgBhB,EAAErb,MAAMzU,EAAEmvB,WAAY,OAAQvzB,EAAE8X,aAAa1T,EAAE2wB,iBAAmB,IAAIvwB,SAAQ,SAAUJ,GACnKA,EAAE6rB,YAAczgB,EAAE2lB,0BAA0B/wB,EAAE+c,IAAM+S,EAAErb,MAAMzU,EAAE6rB,UAAW,aAEzEzgB,EAAEmkB,qBAAuB,GAAInkB,EAAE4lB,cAAgBlB,EAAErb,MAAMrJ,EAAE0iB,cAAgB,GAAI,OAAQlyB,EAAE8X,aAAatI,EAAE4lB,eAAiB,IAAI5wB,SAAQ,SAAUJ,GAC/IA,EAAE6rB,UAAUzrB,SAAQ,SAAUJ,GAC5BA,EAAE4U,OAAS0K,EAAE8J,QAAUppB,EAAEixB,UAAY3R,EAAEtQ,OAAShP,EAAE4U,KAAO0K,EAAEtQ,YAAahP,EAAEixB,YACxEjxB,EAAEkxB,eAAiBpB,EAAErb,MAAMzU,EAAE6rB,UAAW,QAAS7rB,EAAEwvB,eAAiB,IAAIpvB,SAAQ,SAAU+K,GAC5FC,EAAEmkB,qBAAqBpkB,GAAKC,EAAEmkB,qBAAqBpkB,GAAGrM,KAAKkB,EAAE+c,IAAM3R,EAAEmkB,qBAAqBpkB,GAAK,CAACnL,EAAE+c,UAElG3R,EAAE+lB,aAAe,IAAK/lB,EAAE0iB,cAAgB,IAAI1tB,SAAQ,SAAUJ,GAChE,IAAImL,EAAI,GACRnL,EAAEwvB,cAAcpvB,SAAQ,SAAUJ,GAChC,IAAIqQ,EAAIjF,EAAEylB,gBAAgB7wB,GAC1BqQ,GAAKlF,EAAErM,KAAKuR,MAEd,IAAIA,EAAIjF,EAAEqkB,aAAazvB,EAAE0vB,WACzBrf,GAAKlF,EAAErM,KAAK1C,MAAM+O,EAAGkF,EAAEgf,aAAcjkB,EAAE+lB,aAAanxB,EAAEhE,KAAOmP,KAC3DC,EAAEgmB,kBAAoB,GAAIx1B,EAAEyY,cAAcjJ,EAAE+lB,cAAgB,IAAI/wB,SAAQ,SAAUJ,GACpF,IAAImL,EAAInL,EAAE,GACNqQ,EAAIrQ,EAAE,GACNqL,EAAI,GACRgF,EAAEjQ,SAAQ,SAAUJ,GAClBA,EAAEmvB,WAAW/uB,SAAQ,SAAUJ,GAC7BpE,EAAE0Y,KAAKjJ,GAAG,SAAUF,GAClB,OAAOA,EAAE4R,KAAO/c,EAAE+c,OACd1R,EAAEvM,KAAKkB,SAEboL,EAAEgmB,kBAAkBjmB,GAAKE,KAC3BD,GAEFimB,EAAI,SAAWrxB,EAAGmL,GACpB,IAAIkF,EAAIrQ,EAAE6wB,gBAAgB1lB,GAC1B,IAAKkF,EAAG,MAAM,IAAIpH,MAAMrN,EAAEyR,QAAQvK,EAAE6e,sBAAuBwO,EAAGhlB,IAC9D,OAAOkF,EAAEmN,SAEP8T,EAAI,SAAWtxB,EAAGmL,EAAGkF,GACvB,IAAIzU,EAAIoE,EAAEuwB,gBAAgBplB,GACtBE,EAAI,IAAMF,EAAEpO,QAAQ,SACxB,OAAOnB,GAAKyP,GAAKgF,EAAE2B,IAAI2O,EAAE5P,QAAS,2GAA4G5F,EAAG,SAAUvP,EAAEmhB,IAAM1R,EAAIF,GAAKkF,EAAE2B,IAAI2O,EAAE9P,MAAO/N,EAAEuf,uBAAwB8N,EAAGhlB,GAAI,OAE1NoF,EAAI,SAAWvQ,EAAGmL,GACpB,IAAIkF,EAAIrQ,EAAEwwB,YAAYrlB,GACtB,OAAOkF,EAAIA,EAAE0M,GAAK,MAEhBwU,EAAI,SAAWvxB,EAAGmL,GACpB,IAAIkF,EAAIrQ,EAAE4wB,iBAAiBzlB,GAC3B,IAAKkF,EAAG,MAAM,IAAIpH,MAAMrN,EAAEyR,QAAQvK,EAAE4e,uBAAwByO,EAAGhlB,IAC/D,OAAOkF,EAAErH,QAEPwoB,EAAI,SAAWxxB,EAAGmL,GACpB,OAAOnL,EAAE8wB,eAAe50B,eAAeiP,GAAKnL,EAAE8wB,eAAe3lB,GAAGnP,IAAM,MAEpEy1B,EAAI,SAAWzxB,EAAGmL,GACpB,GAAInL,EAAE4wB,iBAAiB10B,eAAeiP,GAAI,CACxC,IAAIkF,EAAIrQ,EAAE4wB,iBAAiBzlB,GAC3B,GAAIkF,EAAG,OAAOA,EAGhB,MAAM,IAAIpH,MAAMrN,EAAEyR,QAAQvK,EAAEge,+BAAgCqP,EAAGhlB,KAE7DumB,EAAI,SAAW1xB,EAAGmL,GACpB,IAAIkF,EAAIrQ,EAAE6wB,gBAAgB1lB,GAC1B,IAAKkF,EAAG,MAAM,IAAIpH,MAAMrN,EAAEyR,QAAQvK,EAAE6e,sBAAuBwO,EAAGhlB,IAC9D,OAAOkF,EAAEshB,mBAEPC,EAAI,SAAW5xB,EAAGmL,EAAGkF,GACvB,GAAIrQ,EAAE6wB,gBAAgB30B,eAAeiP,GAAI,CACvC,IAAIvP,EAAIoE,EAAE6wB,gBAAgB1lB,GAC1B,GAAIvP,EAAG,OAAOA,EAGhB,OAAOyU,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAE6e,sBAAuBwO,EAAGhlB,GAAI,MAEpD0mB,EAAI,SAAW7xB,EAAGmL,EAAGkF,GACvB,IAAKrQ,EAAG,OAAO,KACf,IAAIqL,EAAIrL,EAAEoxB,kBAAkBjmB,GACxBlO,EAAIrB,EAAE0Y,KAAKjJ,GAAG,SAAUrL,GAC1B,OAAOA,EAAEhE,MAAQqU,KAEnB,OAAOpT,GAAK,MAEV60B,EAAI,SAAW9xB,EAAGmL,EAAGkF,GACvB,GAAIrQ,EAAEgxB,cAAc90B,eAAeiP,GAAI,CACrC,IAAIvP,EAAIoE,EAAEgxB,cAAc7lB,GACxB,GAAIvP,EAAG,OAAOA,EAGhB,OAAOyU,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAEie,wBAAyBoP,EAAGhlB,GAAI,MAEtDjG,EAAI,SAAWlF,GACjB,OAAOA,EAAEswB,eAEPyB,EAAI,SAAW/xB,GACjB,IAAImL,EAEJ,IACEA,EA9gBI,SAAWnL,GACjB,IAAKA,EAAG,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAEmf,sBAAuB6I,IAC3D,GAAI,iBAAmB9qB,EAAG,IACxBA,EAAIgP,KAAKiM,MAAMjb,GACf,MAAOA,GACP,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAEse,2BAA4B0J,IAE1D,GAAI,iBAAmB9qB,IAAMgF,MAAM0oB,QAAQ1tB,IAAM,OAASA,IAAM,IAAM+qB,EAAEhuB,QAAQiD,EAAEgyB,SAAU,MAAM,IAAI/oB,MAAMrN,EAAEyR,QAAQvK,EAAEggB,yBAA0BgI,EAAG9qB,EAAEgyB,UACvJ,OAAOhyB,EAsgBDiyB,CAAEjyB,EAAEmM,UACR,MAAOnM,GACP,MAAO,CACLkyB,UAAW,KACXjoB,MAAOjK,GAIX,GAAIA,EAAEmyB,oBAAqB,IACzBnyB,EAAEmyB,oBAAoBC,SAASjnB,GAAInL,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE8D,eAAgBqJ,GAC1E,MAAOnwB,GACP,MAAO,CACLkyB,UAAW,KACXjoB,MAAOjK,QAEJA,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE6B,yBAA0BsL,GACxD,IAAI9f,EAAI,CAAClF,GACT,MAAO,iBAAmBnL,EAAEmM,UAAYkE,EAAEvR,KAAKkB,EAAEmM,UAAW,CAC1D+lB,UAAW9B,EAAEh0B,WAAM,EAAQiU,GAC3BpG,MAAO,OAGPooB,GAAI,SAAWryB,GACjB,QAASA,EAAEsyB,mBAETC,GAAKpnB,EAAE/C,YAEX,SAASoqB,GAAGxyB,EAAGmL,GACb,OAAOnL,aAAaiJ,MAAQjJ,EAAEsO,QAAUnD,GAAK,gBAG/C,IAAIsnB,GAAK,WACP,SAASzyB,EAAEA,GACT3D,KAAKq2B,gBAAkB,GAAIr2B,KAAK61B,UAAY,KAAM71B,KAAKs2B,oBAAsB,KAAMt2B,KAAKu2B,gBAAkB,KAE1G,IACE,GAAIv2B,KAAK81B,oBAAsBnyB,EAAEmyB,qBAAsBnyB,EAAEmM,WAAanM,EAAEqM,OAAQ,CAC9E,IAAIlB,EAAI,IAAIlC,MAAMrN,EAAEyR,QAAQvK,EAAE+d,6BAA8B,2BAC5D,OAAOxkB,KAAK2Q,aAAe9M,QAAQ4B,QAAQ,CACzC+wB,SAAS,EACTC,OAAQN,GAAGrnB,UACJonB,GAAGtoB,MAAMkB,GAGpB,IAAIkF,EAAI,KACRrQ,EAAEmM,WAAakE,EAAIhU,KAAK02B,kBAAkB/yB,EAAEmM,WAAYnM,EAAEqM,QAAUrM,EAAE4yB,iBAAmBv2B,KAAKu2B,gBAAkB5yB,EAAE4yB,gBAAiBv2B,KAAKu2B,gBAAgB/kB,QAASxR,KAAK2Q,aAAe3Q,KAAKu2B,gBAAgBzkB,UAAUe,KAAK7S,KAAK22B,8BAA8Bzd,KAAKlZ,MAAOA,KAAK42B,6BAA6B1d,KAAKlZ,OAAQA,KAAKu2B,gBAAgBloB,GAAG,SAAUrO,KAAK62B,wBAAwB3d,KAAKlZ,QAAUA,KAAK61B,UAAY71B,KAAK2Q,aAAe9M,QAAQ4B,QAAQ,CACxb+wB,SAAS,IACNx2B,KAAK2Q,aAAe9M,QAAQ4B,QAAQ,CACvC+wB,SAAS,EACTC,OAAQN,GAAGniB,EAAG,sBAEhB,MAAOrQ,GACPuyB,GAAGtoB,MAAMjK,GAAI3D,KAAK2Q,aAAe9M,QAAQ4B,QAAQ,CAC/C+wB,SAAS,EACTC,OAAQN,GAAGxyB,EAAG,0BAKpB,OAAOA,EAAE/D,UAAU+2B,8BAAgC,WACjD,GAAI32B,KAAKu2B,gBAAiB,CACxB,IAAI5yB,EAAI3D,KAAK02B,kBAAkB12B,KAAKu2B,gBAAgBhnB,OACpD,OAAO5L,EAAI,CACT6yB,SAAS,EACTC,OAAQN,GAAGxyB,IACT,CACF6yB,SAAS,GAIb,MAAO,CACLA,SAAS,EACTC,OAAQN,GAAG,KAAM,sCAElBxyB,EAAE/D,UAAUg3B,6BAA+B,SAAUjzB,GACtD,MAAO,CACL6yB,SAAS,EACTC,OAAQN,GAAGxyB,EAAG,4BAEfA,EAAE/D,UAAUi3B,wBAA0B,WACvC72B,KAAKu2B,iBAAmBv2B,KAAK02B,kBAAkB12B,KAAKu2B,gBAAgBhnB,QACnE5L,EAAE/D,UAAU82B,kBAAoB,SAAU/yB,GAC3C,IAAImL,EAAI4mB,EAAE,CACR5lB,SAAUnM,EACVmyB,oBAAqB91B,KAAK81B,oBAC1BhqB,OAAQoqB,KAENliB,EAAIlF,EAAE+mB,UACNt2B,EAAIuP,EAAElB,MACV,GAAIrO,EAAG22B,GAAGtoB,MAAMrO,OAAQ,CACtB,IAAIyP,EAAIhP,KAAK61B,UAAY71B,KAAK61B,UAAU/Y,SAAW,OACnD9I,GAAKhF,IAAMgF,EAAE8I,WAAa9c,KAAK61B,UAAY7hB,EAAGhU,KAAKs2B,oBAAsB,KAAMt2B,KAAKq2B,gBAAgBtyB,SAAQ,SAAUJ,GACpH,OAAOA,EAAEqQ,OAGb,OAAOzU,GACNoE,EAAE/D,UAAUk3B,UAAY,WACzB,OAAO92B,KAAK61B,WACXlyB,EAAE/D,UAAUm3B,oBAAsB,WACnC,IAAIpzB,EAAGmL,EACP,OAAQ9O,KAAKs2B,qBAAuBt2B,KAAK61B,YAAc71B,KAAKs2B,qBAAuB3yB,EAAI3D,KAAK61B,UAAW/mB,EAAIjG,EAAE7I,KAAK61B,WAAY,IAAIttB,EAAE5E,EAAGmL,KAAM9O,KAAKs2B,qBACjJ3yB,EAAE/D,UAAUkS,QAAU,WACvB,OAAO9R,KAAK2Q,cACXhN,EAAE/D,UAAUo3B,SAAW,SAAUrzB,GAClC,IAAImL,EAAI9O,KACR,OAAOA,KAAKq2B,gBAAgB5zB,KAAKkB,GAAI,WACnC,IAAIqQ,EAAIlF,EAAEunB,gBAAgB31B,QAAQiD,GAClCqQ,GAAK,GAAKlF,EAAEunB,gBAAgBtf,OAAO/C,EAAG,KAEvCrQ,EAAE/D,UAAUgS,KAAO,WACpB5R,KAAKu2B,iBAAmBv2B,KAAKu2B,gBAAgB3kB,OAAQ5R,KAAKq2B,gBAAkB,IAC3E1yB,EAhFI,GAmFLszB,GAAKjwB,KAAKwsB,IAAI,EAAG,IACjB0D,GAAK,SAAYvzB,GACnB,IAAImL,EAAI,GACJkF,EAAIrQ,EAAE6wB,gBAAgB7wB,EAAEwzB,cAAc9C,QAE1C,GAAIrgB,EAAG,CACL,IAAIhF,EAAIrL,EAAEywB,WAAWpgB,GACrB,IAAKhF,EAAG,MAAM,IAAIpC,MAAMrN,EAAEyR,QAAQvK,EAAE8e,iBAAkB,WAAYvR,IAElE,GAAI,WAAahF,EAAEooB,OAAQ,CACzB,IAAIx2B,EAAIy2B,GAAGroB,EAAGrL,EAAE2zB,YAAa3zB,EAAEwsB,OAAQxsB,EAAEmI,QACzC,GAAI,OAASlL,EAAG,OAAO+C,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEwD,2BAA4B,WAAYxmB,EAAEwsB,OAAQnc,GAAIlF,EAAErM,KAAK,CAACkkB,EAAEwD,2BAA4B,WAAYxmB,EAAEwsB,OAAQnc,IAAK,CACnKkI,OAAQ,KACRwT,QAAS5gB,GAEX,GAAIlO,IAAM+C,EAAEwzB,aAAc,OAAOxzB,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEsC,2CAA4C,WAAYtlB,EAAEwsB,OAAQxsB,EAAE4zB,cAAevjB,GAAIlF,EAAErM,KAAK,CAACkkB,EAAEsC,2CAA4C,WAAYtlB,EAAEwsB,OAAQxsB,EAAE4zB,cAAevjB,IAAK,CAC/OkI,OAAQ,KACRwT,QAAS5gB,GAEXnL,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEiC,uCAAwC,WAAYjlB,EAAEwsB,OAAQxsB,EAAE4zB,cAAevjB,GAAIlF,EAAErM,KAAK,CAACkkB,EAAEiC,uCAAwC,WAAYjlB,EAAEwsB,OAAQxsB,EAAE4zB,cAAevjB,KAIvM,IAAI1L,EAAI,GAAK3E,EAAE2zB,YAAc3zB,EAAEwzB,aAC3BpoB,EAAIyoB,GAAGlvB,GACX3E,EAAEmI,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEgC,mCAAoC,WAAY5Z,EAAGpL,EAAEwsB,QAASrhB,EAAErM,KAAK,CAACkkB,EAAEgC,mCAAoC,WAAY5Z,EAAGpL,EAAEwsB,SACrJ,IAAIvE,EAAI6L,GAAG1oB,EAAGpL,EAAE+zB,yBAChB,OAAO,OAAS9L,GAAKjoB,EAAE8wB,eAAe7I,GAAK,CACzC1P,OAAQ0P,EACR8D,QAAS5gB,IACN8c,IAAMjoB,EAAEmI,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAEiB,qBAAsB,YAAa9Y,EAAErM,KAAK,CAACkkB,EAAEiB,qBAAsB,cAAe,CACrH1L,OAAQ,KACRwT,QAAS5gB,KAGTuoB,GAAK,SAAY1zB,EAAGmL,EAAGkF,EAAGzU,GAC5B,IAAIyP,EAAI,GAAKF,EAAInL,EAAE+c,GACf9f,EAAI42B,GAAGxoB,GACXzP,EAAEoW,IAAI2O,EAAE9P,MAAOmS,EAAEgC,mCAAoC,WAAY/nB,EAAGoT,GACpE,IAAI1L,EAAI3E,EAAE2xB,kBACV,OAAOmC,GAAG72B,EAAG0H,IAEXmvB,GAAK,SAAY9zB,EAAGmL,GACtB,IAAK,IAAIkF,EAAI,EAAGA,EAAIlF,EAAErP,OAAQuU,IAC5B,GAAIrQ,EAAImL,EAAEkF,GAAG2jB,WAAY,OAAO7oB,EAAEkF,GAAGiO,SAGvC,OAAO,MAELuV,GAAK,SAAY7zB,GACnB,IACE,IAAImL,EAAIE,EAAE4oB,GAAGj0B,EAAG,GAAKszB,GACrB,OAAOjwB,KAAK+T,MAAM,IAAMjM,GACxB,MAAOA,GACP,MAAM,IAAIlC,MAAMrN,EAAEyR,QAAQvK,EAAEoe,qBAAsB,WAAYlhB,EAAGmL,EAAEmD,YAGnE4lB,GAAK/oB,EAAE/C,YAEX,SAAS+rB,GAAGn0B,GACV,MAAO,QAAQoE,KAAKpE,GAGtB,SAASo0B,GAAGp0B,GACV,IAAImL,EAAInL,EAAEjD,QAAQ,KACdsT,EAAIrQ,EAAEjD,QAAQ,KAClB,QAASoO,EAAI,KAAOkF,EAAI,GAAKlF,EAAIkF,GAGnC,SAASgkB,GAAGr0B,GACV,IAAImL,EAAInL,EAAEjD,QAAQ,KACdsT,EAAIrQ,EAAEjD,QAAQ,KAClB,QAASsT,EAAI,KAAOlF,EAAI,GAAKkF,EAAIlF,GAGnC,SAASmpB,GAAGt0B,GACV,IAAImL,EAAInL,EACJqQ,EAAI,GACR,GAAI,SAAUrQ,GACZ,MAAO,KAAKoE,KAAKpE,GADf,CAEFA,GAAI,OAAOk0B,GAAG1mB,KAAKwV,EAAE6E,mBAAoB,mBAAoB7nB,GAAI,KACnE,GAAIo0B,GAAGp0B,IAAMmL,EAAInL,EAAEu0B,UAAU,EAAGv0B,EAAEjD,QAAQ,MAAOsT,EAAIrQ,EAAEu0B,UAAUv0B,EAAEjD,QAAQ,KAAO,IAAMs3B,GAAGr0B,KAAOmL,EAAInL,EAAEu0B,UAAU,EAAGv0B,EAAEjD,QAAQ,MAAOsT,EAAIrQ,EAAEu0B,UAAUv0B,EAAEjD,QAAQ,KAAO,IAAK,iBAAmBoO,GAAK,iBAAmBkF,EAAG,OAAO,KACjO,IAAIzU,EAAIuP,EAAEjK,MAAM,KAAKpF,OAAS,EAC9B,GAAIF,EAAI,EAAG,OAAOs4B,GAAG1mB,KAAKwV,EAAE6E,mBAAoB,mBAAoB7nB,GAAI,KACxE,IAAIqL,EAAIF,EAAEjK,MAAM,KAChB,GAAImK,EAAEvP,QAAUF,EAAI,EAAG,OAAOs4B,GAAG1mB,KAAKwV,EAAE6E,mBAAoB,mBAAoB7nB,GAAI,KAEpF,IAAK,IAAI/C,EAAI,EAAG0H,EAAI0G,EAAGpO,EAAI0H,EAAE7I,OAAQmB,IACnC,IAAKk3B,GAAGxvB,EAAE1H,IAAK,OAAOi3B,GAAG1mB,KAAKwV,EAAE6E,mBAAoB,mBAAoB7nB,GAAI,KAG9E,OAAOqQ,GAAKhF,EAAEvM,KAAKuR,GAAIhF,EAGzB,IAAImpB,GAAK,uCACLC,GAAKtpB,EAAE/C,YACPssB,GAAK,CAAC,QAAS,SAAU,KAAM,KAAM,KAAM,KAAM,YAAa,YAAa,YAAa,YAAa,YAAa,aAClHC,GAAK,GAET,SAASC,GAAG50B,GACV,MAAO,iBAAmBA,GAAK,kBAAoBA,GAAK8vB,EAAEI,SAASlwB,GAGrE,SAAS60B,GAAG70B,EAAGmL,GACb,IAAIkF,EAAIrQ,EAAEiE,MACNrI,SAAWyU,EACXhF,EAAIrL,EAAEa,KACN5D,EAAIkO,EAAEE,GACN1G,SAAW1H,EACf,OAAQ23B,GAAGvkB,IAAMyf,EAAEI,SAAS7f,KAAOyf,EAAEE,cAAc3f,IAAMokB,GAAGjnB,KAAKwV,EAAEyE,2BAA4B+M,GAAIxlB,KAAKC,UAAUjP,IAAK,MAAQ,OAAS/C,GAAKw3B,GAAG3mB,MAAMkV,EAAE2E,qBAAsB6M,GAAIxlB,KAAKC,UAAUjP,GAAIqL,GAAI,MAAQupB,GAAG33B,IAAMrB,IAAM+I,EAAImrB,EAAEI,SAASjzB,KAAO6yB,EAAEE,cAAc/yB,IAAMw3B,GAAGjnB,KAAKwV,EAAE+E,cAAeyM,GAAIxlB,KAAKC,UAAUjP,GAAIqL,GAAI,MAAQgF,IAAMpT,GAAKw3B,GAAGjnB,KAAKwV,EAAE0E,gBAAiB8M,GAAIxlB,KAAKC,UAAUjP,GAAI2E,EAAG0G,GAAI,MAG9Y,SAASypB,GAAG90B,EAAGmL,GACb,IAAIkF,EAAIrQ,EAAEa,KACNjF,EAAIuP,EAAEkF,GACNhF,SAAWzP,EACXqB,EAAI+C,EAAEiE,MACV,OAAO,OAAShH,GAAK6yB,EAAEE,cAAc/yB,GAAK,OAASrB,GAAK64B,GAAG3mB,MAAMkV,EAAE2E,qBAAsB6M,GAAIxlB,KAAKC,UAAUjP,GAAIqQ,IAAI,GAAMyf,EAAEI,SAASt0B,KAAOk0B,EAAEE,cAAcp0B,KAAO64B,GAAGjnB,KAAKwV,EAAE+E,cAAeyM,GAAIxlB,KAAKC,UAAUjP,GAAIqQ,IAAI,IAAOokB,GAAGjnB,KAAKwV,EAAE0E,gBAAiB8M,GAAIxlB,KAAKC,UAAUjP,GAAIqL,EAAGgF,IAAI,IAAOokB,GAAGjnB,KAAKwV,EAAEyE,2BAA4B+M,GAAIxlB,KAAKC,UAAUjP,KAAK,GAG9V,SAAS+0B,GAAG/0B,EAAGmL,GACb,IAAIkF,EAAIrQ,EAAEa,KACNjF,EAAIuP,EAAEkF,GACNhF,SAAWzP,EACXqB,EAAI+C,EAAEiE,MACV,MAAO,iBAAmBhH,GAAKw3B,GAAGjnB,KAAKwV,EAAEyE,2BAA4B+M,GAAIxlB,KAAKC,UAAUjP,IAAK,MAAQ,OAASpE,GAAK64B,GAAG3mB,MAAMkV,EAAE2E,qBAAsB6M,GAAIxlB,KAAKC,UAAUjP,GAAIqQ,GAAI,MAAQ,iBAAmBzU,GAAK64B,GAAGjnB,KAAKwV,EAAE0E,gBAAiB8M,GAAIxlB,KAAKC,UAAUjP,GAAIqL,EAAGgF,GAAI,MAAQ,SAAUrQ,EAAGmL,GAC3R,IAAIkF,EAAIikB,GAAGnpB,GACPvP,EAAI04B,GAAGt0B,GACX,IAAKqQ,IAAMzU,EAAG,OAAO,KAErB,IAAK,IAAIyP,EAAIgF,EAAEvU,OAAQmB,EAAI,EAAGA,EAAIrB,EAAEE,OAAQmB,IAAK,CAC/C,GAAIoO,GAAKpO,EAAG,OAAOm3B,GAAGp0B,IAAMq0B,GAAGr0B,GAAK,GAAK,EAEzC,GAAIm0B,GAAG9jB,EAAEpT,IAAK,CACZ,IAAI0H,EAAIqwB,SAAS3kB,EAAEpT,IACfmO,EAAI4pB,SAASp5B,EAAEqB,IACnB,GAAI0H,EAAIyG,EAAG,OAAO,EAClB,GAAIzG,EAAIyG,EAAG,OAAQ,MACd,CACL,GAAIiF,EAAEpT,GAAKrB,EAAEqB,GAAI,OAAOm3B,GAAGp0B,KAAOo0B,GAAGjpB,GAAK,GAAK,EAC/C,GAAIkF,EAAEpT,GAAKrB,EAAEqB,GAAI,OAAQm3B,GAAGp0B,IAAMo0B,GAAGjpB,IAAM,EAAI,GAInD,OAAOipB,GAAGjpB,KAAOipB,GAAGp0B,IAAM,EAAI,EAnBgP,CAoB9Q/C,EAAGrB,GAGP+4B,GAAGM,MAAQJ,GAAIF,GAAGO,OAAS,SAAUl1B,EAAGmL,GAEtC,OAAO,MADCA,EAAEnL,EAAEa,OAEX8zB,GAAGQ,GAAK,SAAUn1B,EAAGmL,GACtB,IAAIkF,EAAIlF,EAAEnL,EAAEa,MACRjF,EAAIoE,EAAEiE,MACV,OAAK6wB,GAAG90B,EAAGmL,IAAM,OAASvP,EACnByU,EAAIzU,EADyB,MAEnC+4B,GAAGA,GAAK,SAAU30B,EAAGmL,GACtB,IAAIkF,EAAIlF,EAAEnL,EAAEa,MACRjF,EAAIoE,EAAEiE,MACV,OAAK6wB,GAAG90B,EAAGmL,IAAM,OAASvP,EACnByU,GAAKzU,EADwB,MAEnC+4B,GAAGS,GAAK,SAAUp1B,EAAGmL,GACtB,IAAIkF,EAAIlF,EAAEnL,EAAEa,MACRjF,EAAIoE,EAAEiE,MACV,OAAK6wB,GAAG90B,EAAGmL,IAAM,OAASvP,EACnByU,EAAIzU,EADyB,MAEnC+4B,GAAGR,GAAK,SAAUn0B,EAAGmL,GACtB,IAAIkF,EAAIlF,EAAEnL,EAAEa,MACRjF,EAAIoE,EAAEiE,MACV,OAAK6wB,GAAG90B,EAAGmL,IAAM,OAASvP,EACnByU,GAAKzU,EADwB,MAEnC+4B,GAAGJ,UAAY,SAAUv0B,EAAGmL,GAC7B,IAAIkF,EAAIrQ,EAAEa,KACNjF,EAAIuP,EAAEnL,EAAEa,MACRwK,SAAWzP,EACXqB,EAAI+C,EAAEiE,MACV,MAAI,iBAAmBhH,GAAUw3B,GAAGjnB,KAAKwV,EAAEyE,2BAA4B+M,GAAIxlB,KAAKC,UAAUjP,IAAK,MAC3F,OAASpE,GAAU64B,GAAG3mB,MAAMkV,EAAE2E,qBAAsB6M,GAAIxlB,KAAKC,UAAUjP,GAAIqQ,GAAI,MAC/E,iBAAmBzU,GAAU64B,GAAGjnB,KAAKwV,EAAE0E,gBAAiB8M,GAAIxlB,KAAKC,UAAUjP,GAAIqL,EAAGgF,GAAI,OAClF,IAAMzU,EAAEmB,QAAQE,IACvB03B,GAAGU,UAAY,SAAUr1B,EAAGmL,GAC7B,IAAIkF,EAAI0kB,GAAG/0B,EAAGmL,GACd,OAAI,OAASkF,EAAU,KAChB,IAAMA,GACZskB,GAAGW,UAAY,SAAUt1B,EAAGmL,GAC7B,IAAIkF,EAAI0kB,GAAG/0B,EAAGmL,GACd,OAAI,OAASkF,EAAU,KAChBA,EAAI,GACVskB,GAAGY,UAAY,SAAUv1B,EAAGmL,GAC7B,IAAIkF,EAAI0kB,GAAG/0B,EAAGmL,GACd,OAAI,OAASkF,EAAU,KAChBA,GAAK,GACXskB,GAAGa,UAAY,SAAUx1B,EAAGmL,GAC7B,IAAIkF,EAAI0kB,GAAG/0B,EAAGmL,GACd,OAAI,OAASkF,EAAU,KAChBA,EAAI,GACVskB,GAAGc,UAAY,SAAUz1B,EAAGmL,GAC7B,IAAIkF,EAAI0kB,GAAG/0B,EAAGmL,GACd,OAAI,OAASkF,EAAU,KAChBA,GAAK,GAGd,IAAIqlB,GAAKj6B,OAAOouB,OAAO,CACrB1sB,UAAW,KACXw4B,SAAU,SAAkB31B,EAAGmL,GAC7B,IAAIkF,EAAIrQ,EAAE+B,MACV,QAAI,IAAWsO,IAAM,IAAMqkB,GAAG33B,QAAQsT,GAAI,OAAOokB,GAAGjnB,KAAKwV,EAAE6E,mBAAoB2M,GAAIxlB,KAAKC,UAAUjP,IAAK,KACvG,IAAIpE,EAAIoE,EAAEa,KACV,OAAOsK,EAAEjP,eAAeN,IAAM,UAAYyU,GAAKA,GAAKskB,GAAGtkB,IAAMwkB,IAAI70B,EAAGmL,IAAMspB,GAAG3mB,MAAMkV,EAAEwE,wBAAyBgN,GAAIxlB,KAAKC,UAAUjP,GAAIpE,GAAI,SAGzIg6B,GAAKzqB,EAAE/C,YACPytB,GAAK,WACP,SAAS71B,EAAEA,GACT3D,KAAKy5B,mBAAqBhG,EAAEp0B,OAAO,GAAIsE,EAAG,CACxC+1B,iBAAkBL,KAItB,OAAO11B,EAAE/D,UAAU05B,SAAW,SAAU31B,EAAGmL,EAAGkF,GAC5C,IAAIzU,EAAIS,KACR,YAAI,IAAWgU,IAAMA,EAAI,KAAMrQ,GAAK,IAAMA,EAAElE,UACnC8iB,EAAE5e,GAAG,SAAUA,GACtB,IAAIqL,EAAIF,EAAEnL,GAEV,GAAIqL,EAAG,CACLuqB,GAAG5jB,IAAI2O,EAAE9P,MAAOmS,EAAEoE,oBAAqB,qBAAsBpnB,EAAGgP,KAAKC,UAAU5D,EAAEijB,aACjF,IAAIrxB,EAAI2hB,EAAEvT,EAAEijB,WAAY1yB,EAAEo6B,oCAAoCzgB,KAAK3Z,EAAGyU,IAClE1L,EAAI,OAAS1H,EAAI,UAAYA,EAAEgY,WAAW9D,cAC9C,OAAOykB,GAAG5jB,IAAI2O,EAAE9P,MAAOmS,EAAEsE,2BAA4B,qBAAsBtnB,EAAG2E,GAAI1H,EAGpF,OAAO,SAER+C,EAAE/D,UAAU+5B,oCAAsC,SAAUh2B,EAAGmL,GAChE,IAAIkF,EAAIhU,KAAKy5B,mBAAmB3qB,EAAEyJ,MAClC,IAAKvE,EAAG,OAAOulB,GAAG5jB,IAAI2O,EAAE5P,QAASiS,EAAE4E,uBAAwB,qBAAsB5Y,KAAKC,UAAU9D,IAAK,KAErG,IACE,OAAOkF,EAAEslB,SAASxqB,EAAGnL,GACrB,MAAOA,GACP41B,GAAG5jB,IAAI2O,EAAE3P,MAAOlO,EAAE8d,0BAA2B,qBAAsBzV,EAAEyJ,KAAM5U,EAAEsO,SAG/E,OAAO,MACNtO,EAjCI,GAoCT,SAASi2B,GAAGj2B,GACV,MAAO,iBAAmBA,GAAK,KAAOA,EAGxC,IAAIk2B,GAAK,mBACLC,GAAK,WACP,SAASn2B,EAAEA,GACT,IAAImL,EACJ9O,KAAK+5B,mBAAqBjrB,EAAInL,EAAEq2B,6BAA8B,IAAIR,GAAG1qB,IAAK9O,KAAKi6B,mBAAqB,GAAIj6B,KAAK8L,OAASnI,EAAEmI,OAAQ9L,KAAKk6B,mBAAqBv2B,EAAEu2B,oBAAsB,KAGpL,OAAOv2B,EAAE/D,UAAUu6B,aAAe,SAAUx2B,EAAGmL,EAAGkF,EAAGzU,QACnD,IAAWA,IAAMA,EAAI,IACrB,IAAIyP,EAAIgF,EAAEsc,YACN1vB,EAAIoT,EAAEuc,gBACNjoB,EAAItI,KAAKo6B,eAAeprB,EAAGpO,GAC3BmO,EAAI,GACJtI,EAAIqI,EAAEnP,IACV,IAAKK,KAAKq6B,0BAA0B12B,EAAG8C,GAAI,OAAOzG,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEM,uBAAwB4S,GAAIpzB,GAAIsI,EAAEtM,KAAK,CAACkkB,EAAEM,uBAAwB4S,GAAIpzB,IAAK,CACrJyV,OAAQ,KACRwT,QAAS3gB,GAEX,IAAI6c,EAAI5rB,KAAKs6B,mBAAmB32B,EAAG8C,EAAGuI,GACtCD,EAAEtM,KAAK1C,MAAMgP,EAAG6c,EAAE8D,SAClB,IAAIxD,EAAIN,EAAE1P,OACV,GAAIgQ,EAAG,MAAO,CACZhQ,OAAQgQ,EACRwD,QAAS3gB,GAEX,IAAIgU,EAAI/iB,KAAKu6B,wBAAwBzrB,EAAGE,GACxCD,EAAEtM,KAAK1C,MAAMgP,EAAGgU,EAAE2M,SAClB,IAAIhrB,EAAIqe,EAAE7G,OACV,GAAIxX,EAAG,MAAO,CACZwX,OAAQxX,EAAE/E,IACV+vB,QAAS3gB,GAEX,IAAIkU,EAAI1jB,EAAER,EAAQ4wB,uBAAuBG,6BACrCjvB,EAAIb,KAAKw6B,2BAA2BxrB,EAAGpO,GAC3C,IAAKqiB,IAAMve,EAAI1E,KAAKy6B,mBAAmB92B,EAAGmL,EAAGE,EAAGnO,IAAK,OAAOb,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEwB,2BAA4B0R,GAAIn1B,EAAE/E,IAAK8G,EAAGuI,GAAID,EAAEtM,KAAK,CAACkkB,EAAEwB,2BAA4B0R,GAAIn1B,EAAE/E,IAAK8G,EAAGuI,IAAK,CAC3LkN,OAAQxX,EAAE/E,IACV+vB,QAAS3gB,GAEX,IAAIoe,EAAIntB,KAAK06B,wBAAwB/2B,EAAGmL,EAAG5D,EAAEwhB,WAAY9rB,EAAG,IAC5D,GAAImO,EAAEtM,KAAK1C,MAAMgP,EAAGoe,EAAEuC,UAAWvC,EAAEjR,OAAQ,OAAOlc,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEyD,uBAAwByP,GAAI7qB,EAAGvI,GAAIsI,EAAEtM,KAAK,CAACkkB,EAAEyD,uBAAwByP,GAAI7qB,EAAGvI,IAAK,CAC3JyV,OAAQ,KACRwT,QAAS3gB,GAEX,IAAIwe,EAAIvtB,KAAK26B,oBAAoBh3B,EAAGmL,EAAGxG,EAAG0G,GACtCyf,EAAIyI,GAAG3J,GACXxe,EAAEtM,KAAK1C,MAAMgP,EAAG0f,EAAEiB,SAClB,IAAIhB,EAAID,EAAEvS,OACV,OAAOwS,IAAMhqB,EAAIf,EAAE8wB,eAAe/F,IAAKhqB,GAAK1E,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE+C,mBAAoBmQ,GAAI7qB,EAAGtK,EAAE/E,IAAK8G,GAAIsI,EAAEtM,KAAK,CAACkkB,EAAE+C,mBAAoBmQ,GAAI7qB,EAAGtK,EAAE/E,IAAK8G,IAAKwc,GAAKjjB,KAAK46B,gBAAgB9rB,EAAGpK,EAAGsK,EAAGnO,GAAI,CAClMqb,OAAQxX,EAAE/E,IACV+vB,QAAS3gB,KACL/O,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEqD,sBAAuB6P,GAAI7qB,EAAGvI,GAAIsI,EAAEtM,KAAK,CAACkkB,EAAEqD,sBAAuB6P,GAAI7qB,EAAGvI,IAAK,CAC9GyV,OAAQ,KACRwT,QAAS3gB,KAEVpL,EAAE/D,UAAU46B,2BAA6B,SAAU72B,EAAGmL,GACvDA,EAAIA,GAAK,GACT,IAAIkF,EAAIhU,KAAK66B,eAAel3B,IAAM,GAC9BpE,EAAIuP,EAAE8c,EAAEG,sBACZ,OAAO0H,EAAEp0B,OAAO,GAAI2U,EAAE8mB,sBAAuBv7B,IAC5CoE,EAAE/D,UAAUy6B,0BAA4B,SAAU12B,EAAGmL,GACtD,OAAO,SAAUnL,EAAGmL,GAClB,MAAO,YAAcomB,EAAEvxB,EAAGmL,GADrB,CAELnL,EAAGmL,IACJnL,EAAE/D,UAAU26B,wBAA0B,SAAU52B,EAAGmL,GACpD,IAAIkF,EAAI,GAER,GAAIrQ,EAAEo3B,kBAAoBp3B,EAAEo3B,iBAAiBl7B,eAAeiP,GAAI,CAC9D,IAAIvP,EAAIoE,EAAEo3B,iBAAiBjsB,GAC3B,OAAOnL,EAAE2wB,gBAAgBz0B,eAAeN,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE2C,yBAA0BuQ,GAAI/qB,EAAGvP,GAAIyU,EAAEvR,KAAK,CAACkkB,EAAE2C,yBAA0BuQ,GAAI/qB,EAAGvP,IAAK,CAC3J2c,OAAQvY,EAAE2wB,gBAAgB/0B,GAC1BmwB,QAAS1b,KACLhU,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEY,wBAAyBsS,GAAIt6B,EAAGuP,GAAIkF,EAAEvR,KAAK,CAACkkB,EAAEY,wBAAyBsS,GAAIt6B,EAAGuP,IAAK,CAClHoN,OAAQ,KACRwT,QAAS1b,IAIb,MAAO,CACLkI,OAAQ,KACRwT,QAAS1b,IAEVrQ,EAAE/D,UAAU86B,wBAA0B,SAAU/2B,EAAGmL,EAAGkF,EAAGhF,EAAGpO,GAC7D,IAAI0H,EAAI,GACJyG,EAAI,SAAUpL,EAAGmL,GACnB,IAAIkF,EAAIrQ,EAAE6wB,gBAAgB1lB,GAC1B,IAAKkF,EAAG,MAAM,IAAIpH,MAAMrN,EAAEyR,QAAQvK,EAAE6e,sBAAuBwO,EAAGhlB,IAC9D,OAAOkF,EAAEoe,oBAAsBpe,EAAEgnB,YAH3B,CAINr3B,EAAGmL,EAAE4R,IACHkL,EAAIjoB,EAAE0uB,cAEVryB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEqE,8BAA+B6O,GAAI7lB,EAAGpT,GAAKkO,EAAEnP,IAAKgT,KAAKC,UAAU7D,IAAKzG,EAAE7F,KAAK,CAACkkB,EAAEqE,8BAA+B6O,GAAI7lB,EAAGpT,GAAKkO,EAAEnP,IAAKgT,KAAKC,UAAU7D,KAC5K,IAAImd,EAAIlsB,KAAK+5B,kBAAkBT,SAASvqB,EAAG6c,EAAG5c,GAC9C,OAAOhP,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEuE,oCAAqC2O,GAAI7lB,EAAGpT,GAAKkO,EAAEnP,IAAKusB,EAAEtT,WAAW9D,eAAgBxM,EAAE7F,KAAK,CAACkkB,EAAEuE,oCAAqC2O,GAAI7lB,EAAGpT,GAAKkO,EAAEnP,IAAKusB,EAAEtT,WAAW9D,gBAAiB,CACpNoH,OAAQgQ,EACRwD,QAASpnB,IAEV3E,EAAE/D,UAAU+6B,oBAAsB,SAAUh3B,EAAGmL,EAAGkF,EAAGzU,GACtD,MAAO,CACL+3B,YAAatjB,EACbmjB,aAAcroB,EAAE4R,GAChB6W,cAAezoB,EAAEnP,IACjB60B,gBAAiB7wB,EAAE6wB,gBACnBD,iBAAkB5wB,EAAE4wB,iBACpBH,WAAYzwB,EAAEywB,WACdtoB,OAAQ9L,KAAK8L,OACb4rB,wBAAyBrC,EAAE1xB,EAAGmL,EAAE4R,IAChCyP,OAAQ5wB,EACRk1B,eAAgB9wB,EAAE8wB,iBAEnB9wB,EAAE/D,UAAU66B,mBAAqB,SAAU92B,EAAGmL,EAAGkF,EAAGzU,GACrD,GAAIA,EAAEM,eAAeiP,EAAE4R,IAAK,CAC1B,IAAI1R,EAAIzP,EAAEuP,EAAE4R,IACR9f,EAAIoO,EAAEuS,aACV,GAAI5d,EAAE8wB,eAAe50B,eAAee,GAAI,OAAO+C,EAAE8wB,eAAezlB,EAAEuS,cAClEvhB,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE2B,0BAA2BuR,GAAI7lB,EAAGpT,EAAGkO,EAAEnP,KAGnE,OAAO,MACNgE,EAAE/D,UAAUi7B,eAAiB,SAAUl3B,GACxC,IAAImL,EAAI,CACNmsB,QAASt3B,EACTm3B,sBAAuB,IAEzB,IAAK96B,KAAKk6B,mBAAoB,OAAOprB,EAErC,IACE,OAAO9O,KAAKk6B,mBAAmBgB,OAAOv3B,GACtC,MAAOmL,GACP9O,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAE0f,0BAA2B0T,GAAIl2B,EAAGmL,EAAEmD,SAGjE,OAAO,MACNtO,EAAE/D,UAAUg7B,gBAAkB,SAAUj3B,EAAGmL,EAAGkF,EAAGzU,GAClD,GAAIS,KAAKk6B,mBAAoB,IAC3B36B,EAAEoE,EAAE+c,IAAM,CACRa,aAAczS,EAAE4R,IACf1gB,KAAKk6B,mBAAmBiB,KAAK,CAC9BF,QAASjnB,EACT8mB,sBAAuBv7B,IACrBS,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE0B,gBAAiBwR,GAAI/qB,EAAEnP,IAAKgE,EAAEhE,IAAKqU,GACjE,MAAOrQ,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAE2f,wBAAyByT,GAAI7lB,EAAGrQ,EAAEsO,WAE9DtO,EAAE/D,UAAUw7B,uBAAyB,SAAUz3B,EAAGmL,EAAGkF,EAAGzU,QACzD,IAAWA,IAAMA,EAAI,IACrB,IAAIyP,EAAI,GACJpO,EAAIZ,KAAKq7B,iCAAiC13B,EAAGmL,EAAGkF,EAAGzU,GACvDyP,EAAEvM,KAAK1C,MAAMiP,EAAGpO,EAAE8uB,SAClB,IAAIpnB,EAAI1H,EAAEsb,OACV,GAAI,OAAS5T,EAAEwY,UAAW,MAAO,CAC/B5E,OAAQ5T,EACRonB,QAAS1gB,GAEX,IAAID,EAAI/O,KAAKs7B,uBAAuB33B,EAAGmL,EAAGkF,GAC1ChF,EAAEvM,KAAK1C,MAAMiP,EAAGD,EAAE2gB,SAClB,IAAIjpB,EAAIsI,EAAEmN,OACN0P,EAAI5X,EAAEsc,YACV,OAAO7pB,EAAEqa,WAAa9gB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEoC,gBAAiB8Q,GAAIjO,EAAG9c,EAAEnP,KAAMqP,EAAEvM,KAAK,CAACkkB,EAAEoC,gBAAiB8Q,GAAIjO,EAAG9c,EAAEnP,MAAO,CAC1Huc,OAAQzV,EACRipB,QAAS1gB,KACLhP,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAE0C,oBAAqBwQ,GAAIjO,EAAG9c,EAAEnP,KAAMqP,EAAEvM,KAAK,CAACkkB,EAAE0C,oBAAqBwQ,GAAIjO,EAAG9c,EAAEnP,MAAO,CAClHuc,OAAQzV,EACRipB,QAAS1gB,KAEVrL,EAAE/D,UAAUy7B,iCAAmC,SAAU13B,EAAGmL,EAAGkF,EAAGzU,QACnE,IAAWA,IAAMA,EAAI,IACrB,IAAIyP,EACApO,EACA0H,EAAI,GACJyG,EAAI,KACR,GAAID,EAAEqkB,cAAc1zB,OAAS,EAAG,IAAKmB,EAAI,EAAGA,EAAIkO,EAAEqkB,cAAc1zB,OAAQmB,IAAK,CAC3E,IAAI6F,EAAI8uB,EAAE5xB,EAAGmL,EAAEqkB,cAAcvyB,GAAIZ,KAAK8L,QAEtC,GAAIrF,IAAMuI,EAAIhP,KAAKu7B,+BAA+B53B,EAAGmL,EAAEnP,IAAK8G,EAAGuN,EAAGzU,GAAI+I,EAAE7F,KAAK1C,MAAMuI,EAAG0G,EAAE0gB,SAAU3gB,EAAIC,EAAEkN,QAAS,CAC/G,IAAI0P,EAAI,KACR,OAAQA,EAAInlB,EAAE6tB,gBAAgBvlB,MAAQ6c,EAAI4J,EAAE7xB,EAAGmL,EAAEnP,IAAKoP,IAAK,CACzDmN,OAAQ,CACN2E,WAAYpa,EACZqa,UAAW8K,EACX4P,eAAgB92B,EAAE2nB,cAEpBqD,QAASpnB,SAGRtI,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAES,2BAA4ByS,GAAI/qB,EAAEnP,KAAM2I,EAAE7F,KAAK,CAACkkB,EAAES,2BAA4ByS,GAAI/qB,EAAEnP,MACtH,MAAO,CACLuc,OAAQ,CACN2E,WAAY,KACZC,UAAW,KACX0a,eAAgB92B,EAAE2nB,cAEpBqD,QAASpnB,IAEV3E,EAAE/D,UAAU07B,uBAAyB,SAAU33B,EAAGmL,EAAGkF,GACtD,IAAIzU,EAAI,GACR,IAAKuP,EAAEukB,UAAW,OAAOrzB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEmB,kBAAmB+R,GAAI/qB,EAAEnP,KAAMJ,EAAEkD,KAAK,CAACkkB,EAAEmB,kBAAmB+R,GAAI/qB,EAAEnP,MAAO,CAC3Huc,OAAQ,CACN2E,WAAY,KACZC,UAAW,KACX0a,eAAgB92B,EAAE+nB,SAEpBiD,QAASnwB,GAEX,IAAIyP,EAAIrL,EAAEyvB,aAAatkB,EAAEukB,WACzB,IAAKrkB,EAAG,OAAOhP,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEgf,mBAAoBoU,GAAI/qB,EAAEukB,UAAWvkB,EAAEnP,KAAMJ,EAAEkD,KAAK,CAACgE,EAAEgf,mBAAoBoU,GAAI/qB,EAAEukB,UAAWvkB,EAAEnP,MAAO,CAC7Iuc,OAAQ,CACN2E,WAAY,KACZC,UAAW,KACX0a,eAAgB92B,EAAE+nB,SAEpBiD,QAASnwB,GAEX,IAAIqB,EACA0H,EACAyG,EACA6c,EAAI5c,EAAEgkB,YACV,GAAI,IAAMpH,EAAEnsB,OAAQ,OAAOO,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEyB,2BAA4ByR,GAAI/qB,EAAEukB,WAAY9zB,EAAEkD,KAAK,CAACkkB,EAAEyB,2BAA4ByR,GAAI/qB,EAAEukB,YAAa,CAC3JnX,OAAQ,CACN2E,WAAY,KACZC,UAAW,KACX0a,eAAgB92B,EAAE+nB,SAEpBiD,QAASnwB,GAGX,IAAK,IAAI2sB,EAAI,EAAGA,EAAIN,EAAEnsB,QAAS,CAC7B,GAAImB,EAAIZ,KAAKy7B,6BAA6B93B,EAAGmL,EAAEnP,IAAKisB,EAAGM,EAAGlY,GAAIzU,EAAEkD,KAAK1C,MAAMR,EAAGqB,EAAE8uB,SAAU3gB,EAAInO,EAAEsb,OAAQ5T,EAAI1H,EAAE86B,mBAAoB3sB,EAAG,MAAO,CAC1ImN,OAAQ,CACN2E,WAAYld,EAAE6wB,gBAAgB5I,EAAEM,GAAGxL,IACnCI,UAAW/R,EACXysB,eAAgB92B,EAAE+nB,SAEpBiD,QAASnwB,GAEX2sB,EAAI5jB,EAAIsjB,EAAEnsB,OAAS,EAAIysB,EAAI,EAG7B,MAAO,CACLhQ,OAAQ,CACN2E,WAAY,KACZC,UAAW,KACX0a,eAAgB92B,EAAE+nB,SAEpBiD,QAASnwB,IAEVoE,EAAE/D,UAAUw6B,eAAiB,SAAUz2B,EAAGmL,GAC3C,IAAIkF,EAAIrQ,EACR,OAAO,MAAQmL,GAAK,iBAAmBA,GAAKA,EAAEjP,eAAe+rB,EAAEE,gBAAkB,iBAAmBhd,EAAE8c,EAAEE,eAAiB9X,EAAIlF,EAAE8c,EAAEE,cAAe9rB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEkE,mBAAoBgP,GAAI7lB,IAAMhU,KAAK8L,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAEmE,wBAAyB+O,KAAM7lB,GACpQrQ,EAAE/D,UAAU+7B,4BAA8B,SAAUh4B,EAAGmL,EAAGkF,EAAGzU,GAC9D,IAAIyP,EACApO,EAAI,GACJ0H,EAAIwG,EAAEkiB,kBAAkB,CAC1BhQ,QAAShN,EACT+M,QAASxhB,IAEPwP,EAAI,KACJtI,EAAIqI,EAAEwhB,YACV,OAAO3sB,GAAK2E,IAAM0G,EAAI1G,EAAEinB,cAAexgB,EAAIymB,EAAE7xB,EAAGqQ,EAAGhF,IAAMzP,GAAKS,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEgD,6CAA8C3a,EAAGgF,EAAGzU,EAAGkH,GAAI7F,EAAE6B,KAAK,CAACkkB,EAAEgD,6CAA8C3a,EAAGgF,EAAGzU,EAAGkH,MAAQzG,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEiD,gDAAiD5a,EAAGgF,EAAGvN,GAAI7F,EAAE6B,KAAK,CAACkkB,EAAEiD,gDAAiD5a,EAAGgF,EAAGvN,KAAOlH,GAAKS,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEkD,yDAA0D7V,EAAGzU,EAAGkH,GAAI7F,EAAE6B,KAAK,CAACkkB,EAAEkD,yDAA0D7V,EAAGzU,EAAGkH,MAAQzG,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEmD,4DAA6D9V,EAAGvN,GAAI7F,EAAE6B,KAAK,CAACkkB,EAAEmD,4DAA6D9V,EAAGvN,MAAO,CAC3tByV,OAAQnN,EACR2gB,QAAS9uB,IAEV+C,EAAE/D,UAAUg8B,sBAAwB,SAAUj4B,EAAGmL,EAAGkF,GACrD,IAAKrQ,EAAG,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAEif,gBAAiBmU,KACrD,IAAK75B,KAAKi6B,mBAAmBp6B,eAAe8D,GAAI,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAEyf,6BAA8B2T,GAAIl2B,WACvG3D,KAAKi6B,mBAAmBt2B,GAAGmL,GAAI9O,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEgE,2BAA4BkP,GAAI7lB,EAAGrQ,IACnGA,EAAE/D,UAAUi8B,wBAA0B,SAAUl4B,EAAGmL,EAAGkF,GACvDhU,KAAKi6B,mBAAmBp6B,eAAe8D,KAAO3D,KAAKi6B,mBAAmBt2B,GAAK,IAAK3D,KAAKi6B,mBAAmBt2B,GAAGmL,GAAKkF,EAAGhU,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAE4C,gCAAiCsQ,GAAI7lB,EAAGlF,EAAGnL,IACxLA,EAAE/D,UAAU06B,mBAAqB,SAAU32B,EAAGmL,EAAGkF,GAClD,IAAIzU,EACAyP,EAAI,GACJpO,EAAIZ,KAAKi6B,mBAAmBjmB,GAChC,IAAKpT,EAAG,OAAOZ,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEsD,6BAA8B4P,GAAI7lB,GAAI,CAC9EkI,OAAQ,KACRwT,QAAS1gB,GAGX,IACE,IAAI1G,EAAI8sB,EAAEzxB,EAAGmL,GACb,IAAKxG,EAAEzI,eAAe,MAAO,OAAOG,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEke,gCAAiCkV,GAAI/qB,GAAIE,EAAEvM,KAAK,CAACgE,EAAEke,gCAAiCkV,GAAI/qB,IAAK,CAC1JoN,OAAQ,KACRwT,QAAS1gB,GAEXzP,EAAI+I,EAAEoY,GACN,MAAO/c,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjD,EAAEvM,KAAKkB,EAAEsO,SAAU,CAC7DiK,OAAQ,KACRwT,QAAS1gB,GAIb,IAAID,EAAInO,EAAErB,GACV,IAAKwP,EAAG,OAAO/O,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEuD,4CAA6C2P,GAAI/qB,EAAGkF,GAAI,CAChGkI,OAAQ,KACRwT,QAAS1gB,GAEX,IAAI4c,EAAIuJ,EAAExxB,EAAGoL,GACb,OAAO6c,GAAK5rB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEoD,0BAA2B8P,GAAIjO,EAAG9c,EAAGkF,GAAIhF,EAAEvM,KAAK,CAACkkB,EAAEoD,0BAA2B8P,GAAIjO,EAAG9c,EAAGkF,KAAOhU,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEuD,4CAA6C2P,GAAI/qB,EAAGkF,GAAI,CACvNkI,OAAQ0P,EACR8D,QAAS1gB,IAEVrL,EAAE/D,UAAUk8B,mBAAqB,SAAUn4B,EAAGmL,EAAGkF,EAAGzU,GACrD,GAAI,MAAQA,IAAMq6B,GAAGr6B,GAAI,OAAOS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEigB,sBAAuBmT,KAAK,EACvF,IAAI7qB,EAEJ,IACE,IAAIpO,EAAIw0B,EAAEzxB,EAAGmL,GACb,IAAKlO,EAAEf,eAAe,MAAO,OAAOG,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEke,gCAAiCkV,GAAI/qB,IAAI,EACxGE,EAAIpO,EAAE8f,GACN,MAAO/c,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,UAAU,EAG9C,GAAI,MAAQ1S,EAAG,IACb,OAAOS,KAAK47B,sBAAsB5nB,EAAGhF,EAAGF,IAAI,EAC5C,MAAOnL,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,UAAU,EAG9C,IAAI3J,EAAI,SAAU3E,EAAGmL,EAAGkF,GACtB,IAAIzU,EAAIoE,EAAE4wB,iBAAiBzlB,GAC3B,OAAOvP,EAAE+0B,gBAAgBz0B,eAAemU,GAAKzU,EAAE+0B,gBAAgBtgB,GAAG0M,GAAK,KAFjE,CAGN/c,EAAGmL,EAAGvP,GAER,IAAK+I,EAAG,OAAOtI,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEqf,gCAAiC+T,GAAIt6B,EAAGuP,IAAI,EAEtF,IACE,OAAO9O,KAAK67B,wBAAwB7nB,EAAGhF,EAAG1G,IAAI,EAC9C,MAAO3E,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,UAAU,IAE7CtO,EAAE/D,UAAU27B,+BAAiC,SAAU53B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,QACpE,IAAWA,IAAMA,EAAI,IACrB,IAAIpO,EAAI,GACJ0H,EAAItI,KAAK27B,4BAA4Bh4B,EAAGpE,EAAGuP,EAAGkF,EAAErU,KACpDiB,EAAE6B,KAAK1C,MAAMa,EAAG0H,EAAEonB,SAClB,IAAI3gB,EAAIzG,EAAE4T,OACV,GAAInN,EAAG,MAAO,CACZmN,OAAQnN,EAAEpP,IACV+vB,QAAS9uB,GAEX,IAAI0jB,EAAItkB,KAAKm6B,aAAax2B,EAAGqQ,EAAGzU,EAAGyP,GACnC,OAAOpO,EAAE6B,KAAK1C,MAAMa,EAAG0jB,EAAEoL,SAAU,CACjCxT,OAAQoI,EAAEpI,OACVwT,QAAS9uB,IAEV+C,EAAE/D,UAAU67B,6BAA+B,SAAU93B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GAClE,IAAIpO,EAAI,GACJ0H,GAAI,EACJyG,EAAIiF,EAAEzU,GACNkH,EAAIzG,KAAK27B,4BAA4Bh4B,EAAGqL,EAAGF,EAAGC,EAAEpP,KACpDiB,EAAE6B,KAAK1C,MAAMa,EAAG6F,EAAEipB,SAClB,IAAI9D,EAAInlB,EAAEyV,OACV,GAAI0P,EAAG,MAAO,CACZ1P,OAAQ0P,EACR8D,QAAS9uB,EACT86B,mBAAoBpzB,GAGtB,IAAI4jB,EACAnJ,EACAre,EACAue,EACApiB,EACAssB,EAAIne,EAAEshB,YACN/C,EAAIve,EAAEuhB,gBACN9B,EAAIzuB,KAAKo6B,eAAejN,EAAGI,GAC3BmB,EAAInvB,IAAMyU,EAAEvU,OAAS,EACrBgkB,EAAIiL,EAAI,gBAAkBnvB,EAAI,EAC9Bq2B,EAAI,KACJ5S,EAAIhjB,KAAK06B,wBAAwB/2B,EAAGoL,EAAG7D,EAAEyhB,KAAMY,EAAG9J,GAEtD,OAAO7iB,EAAE6B,KAAK1C,MAAMa,EAAGoiB,EAAE0M,SAAU1M,EAAE9G,QAAUlc,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAE8C,yCAA0CoQ,GAAI1M,EAAG1J,GAAI7iB,EAAE6B,KAAK,CAACkkB,EAAE8C,yCAA0CoQ,GAAI1M,EAAG1J,IAAKV,EAAI/iB,KAAK26B,oBAAoBh3B,EAAGoL,EAAG0f,EAAGtB,GAAIzoB,EAAIwyB,GAAGnU,GAAIniB,EAAE6B,KAAK1C,MAAMa,EAAG8D,EAAEgrB,UAAWxD,EAAIxnB,EAAEwX,UAAYrb,EAAIqrB,EAAG0J,GAAK3S,EAAItf,GAAG8wB,eAAe50B,eAAegB,GAAKoiB,EAAEwR,eAAe5zB,GAAK,MAAO+0B,GAAK51B,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEkC,kCAAmCgR,GAAI1M,EAAG1J,GAAI7iB,EAAE6B,KAAK,CAACkkB,EAAEkC,kCAAmCgR,GAAI1M,EAAG1J,KAAOiL,IAAM1uB,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEwC,sCAAuC0Q,GAAI1M,EAAG1J,GAAI7iB,EAAE6B,KAAK,CAACkkB,EAAEwC,sCAAuC0Q,GAAI1M,EAAG1J,IAAKnb,GAAI,KAAQtI,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAE6C,+CAAgDqQ,GAAI1M,EAAG1J,GAAI7iB,EAAE6B,KAAK,CAACkkB,EAAE6C,+CAAgDqQ,GAAI1M,EAAG1J,KAAM,CACtzBvH,OAAQ0Z,EACRlG,QAAS9uB,EACT86B,mBAAoBpzB,IAErB3E,EAvXI,GA0XT,SAASo4B,GAAGp4B,EAAGmL,GACb,GAAInL,EAAE9D,eAAe,WAAY,CAC/B,IAAImU,EAAIrQ,EAAEgd,QACNphB,OAAI,EACR,MAAO,iBAAmByU,GAAKzU,EAAIo5B,SAAS3kB,GAAIgoB,MAAMz8B,IAAMuP,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEW,wBAAyB,kBAAmBtT,GAAI,OAASlF,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEsB,qBAAsB,kBAAmB1oB,GAAIA,IAAM,iBAAmByU,GAAKzU,EAAIyU,EAAGlF,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEsB,qBAAsB,kBAAmB1oB,GAAIA,GAAK,KAG3S,OAAO,KAGT,SAAS08B,GAAGt4B,EAAGmL,GACb,GAAInL,EAAE9D,eAAe,SAAU,CAC7B,IAAImU,EAAIrQ,EAAEiE,MACNrI,OAAI,EACR,MAAO,iBAAmByU,GAAKzU,EAAI28B,WAAWloB,GAAIgoB,MAAMz8B,IAAMuP,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEU,sBAAuB,kBAAmBrT,GAAI,OAASlF,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEuB,qBAAsB,kBAAmB3oB,GAAIA,IAAM,iBAAmByU,GAAKzU,EAAIyU,EAAGlF,EAAE6G,IAAI2O,EAAE7P,KAAMkS,EAAEuB,qBAAsB,kBAAmB3oB,GAAIA,GAAK,KAG3S,OAAO,KAGT,SAAS48B,GAAGx4B,EAAGmL,GACb,MAAO,iBAAmBnL,IAAM,iBAAmBmL,GAAK,kBAAoBA,GAAK2kB,EAAEI,SAAS/kB,IAAM2kB,EAAEE,cAAc7kB,IAGpH,IAAIstB,GAAK,wCAET,SAASC,GAAG14B,GACV,IAAImL,EAAInL,EAAEoe,WACN/N,EAAIrQ,EAAEwsB,OACN5wB,EAAIoE,EAAE24B,aACNttB,EAAIrL,EAAEkZ,cACNjc,EAAI+C,EAAEkyB,UACNvtB,EAAI3E,EAAEmI,OACNiD,IAAMnO,EAAEmc,aAAenc,EAAEmc,YACzBuH,EAAI1jB,EAAEoc,aACNvW,EAAI,CACNqZ,UAAW,GACX+B,WAAY7N,EACZ+N,WAAY,IAEV4E,EAAI,CACNxG,WAAYvf,EAAE8b,UACd0D,WAAYxf,EAAE+b,UACdgD,SAAU,CAAClZ,GACXqW,SAAUlc,EAAEkc,SACZmD,YAAa1gB,EACb2gB,eAAgBlR,EAChBqR,aAActR,EACduR,kBAAkB,GAEpB,OAAOxR,GAAK1P,OAAOqB,KAAKqO,GAAK,IAAI/K,SAAQ,SAAUJ,GACjD,GAAIw4B,GAAGx4B,EAAGmL,EAAEnL,IAAK,CACf,IAAIqQ,EAAIihB,EAAEr0B,EAAG+C,EAAG2E,GAChB0L,GAAK2S,EAAEhH,SAAS,GAAGoC,WAAWtf,KAAK,CACjCge,UAAWzM,EACXrU,IAAKgE,EACL4U,KAAM,SACN3Q,MAAOkH,EAAEnL,SAGX,kBAAoB2gB,GAAKqC,EAAEhH,SAAS,GAAGoC,WAAWtf,KAAK,CACzDge,UAAWmL,EAAEC,cACblsB,IAAKisB,EAAEC,cACPtT,KAAM,SACN3Q,MAAO0c,IACLqC,EAuEN,SAAS4V,GAAG54B,GACV,IAAImL,EAAGkF,EACP,OAAO,QAAUA,EAAI,QAAUlF,EAAInL,EAAEkd,kBAAe,IAAW/R,OAAI,EAASA,EAAEnP,WAAQ,IAAWqU,EAAIA,EAAI,GAG3G,SAASwoB,GAAG74B,GACV,IAAImL,EAAGkF,EACP,OAAO,QAAUA,EAAI,QAAUlF,EAAInL,EAAEmd,iBAAc,IAAWhS,OAAI,EAASA,EAAEnP,WAAQ,IAAWqU,EAAIA,EAAI,GAG1G,SAASyoB,GAAG94B,GACV,IAAImL,EAAGkF,EACP,OAAO,QAAUA,EAAI,QAAUlF,EAAInL,EAAEmd,iBAAc,IAAWhS,OAAI,EAASA,EAAE2jB,sBAAmB,IAAWze,GAAKA,EAGlH,SAAS0oB,GAAG/4B,GACV,IAAImL,EAAGkF,EACP,OAAO,QAAUA,EAAI,QAAUlF,EAAInL,EAAEkd,kBAAe,IAAW/R,OAAI,EAASA,EAAE4R,UAAO,IAAW1M,EAAIA,EAAI,KAG1G,SAAS2oB,GAAGh5B,GACV,IAAImL,EAAGkF,EACP,OAAO,QAAUA,EAAI,QAAUlF,EAAInL,EAAEmd,iBAAc,IAAWhS,OAAI,EAASA,EAAE4R,UAAO,IAAW1M,EAAIA,EAAI,KAGzG,IAAI4oB,GAAK9tB,EAAE/C,UAAU,iBAErB,SAAS8wB,GAAGl5B,EAAGmL,GACb,IAAIkF,EAAI,GACR,OAAOlF,GAAK1P,OAAOqB,KAAKqO,GAAK,IAAI/K,SAAQ,SAAUxE,GACjD,GAAI48B,GAAG58B,EAAGuP,EAAEvP,IAAK,CACf,IAAIyP,EAAIimB,EAAEtxB,EAAGpE,EAAGq9B,IAChB5tB,GAAKgF,EAAEvR,KAAK,CACVwf,SAAUjT,EACVrP,IAAKJ,EACLqI,MAAOkH,EAAEvP,SAGXyU,EAGN,IAAI8oB,GAAK,iCAELC,GAAK,WACP,SAASp5B,EAAEA,GACT,IAAImL,EACAkF,EAAIhU,KACJgP,EAAIrL,EAAE24B,aACVttB,IAAMrL,EAAEmI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEc,sBAAuB,aAAczY,GAAIA,EAAI,YAAahP,KAAKs8B,aAAettB,EAAGhP,KAAK6c,cAAgBlZ,EAAEkZ,eAAiB,QAAS7c,KAAK2uB,aAAehrB,EAAEgrB,aAAc3uB,KAAKg9B,wBAA0Br5B,EAAEs5B,gBAAiBj9B,KAAK8L,OAASnI,EAAEmI,OACrQ,IAAIlL,EAAI,QAAUkO,EAAInL,EAAEu5B,4BAAyB,IAAWpuB,EAAIA,EAAI,GACpEnG,MAAM0oB,QAAQzwB,KAAOZ,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEe,+BAAgC,cAAe9mB,EAAI,IACnG,IAAI0H,EAAI,GACR1H,EAAEmD,SAAQ,SAAUJ,GAClB5E,EAAQ4wB,uBAAuBhsB,GAAK2E,EAAE3E,IAAK,EAAKqQ,EAAElI,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAE+B,2BAA4B,aAAc/kB,MAClH3D,KAAKk9B,qBAAuB50B,EAAGtI,KAAKm9B,qBAAuB,SAAUx5B,GACvE,OAAO,IAAIyyB,GAAGzyB,GAD+C,CAE7D,CACAmM,SAAUnM,EAAEmM,SACZgmB,oBAAqBnyB,EAAEmyB,oBACvB9lB,OAAQrM,EAAEqM,OACVumB,gBAAiB5yB,EAAE4yB,kBACjBv2B,KAAKo9B,gBAAkBp9B,KAAKm9B,qBAAqBnG,UAAS,SAAUrzB,GACtEqQ,EAAElI,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE8E,0BAA2B,aAAc9nB,EAAEmZ,SAAUnZ,EAAEgZ,WAAY3I,EAAEqH,mBAAmBE,kBAAkB2Q,EAAEmR,6BAErI,IAAItuB,EACA6c,EAAI5rB,KAAKm9B,qBAAqBrrB,UAC9BiR,EAAI,KACR,GAAIpf,EAAEu2B,mBAAoB,KACxB,SAAWv2B,GACT,GAAI,iBAAmBA,GAAK,OAASA,EAAG,CACtC,GAAI,mBAAqBA,EAAEu3B,OAAQ,MAAM,IAAItuB,MAAMrN,EAAEyR,QAAQvK,EAAEkf,6BAA8BmX,GAAI,8BACjG,GAAI,mBAAqBn5B,EAAEw3B,KAAM,MAAM,IAAIvuB,MAAMrN,EAAEyR,QAAQvK,EAAEkf,6BAA8BmX,GAAI,4BAC/F,OAAO,EAGT,MAAM,IAAIlwB,MAAMrN,EAAEyR,QAAQvK,EAAEkf,6BAA8BmX,MAP5D,CAQGn5B,EAAEu2B,sBAAwBnX,EAAIpf,EAAEu2B,mBAAoBl6B,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE+D,2BAA4B,eAC7G,MAAO/mB,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE5P,QAAS/Q,EAAEsO,SAE/BjS,KAAKs9B,iBAAmBvuB,EAAI,CAC1BmrB,mBAAoBnX,EACpBjX,OAAQ9L,KAAK8L,OACbkuB,6BAA8Br2B,EAAEq2B,8BAC/B,IAAIF,GAAG/qB,IAAK/O,KAAKqb,mBAAqB1X,EAAE0X,mBAAoBrb,KAAKu9B,eAAiB55B,EAAE45B,eAEvF,IAAI74B,EAAI1E,KAAKu9B,eAAe/rB,QAE5BxR,KAAK2Q,aAAe9M,QAAQ25B,IAAI,CAAC5R,EAAGlnB,IAAImO,MAAK,SAAUlP,GACrD,OAAOA,EAAE,MACP3D,KAAKy9B,cAAgB,GAAIz9B,KAAK09B,mBAAqB,EAGzD,OAAO/5B,EAAE/D,UAAUq9B,gBAAkB,WACnC,OAAOj9B,KAAKg9B,2BAA6Bh9B,KAAKm9B,qBAAqBrG,aAClEnzB,EAAE/D,UAAU+9B,SAAW,SAAUh6B,EAAGmL,EAAGkF,GACxC,IACE,IAAKhU,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,YAAa,KAC1G,IAAKxnB,KAAK49B,eAAe,CACvBC,eAAgBl6B,EAChBs3B,QAASnsB,GACRkF,GAAI,OAAOhU,KAAK89B,wBAAwBn6B,EAAGmL,GAC9C,IAAIvP,EAAIS,KAAKm9B,qBAAqBrG,YAClC,IAAKv3B,EAAG,OAAO,KAEf,IACE,IAAIyP,EAAIhP,KAAKm6B,aAAax2B,EAAGmL,EAAGkF,GAChC,GAAI,OAAShF,EAAG,OAAOhP,KAAK89B,wBAAwBn6B,EAAGmL,GACvD,IAAK,SAAUnL,EAAGmL,GAChB,MAAO,YAAcomB,EAAEvxB,EAAGmL,GADvB,CAEHvP,EAAGoE,GAAI,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAE4B,6BAA8B,aAAc5kB,GAAIqL,EAC3F,IAAIpO,EAAIw0B,EAAE71B,EAAGoE,GACT2E,EAAI,CACNuY,WAAYjgB,EACZkgB,UAAWlgB,EAAE0zB,gBAAgBtlB,GAC7BwsB,eAAgB92B,EAAEgoB,YAEpB,OAAO1sB,KAAK+9B,oBAAoBz1B,EAAG,GAAIwG,GAAG,EAAIkF,GAAIhF,EAClD,MAAOgF,GACP,OAAOhU,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOX,EAAE/B,SAAUjS,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEoB,oBAAqB,aAAcjZ,EAAGnL,GAAI3D,KAAK2uB,aAAatb,YAAYW,GAAI,MAEpJ,MAAOrQ,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUm+B,oBAAsB,SAAUp6B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GACzD,IAAIpO,EAAIZ,KAAKm9B,qBAAqBrG,YAElC,GAAIl2B,EAAG,CACL,IAAI0H,EAAI,SAAU3E,GAChB,IAAImL,EAAInL,EAAEkyB,UACN7hB,EAAIrQ,EAAEq6B,YACNz+B,EAAIoE,EAAEwsB,OACNnhB,EAAIrL,EAAEqd,QACNpgB,EAAI+C,EAAEud,QACN5Y,EAAI3E,EAAEs6B,eACNlvB,EAAIpL,EAAE24B,aACNhY,EAAI3gB,EAAEkZ,cACNpW,EAAIuN,EAAEwnB,eACN7U,EAAI4V,GAAGvoB,GACP4X,EAAI8Q,GAAG1oB,GACPkY,EAAIsQ,GAAGxoB,GACP+O,EAAI4Z,GAAG3oB,GACPtP,EAAI,OAASknB,EAAIoJ,EAAElmB,EAAG8c,GAAK,KAE/B,MAAO,CACLrT,KAAM,aACNsF,UAAW4V,EAAEC,mBACbhb,KAAM+a,EAAE/a,OACRoJ,KAAM,CACJpB,GAAInhB,EACJwiB,WAAY8a,GAAG/tB,EAAGxG,IAEpBkU,QAAS,CACPE,UAAW5N,EAAE4N,UACbC,UAAW7N,EAAE6N,UACbG,SAAUhO,EAAEgO,SACZF,WAAY7N,EACZ8N,cAAeyH,EACfvH,YAAajO,EAAEiO,cAAe,EAC9BC,aAAclO,EAAEkO,cAElB4D,MAAO,CACLF,GAAIhc,GAENmc,WAAY,CACVH,GAAIkL,EACJjsB,IAAKgnB,GAEP7F,UAAW,CACTJ,GAAIqC,EACJpjB,IAAKusB,GAEPnL,QAAS4F,EACT3F,QAAShS,EACTiS,SAAUxa,EACVya,QAAStgB,GA/CL,CAiDN,CACAo9B,YAAar6B,EACbqd,QAASlS,EACToS,QAAS3hB,EACT4wB,OAAQnc,EACRiqB,eAAgBjvB,EAChBstB,aAAct8B,KAAKs8B,aACnBzf,cAAe7c,KAAK6c,cACpBgZ,UAAWj1B,IAGbZ,KAAKu9B,eAAelZ,QAAQ/b,GAAItI,KAAKk+B,+BAA+Bv6B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,KAEjFrL,EAAE/D,UAAUs+B,+BAAiC,SAAUv6B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GACpE,IAAIpO,EAAIZ,KAAKm9B,qBAAqBrG,YAElC,GAAIl2B,EAAG,CACL,IAAI0H,EACAyG,EAAIpL,EAAE63B,eACNlX,EAAIiY,GAAG54B,GACP8C,EAAIi2B,GAAG/4B,GACPgjB,EAAI6V,GAAG74B,GACPioB,EAAI+Q,GAAGh5B,GACX,OAAS8C,GAAK,KAAOkgB,IAAMre,EAAI1H,EAAE4zB,gBAAgB/tB,IAEjD,IAAIsc,EACAre,EA/QV,SAAYf,GACV,IAAImL,EACAkF,EACAzU,EACAyP,EACApO,EACA0H,EACAyG,EACAuV,EAEAqC,EAAI0V,GAAG14B,GACPioB,GAAK9c,EAAInL,EAAEkyB,UAAW7hB,EAAIrQ,EAAEwzB,aAAc53B,EAAIoE,EAAEw6B,YAAanvB,EAAIrL,EAAEod,QAASngB,EAAI+C,EAAEsd,SAAU3Y,EAAI3E,EAAEqd,QAASjS,EAAIpL,EAAEud,QAAyD,CAC5KE,UAAW,CAAC,CACVC,YAF0HiD,EAAItQ,EAAIghB,EAAElmB,EAAGkF,GAAK,KAG5IsN,cAAetN,EACfuN,aAAchiB,EACdiiB,SAAU,CACRC,SAAUnZ,EACVoZ,SAAU1S,EACV2S,UAAW/gB,EACXghB,eAToJriB,EAAI41B,EAAErmB,EAAGvP,GAAK,OAS1I,GACxB2hB,QAASnS,KAGb2Q,OAAQ,CAAC,CACPe,UAAW6D,EACXzG,UAAW4V,EAAEC,mBACb/zB,IAAK,qBACL+Y,KAAM+a,EAAE/a,WAGZ,OAAOiO,EAAEhH,SAAS,GAAGG,UAAUrd,KAAKmpB,GAAI,CACtCzJ,SAAU,OACVD,IAAKka,GACLx1B,OAAQ+f,GA6OEyX,CAAG,CACTrc,WAAY/S,EACZstB,aAAct8B,KAAKs8B,aACnBzf,cAAe7c,KAAK6c,cACpBgZ,UAAWj1B,EACXu2B,aAAc1wB,EACdsa,QAASuD,EACTtD,QAASlS,EACTmS,SAAUlS,EACVohB,OAAQnc,EACRkN,QAAS3hB,EACT4+B,YAAavS,EACb9f,OAAQ9L,KAAK8L,SAGfxD,GAAKA,EAAEgsB,iBAAmB,KAAO3N,IAAM5D,EAAIza,EAAEgsB,gBAAgB3N,IAAK3mB,KAAKqb,mBAAmBE,kBAAkB2Q,EAAEmS,SAAU,CACtHxd,WAAYvY,EACZ6nB,OAAQnc,EACR+N,WAAY/S,EACZ8R,UAAWiC,EACXub,SAAU55B,MAGbf,EAAE/D,UAAUkxB,MAAQ,SAAUntB,EAAGmL,EAAGkF,EAAGzU,GACxC,IACE,IAAKS,KAAKi9B,kBAAmB,YAAYj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,SAClG,IAAKxnB,KAAK49B,eAAe,CACvB3C,QAASnsB,EACTyvB,UAAW56B,GACVqQ,EAAGzU,GAAI,OACV,IAAIyP,EAAIhP,KAAKm9B,qBAAqBrG,YAClC,IAAK9nB,EAAG,OACR,IAAK,SAAUrL,EAAGmL,GAChB,OAAOnL,EAAEwwB,YAAYt0B,eAAeiP,GADjC,CAEHE,EAAGrL,GAAI,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAEK,oBAAqB,aAAcrjB,QAAS3D,KAAK8L,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAEqB,kBAAmB,aAAclZ,GAEvJ,IAAIlO,EAAI,SAAU+C,GAChB,IAAImL,EAAInL,EAAEkyB,UACN7hB,EAAIrQ,EAAEwsB,OACN5wB,EAAIoE,EAAEs6B,eACNjvB,EAAIrL,EAAE24B,aACN17B,EAAI+C,EAAEkZ,cACNvU,EAAI3E,EAAE66B,SACNzvB,EAAIpL,EAAE86B,UACNna,EAAIpQ,EAAEpF,EAAGxG,GACT7B,EAAIsI,EAAIgtB,GAAGhtB,EAAG6tB,IAAM,KACpBjW,EAAI5X,EAAIktB,GAAGltB,EAAG6tB,IAAM,KACxB,MAAO,CACLrkB,KAAM,aACNsF,UAAW4V,EAAEC,mBACbhb,KAAM+a,EAAE/a,OACRoJ,KAAM,CACJpB,GAAI1M,EACJ+N,WAAY8a,GAAG/tB,EAAGvP,IAEpBid,QAAS,CACPE,UAAW5N,EAAE4N,UACbC,UAAW7N,EAAE6N,UACbG,SAAUhO,EAAEgO,SACZF,WAAY5N,EACZ6N,cAAejc,EACfmc,YAAajO,EAAEiO,cAAe,EAC9BC,aAAclO,EAAEkO,cAElB1B,MAAO,CACLoF,GAAI4D,EACJ3kB,IAAK2I,GAEPqY,QAASla,EACTmB,MAAO+e,EACPnG,KAAMzR,GAlCF,CAoCN,CACAyvB,SAAU76B,EACV86B,UAAWl/B,EAAIS,KAAK0+B,kBAAkBn/B,GACtC4wB,OAAQrhB,EACRmvB,eAAgBjqB,EAChBsoB,aAAct8B,KAAKs8B,aACnBzf,cAAe7c,KAAK6c,cACpBgZ,UAAW7mB,IAGbhP,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE8B,YAAa,aAAc9kB,EAAGmL,GAAI9O,KAAKu9B,eAAelZ,QAAQzjB,GAAIZ,KAAK2+B,4BAA4Bh7B,EAAGmL,EAAGkF,EAAGzU,GACtI,MAAOoE,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEqB,kBAAmB,aAAclZ,KAEpInL,EAAE/D,UAAU++B,4BAA8B,SAAUh7B,EAAGmL,EAAGkF,EAAGzU,GAC9D,IACE,IAAIyP,EAAIhP,KAAKm9B,qBAAqBrG,YAClC,IAAK9nB,EAAG,OACR,IAAIpO,EAnUV,SAAY+C,GACV,IAAImL,EAAIutB,GAAG14B,GACPqQ,EAAI,SAAUrQ,EAAGmL,EAAGkF,EAAGzU,GACzB,IAAIyP,EAAI,CACN0Q,OAAQ,IAEN9e,EAAI,CACN6f,UAAWvM,EAAEvQ,EAAGmL,GAChB+O,UAAW4V,EAAEC,mBACbhb,KAAM+a,EAAE/a,OACR/Y,IAAKmP,GAGP,GAAIvP,EAAG,CACL,IAAI+I,EAAIyzB,GAAGx8B,EAAGyU,GACd,OAAS1L,IAAM1H,EAAE+f,QAAUrY,GAC3B,IAAIyG,EAAIktB,GAAG18B,EAAGyU,GACd,OAASjF,IAAMnO,EAAEgH,MAAQmH,GAAInO,EAAE4f,KAAOjhB,EAGxC,OAAOyP,EAAE0Q,OAAOjd,KAAK7B,GAAIoO,EAlBnB,CAmBNrL,EAAEkyB,UAAWlyB,EAAE66B,SAAU76B,EAAEmI,OAAQnI,EAAE86B,WAEvC,OAAO3vB,EAAE6Q,SAAS,GAAGG,UAAY,CAAC9L,GAAI,CACpCmO,SAAU,OACVD,IAAKka,GACLx1B,OAAQkI,GAySE8vB,CAAG,CACT7c,WAAY/N,EACZsoB,aAAct8B,KAAKs8B,aACnBzf,cAAe7c,KAAK6c,cACpBgZ,UAAW7mB,EACXwvB,SAAU76B,EACV86B,UAAWl/B,EACXuM,OAAQ9L,KAAK8L,OACbqkB,OAAQrhB,IAEV9O,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE2S,MAAO,CACjDL,SAAU76B,EACVwsB,OAAQrhB,EACRiT,WAAY/N,EACZyqB,UAAWl/B,EACX++B,SAAU19B,IAEZ,MAAO+C,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,KAEpEA,EAAE/D,UAAUu6B,aAAe,SAAUx2B,EAAGmL,EAAGkF,GAC5C,IACE,IAAKhU,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,gBAAiB,KAE9G,IACE,IAAKxnB,KAAK49B,eAAe,CACvBC,eAAgBl6B,EAChBs3B,QAASnsB,GACRkF,GAAI,OAAO,KACd,IAAIzU,EAAIS,KAAKm9B,qBAAqBrG,YAClC,IAAKv3B,EAAG,OAAO,KACf,IAAIyP,EAAIzP,EAAEg1B,iBAAiB5wB,GAC3B,IAAKqL,EAAG,OAAOhP,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAO/N,EAAE4e,uBAAwB,aAAc1hB,GAAI,KACpF,IAAI/C,EAAIZ,KAAKs9B,gBAAgBnD,aAAa56B,EAAGyP,EAAGhP,KAAK8+B,kBAAkBhwB,EAAGkF,IAAIkI,OAC1E5T,GAAKyG,EAAIxP,EAAGqsB,EAAI5c,EAAE0R,GAAI3R,EAAEmkB,qBAAqBrzB,eAAe+rB,GAAK7I,EAAEsJ,aAAetJ,EAAEoJ,SACxF,OAAOnsB,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE6S,SAAU,CAC3DxmB,KAAMjQ,EACN6nB,OAAQrhB,EACRiT,WAAY/N,GAAK,GACjBgrB,aAAc,CACZzH,cAAe5zB,EACf4rB,aAAc3uB,KAEdA,EACJ,MAAO+C,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,MAEhF,MAAOA,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,KAGhF,IAAIoL,EAAG6c,GACNjoB,EAAE/D,UAAUk8B,mBAAqB,SAAUn4B,EAAGmL,EAAGkF,GAClD,IAAKhU,KAAK49B,eAAe,CACvBC,eAAgBl6B,EAChBs3B,QAASnsB,IACP,OAAO,EACX,IAAIvP,EAAIS,KAAKm9B,qBAAqBrG,YAClC,IAAKv3B,EAAG,OAAO,EAEf,IACE,OAAOS,KAAKs9B,gBAAgBxB,mBAAmBv8B,EAAGoE,EAAGmL,EAAGkF,GACxD,MAAOrQ,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,IAAI,IAE/EA,EAAE/D,UAAU06B,mBAAqB,SAAU32B,EAAGmL,GAC/C,IAAK9O,KAAK49B,eAAe,CACvBC,eAAgBl6B,EAChBs3B,QAASnsB,IACP,OAAO,KACX,IAAIkF,EAAIhU,KAAKm9B,qBAAqBrG,YAClC,IAAK9iB,EAAG,OAAO,KAEf,IACE,OAAOhU,KAAKs9B,gBAAgBhD,mBAAmBtmB,EAAGrQ,EAAGmL,GAAGoN,OACxD,MAAOvY,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUg+B,eAAiB,SAAUj6B,EAAGmL,EAAGkF,GAC9C,IACE,GAAIrQ,EAAE9D,eAAe,WAAY,CAC/B,IAAImP,EAAIrL,EAAEs3B,QACV,GAAI,iBAAmBjsB,GAAK,OAASA,GAAK,cAAgBA,EAAG,MAAM,IAAIpC,MAAMrN,EAAEyR,QAAQvK,EAAE+f,qBAAsB,aAAc,mBACtH7iB,EAAEs3B,QAGX,OAAO77B,OAAOqB,KAAKkD,GAAGI,SAAQ,SAAU+K,GACtC,IAAK8qB,GAAGj2B,EAAEmL,IAAK,MAAM,IAAIlC,MAAMrN,EAAEyR,QAAQvK,EAAE+f,qBAAsB,aAAc1X,OAC7EA,GAAK,SAAUnL,GACjB,GAAI,iBAAmBA,GAAKgF,MAAM0oB,QAAQ1tB,IAAM,OAASA,EAAG,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAEme,mBAAoB,yBAC5GxlB,OAAOqB,KAAKkD,GAAGI,SAAQ,SAAU+K,GAC/B,QAAI,IAAWnL,EAAEmL,GAAI,MAAM,IAAIlC,MAAMrN,EAAEyR,QAAQvK,EAAEsf,oBAAqB,uBAAwBjX,OAHzF,CAKPA,GAAIkF,GAAK,SAAUrQ,GACnB,GAAI,iBAAmBA,GAAKgF,MAAM0oB,QAAQ1tB,IAAM,OAASA,EAAG,MAAM,IAAIiJ,MAAMrN,EAAEyR,QAAQvK,EAAE2e,mBAAoB,yBADnG,CAETpR,IAAI,EACN,MAAOrQ,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,IAAI,IAE/EA,EAAE/D,UAAUk+B,wBAA0B,SAAUn6B,EAAGmL,GACpD,OAAO9O,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEoB,oBAAqB,aAAcjZ,EAAGnL,GAAI,MAC1EA,EAAE/D,UAAU8+B,kBAAoB,SAAU/6B,GAC3C,IAAK,IAAImL,KAAKnL,GACXA,EAAE9D,eAAeiP,IAAM,OAASnL,EAAEmL,SAAM,IAAWnL,EAAEmL,WAAanL,EAAEmL,GAGvE,OAAOnL,GACNA,EAAE/D,UAAUq/B,iBAAmB,SAAUt7B,EAAGmL,EAAGkF,GAChD,IACE,IAAKhU,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,qBAAqB,EAClH,IAAKxnB,KAAK49B,eAAe,CACvBsB,YAAav7B,EACbs3B,QAASnsB,GACRkF,GAAI,OAAO,EACd,IAAIzU,EAAIS,KAAKm9B,qBAAqBrG,YAClC,IAAKv3B,EAAG,OAAO,EACf,IAAIyP,EAAIymB,EAAEl2B,EAAGoE,EAAG3D,KAAK8L,QACrB,IAAKkD,EAAG,OAAO,EACf,IAAIpO,EAAI,GACJ0H,EAAItI,KAAK8+B,kBAAkBhwB,EAAGkF,GAC9BjF,EAAI/O,KAAKs9B,gBAAgBlC,uBAAuB77B,EAAGyP,EAAG1G,GAAG4T,OACzDzV,EAAIsI,EAAEysB,eACN5P,EAAI2Q,GAAGxtB,GACP7D,EAAIsxB,GAAGztB,GACPkU,EAAIwZ,GAAG1tB,GACXtI,IAAM/B,EAAE2nB,eAAiBzrB,EAAI,CAC3B22B,cAAe3L,EACf2D,aAAcrkB,KACXzE,IAAM/B,EAAE2nB,cAAgB5lB,IAAM/B,EAAE+nB,SAAWuJ,GAAEz2B,KAAOS,KAAK+9B,oBAAoBhvB,EAAGC,EAAErP,IAAKmP,EAAGmU,EAAGjP,IAAI,IAAOiP,EAAIjjB,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEO,yBAA0B,aAAcvjB,EAAGmL,IAAM9O,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEQ,6BAA8B,aAAcxjB,EAAGmL,GAAImU,GAAI,GAC7Q,IAAIpiB,EAAI,CACNs+B,WAAYx7B,EACZ8uB,eAAgBxP,EAChBvjB,OAAQqP,EAAEysB,eACV4D,WAAYx+B,GAEd,OAAOZ,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE6S,SAAU,CAC3DxmB,KAAMwK,EAAEqJ,QACR+D,OAAQrhB,EACRiT,WAAY/N,GAAK,GACjBgrB,aAAcn+B,IACZoiB,EACJ,MAAOtf,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,IAAI,IAE/EA,EAAE/D,UAAUy/B,mBAAqB,SAAU17B,EAAGmL,GAC/C,IAAIkF,EAAIhU,KAER,IACE,IAAIgP,EAAI,GACR,IAAKhP,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,sBAAuBxY,EACpH,IAAKhP,KAAK49B,eAAe,CACvB3C,QAASt3B,IACP,OAAOqL,EACX,IAAIpO,EAAIZ,KAAKm9B,qBAAqBrG,YAClC,OAAOl2B,GAAKrB,EAAE8X,aAAazW,EAAE+zB,eAAe5wB,SAAQ,SAAUxE,GAC5DyU,EAAEirB,iBAAiB1/B,EAAEI,IAAKgE,EAAGmL,IAAME,EAAEvM,KAAKlD,EAAEI,QAC1CqP,GAAKA,EACT,MAAOrL,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,KAE/EA,EAAE/D,UAAU0/B,mBAAqB,SAAU37B,EAAGmL,EAAGkF,EAAGzU,GACrD,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAG,KAAMkF,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,sBAAuB,MACpK,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAU2/B,0BAA4B,SAAU57B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GAC/D,IAAKhP,KAAK49B,eAAe,CACvBsB,YAAav7B,EACb67B,aAAc1wB,EACdmsB,QAAS17B,GACRyP,GAAI,OAAO,KACd,IAAIpO,EAAIZ,KAAKm9B,qBAAqBrG,YAClC,IAAKl2B,EAAG,OAAO,KACf,IAAI0H,EAAImtB,EAAE70B,EAAG+C,EAAG3D,KAAK8L,QACrB,IAAKxD,EAAG,OAAO,KAEf,IAAIyG,EAAI,SAAUpL,EAAGmL,EAAGkF,EAAGzU,GACzB,IAAIyP,EAAIrL,EAAEgxB,cAAc7lB,GACxB,OAAKE,EACGA,EAAE6lB,eAAe7gB,KACZzU,EAAEoW,IAAI2O,EAAE3P,MAAOlO,EAAE4f,6BAA8ByN,EAAG9f,EAAGlF,GAAI,OAFvDvP,EAAEoW,IAAI2O,EAAE3P,MAAOlO,EAAEie,wBAAyBoP,EAAGhlB,GAAI,MAF1D,CAKNlO,EAAG+C,EAAGmL,EAAG9O,KAAK8L,QAEhB,IAAKiD,EAAG,OAAO,KACf,GAAIiF,GAAKjF,EAAEwJ,OAASvE,EAAG,OAAOhU,KAAK8L,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAEiE,mCAAoC,aAAc5W,EAAGjF,EAAEwJ,MAAO,KACzH,IAAIqT,EAAI5rB,KAAK8+B,kBAAkBv/B,EAAGyP,GAC9B9D,EAAIlL,KAAKs9B,gBAAgBlC,uBAAuBx6B,EAAG0H,EAAGsjB,GAAG1P,OACzD+G,EAAIwZ,GAAGvxB,GACPrK,EAAIb,KAAKy/B,qCAAqC97B,EAAGsf,EAAG/X,EAAE4V,UAAW/R,EAAGxP,GACpE4tB,EAAI,GACR,OAAOjiB,EAAEswB,iBAAmB92B,EAAE2nB,cAAgB,OAASnhB,EAAE2V,YAAc,OAAS3V,EAAE4V,YAAcqM,EAAI,CAClGoK,cAAersB,EAAE2V,WAAWlhB,IAC5B4vB,aAAcrkB,EAAE4V,UAAUnhB,MACxBK,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE6S,SAAU,CACxDxmB,KAAMwK,EAAEuJ,iBACR6D,OAAQ5wB,EACRwiB,WAAY/S,GAAK,GACjBgwB,aAAc,CACZG,WAAYx7B,EACZ8uB,eAAgBxP,EAChBvjB,OAAQwL,EAAEswB,eACVkE,YAAa5wB,EACb6wB,cAAe9+B,EACf++B,aAAc7wB,EAAEwJ,KAChB6mB,WAAYjS,KAEZtsB,GACH8C,EAAE/D,UAAU6/B,qCAAuC,SAAU97B,EAAGmL,EAAGkF,EAAGzU,EAAGyP,GAC1E,IAAIpO,EAAIZ,KAAKm9B,qBAAqBrG,YAClC,IAAKl2B,EAAG,OAAO,KACf,IAAI0H,EAAI/I,EAAEgzB,aAEV,GAAI,OAASve,EAAG,CACd,IAAIjF,EAAI,SAAUpL,EAAGmL,EAAGkF,EAAGzU,GACzB,IAAKuP,IAAMkF,EAAG,OAAO,KACrB,IAAKrQ,EAAE+wB,0BAA0B70B,eAAemU,EAAE0M,IAAK,OAAOnhB,EAAEoW,IAAI2O,EAAE3P,MAAOlO,EAAE8f,2CAA4CuN,EAAG9f,EAAE0M,IAAK,KACrI,IAAI1R,EAAIrL,EAAE+wB,0BAA0B1gB,EAAE0M,IAAI5R,EAAE4R,IAC5C,OAAO1R,EAAIA,EAAEpH,MAAQ,KAJf,CAKNhH,EAAGrB,EAAGyU,EAAGhU,KAAK8L,QAEhB,OAASiD,EAAID,GAAKxG,EAAIyG,EAAG/O,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE6D,6BAA8B,aAAcliB,EAAG/I,EAAEI,IAAKgE,IAAM3D,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE2D,kDAAmD,aAAc3mB,EAAGqL,EAAG1G,GAAKtI,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE4D,gDAAiD,aAAchrB,EAAEI,IAAKqU,EAAErU,UAClTK,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAE0D,qCAAsC,aAAcrb,EAAGzP,EAAEI,IAAKgE,GAE/F,OAAO,SAAUA,EAAGmL,EAAGkF,GACrB,IAAIzU,EAEJ,OAAQuP,GACN,KAAKmU,EAAE2J,QACL,SAAWjpB,GAAK,UAAYA,GAAKqQ,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAEwf,qBAAsB6N,EAAGnwB,EAAGmL,GAAIvP,EAAI,MAAQA,EAAI,SAAWoE,EAC7G,MAEF,KAAKsf,EAAE6J,QACLvtB,EAAIo5B,SAASh1B,EAAG,IAAKq4B,MAAMz8B,KAAOyU,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAEwf,qBAAsB6N,EAAGnwB,EAAGmL,GAAIvP,EAAI,MACvF,MAEF,KAAK0jB,EAAE4J,OACLttB,EAAI28B,WAAWv4B,GAAIq4B,MAAMz8B,KAAOyU,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAEwf,qBAAsB6N,EAAGnwB,EAAGmL,GAAIvP,EAAI,MACrF,MAEF,KAAK0jB,EAAEtQ,KACL,IACEpT,EAAIoT,KAAKiM,MAAMjb,GACf,MAAOqL,GACPgF,EAAE2B,IAAI2O,EAAE3P,MAAOlO,EAAEwf,qBAAsB6N,EAAGnwB,EAAGmL,GAAIvP,EAAI,KAGvD,MAEF,QACEA,EAAIoE,EAGR,OAAOpE,EA7BF,CA8BL+I,EAAG/I,EAAEgZ,KAAMvY,KAAK8L,SACjBnI,EAAE/D,UAAUigC,0BAA4B,SAAUl8B,EAAGmL,EAAGkF,EAAGzU,GAC5D,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAGmU,EAAE2J,QAAS5Y,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,6BAA8B,MAChL,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUkgC,yBAA2B,SAAUn8B,EAAGmL,EAAGkF,EAAGzU,GAC3D,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAGmU,EAAE4J,OAAQ7Y,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,4BAA6B,MAC9K,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUmgC,0BAA4B,SAAUp8B,EAAGmL,EAAGkF,EAAGzU,GAC5D,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAGmU,EAAE6J,QAAS9Y,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,6BAA8B,MAChL,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUogC,yBAA2B,SAAUr8B,EAAGmL,EAAGkF,EAAGzU,GAC3D,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAGmU,EAAE8J,OAAQ/Y,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,4BAA6B,MAC9K,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUqgC,uBAAyB,SAAUt8B,EAAGmL,EAAGkF,EAAGzU,GACzD,IACE,OAAOS,KAAKi9B,kBAAoBj9B,KAAKu/B,0BAA0B57B,EAAGmL,EAAGmU,EAAEtQ,KAAMqB,EAAGzU,IAAMS,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,0BAA2B,MAC1K,MAAO7jB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUsgC,uBAAyB,SAAUv8B,EAAGmL,EAAGkF,GACtD,IAAIzU,EAAIS,KAER,IACE,IAAKA,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,0BAA2B,KACxH,IAAKxnB,KAAK49B,eAAe,CACvBsB,YAAav7B,EACbs3B,QAASnsB,GACRkF,GAAI,OAAO,KACd,IAAIhF,EAAIhP,KAAKm9B,qBAAqBrG,YAClC,IAAK9nB,EAAG,OAAO,KACf,IAAIpO,EAAI60B,EAAEzmB,EAAGrL,EAAG3D,KAAK8L,QACrB,IAAKlL,EAAG,OAAO,KACf,IAAI0H,EAAItI,KAAK8+B,kBAAkBhwB,EAAGkF,GAC9BjF,EAAI/O,KAAKs9B,gBAAgBlC,uBAAuBpsB,EAAGpO,EAAG0H,GAAG4T,OACzDzV,EAAIg2B,GAAG1tB,GACP6c,EAAI,GACRhrB,EAAE4uB,UAAUzrB,SAAQ,SAAUiQ,GAC5B4X,EAAE5X,EAAErU,KAAOJ,EAAEkgC,qCAAqC97B,EAAG8C,EAAGsI,EAAE+R,UAAW9M,EAAGlF,MAE1E,IAAI5D,EAAI,GACR,OAAO6D,EAAEysB,iBAAmB92B,EAAE2nB,cAAgB,OAAStd,EAAE8R,YAAc,OAAS9R,EAAE+R,YAAc5V,EAAI,CAClGqsB,cAAexoB,EAAE8R,WAAWlhB,IAC5B4vB,aAAcxgB,EAAE+R,UAAUnhB,MACxBK,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE6S,SAAU,CACxDxmB,KAAMwK,EAAEwJ,sBACR4D,OAAQrhB,EACRiT,WAAY/N,GAAK,GACjBgrB,aAAc,CACZG,WAAYx7B,EACZ8uB,eAAgBhsB,EAChB/G,OAAQqP,EAAEysB,eACV2E,eAAgBvU,EAChBwT,WAAYl0B,KAEZ0gB,EACJ,MAAOjoB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUm3B,oBAAsB,WACnC,IACE,OAAO/2B,KAAKm9B,qBAAqBrG,YAAc92B,KAAKm9B,qBAAqBpG,sBAAwB,KACjG,MAAOpzB,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAI,OAE/EA,EAAE/D,UAAUwgC,MAAQ,WACrB,IAAIz8B,EAAI3D,KAER,IACE,IAAI8O,EAAI9O,KAAKu9B,eAAe3rB,OAC5B,OAAO5R,KAAKo9B,kBAAoBp9B,KAAKo9B,kBAAmBp9B,KAAKo9B,gBAAkB,MAAOp9B,KAAKm9B,sBAAwBn9B,KAAKm9B,qBAAqBvrB,OAAQxS,OAAOqB,KAAKT,KAAKy9B,eAAe15B,SAAQ,SAAU+K,GACrM,IAAIkF,EAAIrQ,EAAE85B,cAAc3uB,GACxB+C,aAAamC,EAAEqsB,cAAersB,EAAEssB,aAC9BtgC,KAAKy9B,cAAgB,GAAI3uB,EAAE+D,MAAK,WAClC,MAAO,CACL2jB,SAAS,MAEV,SAAU7yB,GACX,MAAO,CACL6yB,SAAS,EACTC,OAAQhoB,OAAO9K,OAGnB,MAAOA,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAAIE,QAAQ4B,QAAQ,CAC5F+wB,SAAS,EACTC,OAAQhoB,OAAO9K,OAGlBA,EAAE/D,UAAUkS,QAAU,SAAUnO,GACjC,IAAImL,EACAkF,EACAhF,EAAIhP,KACR,iBAAmB2D,GAAK,OAASA,QAAK,IAAWA,EAAE8J,UAAYqB,EAAInL,EAAE8J,SAAUgmB,EAAEE,cAAc7kB,KAAOA,EAAI,KAC1G,IAAIlO,EAAI,IAAIiD,SAAQ,SAAUF,GAC5BqQ,EAAIrQ,KAEF2E,EAAItI,KAAK09B,mBACb19B,KAAK09B,qBACL,IAAI3uB,EAAIkE,YAAW,kBACVjE,EAAEyuB,cAAcn1B,GAAI0L,EAAE,CAC3BwiB,SAAS,EACTC,OAAQl3B,EAAEyR,QAAQ,sCAAuClC,OAE1DA,GACH,OAAO9O,KAAKy9B,cAAcn1B,GAAK,CAC7B+3B,aAActxB,EACduxB,QAAS,WACPtsB,EAAE,CACAwiB,SAAS,EACTC,OAAQ,sBAGXz2B,KAAK2Q,aAAakC,MAAK,WACxBhB,aAAa9C,UAAWC,EAAEyuB,cAAcn1B,GAAI0L,EAAE,CAC5CwiB,SAAS,OAET3yB,QAAQ08B,KAAK,CAACvgC,KAAK2Q,aAAc/P,KACpC+C,EAAE/D,UAAUk/B,kBAAoB,SAAUn7B,EAAGmL,GAC9C,OAAO9O,KAAK49B,eAAe,CACzB3C,QAASt3B,GACRmL,GAAK,IAAImhB,EAAE,CACZC,WAAYlwB,KACZmwB,OAAQxsB,EACRoe,WAAYjT,IACT,MACJnL,EAAE/D,UAAU6wB,OAAS,SAAU9sB,EAAGmL,EAAGkF,GACtC,IAAIhF,EACApO,EACA0H,EACAsjB,EACA1gB,EAAIlL,UACR,IAAWgU,IAAMA,EAAI,IACrB,IAAIiP,EACApiB,EAAI8C,EAAE2sB,YACN/C,EAAI5pB,EAAE4sB,gBACN9B,EAAIzuB,KAAKm9B,qBAAqBrG,YAC9BpI,EAAI,GACR,IAAK1uB,KAAKi9B,oBAAsBxO,EAAG,OAAOzuB,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEa,eAAgB,aAAc,UAAW8H,EAAExgB,EAAGnL,EAAG,CAACwpB,EAAEC,gBACxH,IAAI3J,EAAIgL,EAAEkG,cAAc7lB,GACxB,IAAK2U,EAAG,OAAOzjB,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOlO,EAAEie,wBAAyB,aAAc5V,GAAIwgB,EAAExgB,EAAGnL,EAAG,CAACpE,EAAEyR,QAAQmc,EAAEE,iBAAkBve,KAC5H,IAAI8mB,EAAI51B,KAAKwgC,oBAAoBxsB,GAC7BgP,EAAIhjB,KAAKs9B,gBAAgB3B,4BAA4BlN,EAAG9qB,EAAGmL,GAC/D4f,EAAEjsB,KAAK1C,MAAM2uB,EAAG1L,EAAE0M,SAClB,IAAIZ,EAAI9L,EAAE9G,OACV,GAAI4S,EAAG7L,EAAI,CACTpC,WAAY,KACZC,UAAWgO,EACX0M,eAAgB92B,EAAE2nB,kBACb,CACL,IAAIuC,EAAI5uB,KAAKs9B,gBAAgBlC,uBAAuB3M,EAAGhL,EAAG9f,EAAGiyB,GAC7DlH,EAAEjsB,KAAK1C,MAAM2uB,EAAGE,EAAEc,SAAUzM,EAAI2L,EAAE1S,OAEpC,IAAI6S,EAAI9L,EAAEuY,eACNxM,EAAI,QAAUpuB,EAAI,QAAUoO,EAAIiU,EAAEpC,kBAAe,IAAW7R,OAAI,EAASA,EAAErP,WAAQ,IAAWiB,EAAIA,EAAI,KACtGquB,EAAI,QAAUrD,EAAI,QAAUtjB,EAAI2a,EAAEnC,iBAAc,IAAWxY,OAAI,EAASA,EAAE3I,WAAQ,IAAWisB,EAAIA,EAAI,KACrG/X,EAAI4oB,GAAGxZ,IACX,IAAOpP,EAAI7T,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEO,yBAA0B,aAAcpY,EAAGjO,GAAKb,KAAK8L,OAAO6J,IAAI2O,EAAE7P,KAAMkS,EAAEQ,6BAA8B,aAAcrY,EAAGjO,GAC9J,IAAIquB,EAAI,GACJe,GAAI,EACR2F,EAAE72B,EAAQ4wB,uBAAuBK,oBAAsBvM,EAAE+L,UAAUzrB,SAAQ,SAAUJ,GACnFurB,EAAEvrB,EAAEhE,KAAOuL,EAAEu0B,qCAAqC3wB,EAAG+E,EAAGoP,EAAEnC,UAAWnd,EAAG9C,OACrE+0B,EAAE72B,EAAQ4wB,uBAAuBC,0BAA4Bb,IAAMrqB,EAAE2nB,cAAgB0C,IAAMrqB,EAAE+nB,SAAWuJ,GAAEvH,MAAQzuB,KAAK+9B,oBAAoB9a,EAAGnU,EAAGjO,EAAGgT,EAAG0Z,GAAI0C,GAAI,GACpK,IAAImB,EAAI,GACRwE,EAAE72B,EAAQ4wB,uBAAuBI,mBAAqBqB,EAAI1C,EAAErnB,KAAI,SAAU1D,GACxE,OAAOpE,EAAEyR,QAAQjR,WAAM,EAAQgP,EAAE,CAACpL,EAAE,IAAKA,EAAEyD,MAAM,SAEnD,IAAImb,EAAI,CACNvB,QAASlS,EACToS,QAASrN,EACT0b,aAAcN,EACdlO,QAASiO,EACTQ,UAAWN,EACXQ,QAAS0B,EACTqP,wBAAyBxQ,GAE3B,OAAOjwB,KAAKqb,mBAAmBE,kBAAkB2Q,EAAE6S,SAAU,CAC3DxmB,KAAMwK,EAAEyJ,KACR2D,OAAQtvB,EACRkhB,WAAYwL,EACZyR,aAAczc,IACZ,CACFgN,aAAcN,EACd/N,QAASrN,EACT2b,UAAWN,EACXnO,QAASiO,EACThO,QAASlS,EACT2gB,YAAa9rB,EACb+rB,QAAS0B,IAEVztB,EAAE/D,UAAU4gC,oBAAsB,SAAU78B,GAC7C,IAAImL,EAAI9O,KACJgU,EAAIjE,EAAG,GAAI/P,KAAKk9B,sBAEpB,OAAOv0B,MAAM0oB,QAAQ1tB,GAAKA,EAAEI,SAAQ,SAAUJ,GAC5C5E,EAAQ4wB,uBAAuBhsB,GAAKqQ,EAAErQ,IAAK,EAAKmL,EAAEhD,OAAO6J,IAAI2O,EAAE5P,QAASiS,EAAE+B,2BAA4B,aAAc/kB,MACjH3D,KAAK8L,OAAO6J,IAAI2O,EAAE9P,MAAOmS,EAAEgB,uBAAwB,cAAe3T,GACtErQ,EAAE/D,UAAU+wB,cAAgB,SAAUhtB,EAAGmL,EAAGkF,GAC7C,IAAIzU,EAAIS,UACR,IAAWgU,IAAMA,EAAI,IACrB,IAAIhF,EAAI,GACR,IAAKhP,KAAKi9B,kBAAmB,OAAOj9B,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,iBAAkBxY,EAC/G,GAAI,IAAMF,EAAErP,OAAQ,OAAOuP,EAC3B,IAAIpO,EAAIZ,KAAKwgC,oBAAoBxsB,GACjC,OAAOlF,EAAE/K,SAAQ,SAAU+K,GACzB,IAAIxG,EAAI/I,EAAEkxB,OAAO9sB,EAAGmL,EAAGkF,GACvBpT,EAAE7B,EAAQ4wB,uBAAuBE,sBAAwBvnB,EAAE4Y,UAAYlS,EAAEF,GAAKxG,MAC5E0G,GACHrL,EAAE/D,UAAUgxB,UAAY,SAAUjtB,EAAGmL,QACtC,IAAWA,IAAMA,EAAI,IACrB,IAAIkF,EAAIhU,KAAKm9B,qBAAqBrG,YAClC,IAAK92B,KAAKi9B,oBAAsBjpB,EAAG,OAAOhU,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEa,eAAgB,aAAc,aAAc,GACjH,IAAIjoB,EAAIH,OAAOqB,KAAKuT,EAAE2gB,eACtB,OAAO30B,KAAK2wB,cAAchtB,EAAGpE,EAAGuP,IAC/BnL,EAztBI,GAiuBL+8B,GAAK,WACP,SAAS/8B,EAAEA,GACT,IAAImL,EAAI9O,KACRA,KAAK8L,OAASnI,EAAEmI,OAAQ9L,KAAK2uB,aAAehrB,EAAEgrB,aAAc3uB,KAAK2gC,sBAAwB,GAAIphC,EAAE8X,aAAa6U,GAAGnoB,SAAQ,SAAUJ,GAC/HmL,EAAE6xB,sBAAsBh9B,GAAK,MAC3B3D,KAAKoO,WAAa,EAGxB,OAAOzK,EAAE/D,UAAUghC,wBAA0B,SAAUj9B,EAAGmL,GACxD,IACE,KAAMvP,EAAE8X,aAAa6U,GAAGxrB,QAAQiD,IAAM,GAAI,OAAQ,EAClD3D,KAAK2gC,sBAAsBh9B,KAAO3D,KAAK2gC,sBAAsBh9B,GAAK,IAClE,IAAIqQ,GAAI,EACR,IAAKhU,KAAK2gC,sBAAsBh9B,IAAM,IAAII,SAAQ,SAAUJ,GAC1DA,EAAE+X,WAAa5M,IAAMkF,GAAI,MACvBA,EAAG,OAAQ,EACfhU,KAAK2gC,sBAAsBh9B,GAAGlB,KAAK,CACjCie,GAAI1gB,KAAKoO,WACTsN,SAAU5M,IAEZ,IAAIE,EAAIhP,KAAKoO,WACb,OAAOpO,KAAKoO,YAAc,EAAGY,EAC7B,MAAOrL,GACP,OAAO3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,IAAK,IAEhFA,EAAE/D,UAAUihC,2BAA6B,SAAUl9B,GACpD,IAAImL,EAAI9O,KAER,IACE,IAAIgU,EAAGzU,EACP,GAAIH,OAAOqB,KAAKT,KAAK2gC,uBAAuBG,MAAK,SAAU9xB,GACzD,OAAQF,EAAE6xB,sBAAsB3xB,IAAM,IAAI5E,OAAM,SAAU0E,EAAGlO,GAC3D,OAAOkO,EAAE4R,KAAO/c,IAAMqQ,EAAIpT,EAAGrB,EAAIyP,GAAG,WAClC,IAAWgF,QAAK,IAAWzU,UAC7B,IAAWyU,QAAK,IAAWzU,EAAG,OAAOS,KAAK2gC,sBAAsBphC,GAAGwX,OAAO/C,EAAG,IAAI,EACrF,MAAOrQ,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,GAGrE,OAAO,GACNA,EAAE/D,UAAUmhC,8BAAgC,WAC7C,IAAIp9B,EAAI3D,KAER,IACET,EAAE8X,aAAa6U,GAAGnoB,SAAQ,SAAU+K,GAClCnL,EAAEg9B,sBAAsB7xB,GAAK,MAE/B,MAAOnL,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,KAEpEA,EAAE/D,UAAUohC,2BAA6B,SAAUr9B,GACpD,IACE3D,KAAK2gC,sBAAsBh9B,GAAK,GAChC,MAAOA,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,KAEpEA,EAAE/D,UAAU2b,kBAAoB,SAAU5X,EAAGmL,GAC9C,IAAIkF,EAAIhU,KAER,KACGA,KAAK2gC,sBAAsBh9B,IAAM,IAAII,SAAQ,SAAUxE,GACtD,IAAIyP,EAAIzP,EAAEmc,SAEV,IACE1M,EAAEF,GACF,MAAOA,GACPkF,EAAElI,OAAO6J,IAAI2O,EAAE3P,MAAOgS,EAAEkB,gCAAiC,sBAAuBlkB,EAAGmL,EAAEmD,aAGzF,MAAOtO,GACP3D,KAAK8L,OAAO6J,IAAI2O,EAAE3P,MAAOhR,EAAEsO,SAAUjS,KAAK2uB,aAAatb,YAAY1P,KAEpEA,EAxEI,GA2ELs9B,GACoB,WACpB,IAAK,IAAIt9B,EAAI,GAAImL,EAAI,EAAGA,EAAItP,UAAUC,OAAQqP,IAC5CnL,EAAEmL,GAAKtP,UAAUsP,GAGnB,OAAO,IAAKkF,EAAE4P,wBAAwB1K,KAAKnZ,MAAMiU,EAAE4P,wBAAyB7U,EAAE,MAAC,GAASpL,MAErDqQ,EAAEqJ,oCAGzC,SAAS6jB,GAAGv9B,EAAGmL,EAAGkF,EAAGzU,GACnB,IAAIyP,EAAI,CACNgB,OAAQrM,GAGV,SAAK,IAAWpE,GAAK,iBAAmBA,GAAK,OAASA,IAAMk0B,EAAEp0B,OAAO2P,EAAGzP,GAAIyU,EAAG,CAC7E,IAAI1L,EAAIotB,EAAE,CACR5lB,SAAUkE,EACV8hB,yBAAqB,EACrBhqB,OAAQgD,IAENC,EAAIzG,EAAEutB,UACNvR,EAAIhc,EAAEsF,MACV0W,GAAKxV,EAAElB,MAAM0W,GAAIvV,IAAMC,EAAEc,SAAWjH,EAAEkG,IAGxC,OAAO,IAAInO,EAAE+O,2BAA2BX,GAG1C,IAAImyB,GAAKryB,EAAE/C,YACX+C,EAAEmI,cAAc+X,KAAMlgB,EAAE0G,YAAY1G,EAAEwG,SAASb,MAE/C,IAAI2sB,IAAK,EACLC,GAAK,SAAY19B,GACnB,IACEA,EAAEgrB,cAAgB7f,EAAE0E,gBAAgB7P,EAAEgrB,cAAehrB,EAAEmI,SAAWgD,EAAEmI,cAActT,EAAEmI,QAASgD,EAAE0G,YAAY1G,EAAEwG,SAASf,cAAU,IAAW5Q,EAAE0R,UAAYvG,EAAE0G,YAAY7R,EAAE0R,UAEzK,IACEoO,EAAE9f,GAAIA,EAAEs5B,iBAAkB,EAC1B,MAAOnuB,GACPqyB,GAAGvzB,MAAMkB,GAAInL,EAAEs5B,iBAAkB,EAGnC,IAAI19B,OAAI,EACR,MAAQoE,EAAE6Z,iBAAmBje,EAAI,IAAIyU,EAAEqJ,oCAAoC,CACzEG,gBAAiBoR,IACfwS,KAAO7hC,EAAEue,oBAAqBsjB,IAAK,IAAO7hC,EAAIoE,EAAE6Z,gBACpD,IAAIxO,EAAIrL,EAAE29B,eACN1gC,EAAI+C,EAAE49B,oBAlIL,SAAY59B,GACnB,QAAS,iBAAmBA,IAAM8vB,EAAEE,cAAchwB,KAAOA,GAAK,GAkI5D69B,CAAG79B,EAAE29B,kBAAoBH,GAAGhwB,KAAK,8CAA+CxN,EAAE29B,eAAgB,IAAKtyB,EAAI,IAhItG,SAAYrL,GACnB,QAAS,iBAAmBA,IAAM8vB,EAAEE,cAAchwB,KAAOA,EAAI,EA+HqD89B,CAAG99B,EAAE49B,sBAAwBJ,GAAGhwB,KAAK,kDAAmDxN,EAAE49B,mBAAoB,KAAM3gC,EAAI,KAExO,IAAImO,EAAID,EAAE4E,kBACN4Q,EAAI,IAAIoc,GAAG,CACb50B,OAAQq1B,GACRxS,aAAc5f,IAEZtI,EAAI,CACNiX,WAAYne,EACZsb,cAAeja,EACfka,UAAW9L,EACXmM,aAAcxX,EAAE+9B,mBAAqB,IACrCrmB,mBAAoBiJ,GAElBsH,EAAI7b,EAAGA,EAAG,CACZusB,aAAc,kBACb34B,GAAI,CACL45B,eAAgB0D,GAAwBx6B,GACxCqF,OAAQq1B,GACRxS,aAAc5f,EACdwnB,gBAAiB5yB,EAAEqM,OAASkxB,GAAGv9B,EAAEqM,OAAQmxB,GAAIx9B,EAAEmM,SAAUnM,EAAEg+B,sBAAmB,EAC9EtmB,mBAAoBiJ,IAElB4H,EAAI,IAAI6Q,GAAGnR,GAEf,IACE,GAAI,mBAAqB1mB,OAAOtC,iBAAkB,CAChD,IAAImgB,EAAI,eAAgB7d,OAAS,WAAa,SAC9CA,OAAOtC,iBAAiBmgB,GAAG,WACzBmJ,EAAEkU,WACD,IAEL,MAAOz8B,GACPw9B,GAAGvzB,MAAM+Y,EAAEgF,wBAAyB,gBAAiBhoB,EAAEsO,SAGzD,OAAOia,EACP,MAAOvoB,GACP,OAAOw9B,GAAGvzB,MAAMjK,GAAI,OAGpBi+B,GAAK,WACPR,IAAK,GAEHS,GAAK,CACPC,QAAS5S,EACTP,aAAc3L,EACdxF,gBAAiBoR,EACjBmT,MAAOxU,EACPyU,UAAWlzB,EAAEmI,cACbzB,YAAa1G,EAAE0G,YACfysB,eAAgBZ,GAChBa,0BAA2BN,GAC3BjS,uBAAwB5wB,EAAQ4wB,wBAGlCvwB,OAAOiL,eAAetL,EAAS,cAAe,CAC5Coe,YAAY,EACZ5N,IAAK,WACH,OAAOT,EAAE0G,eAETpW,OAAOiL,eAAetL,EAAS,YAAa,CAC9Coe,YAAY,EACZ5N,IAAK,WACH,OAAOT,EAAEmI,iBAETlY,EAAQmjC,0BAA4BN,GAAI7iC,EAAQkjC,eAAiBZ,GAAItiC,EAAA,QAAkB8iC,GAAI9iC,EAAQgjC,MAAQxU,EAAGxuB,EAAQ4vB,aAAe3L,EAAGjkB,EAAQye,gBAAkBoR,EAAG7vB,EAAQ+iC,QAAU5S,mCC9jF3L9vB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAQT,IAAIwL,EAEJ,WACE,SAASA,KAYT,OALAA,EAAiBxT,UAAUyT,YAAc,SAAUC,KAK5CF,EAbT,GAgBArU,EAAQqU,iBAAmBA,EAC3B,IAAIG,EAAqB,IAAIH,EAU7BrU,EAAQyU,gBAJR,SAAyBC,GACvBF,EAAqBE,GAavB1U,EAAQ2U,gBAJR,WACE,OAAOH,GAYTxU,EAAQ4U,kBAJR,WACEJ,EAAqB,IAAIH,sCCtD3B,SAASQ,EAASC,GAChB,IAAK,IAAIhT,KAAKgT,EACP9U,EAAQc,eAAegB,KAAI9B,EAAQ8B,GAAKgT,EAAEhT,IAInDzB,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBTgM,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,OAEjBA,EAAS,EAAQ,0CC7BjB,IAAIE,EAAiB9T,MAAQA,KAAK8T,gBAAkB,WAClD,IAAK,IAAI/E,EAAI,EAAGxP,EAAI,EAAGwU,EAAKvU,UAAUC,OAAQF,EAAIwU,EAAIxU,IACpDwP,GAAKvP,UAAUD,GAAGE,OAGf,IAAIuU,EAAIrL,MAAMoG,GAAIkF,EAAI,EAA3B,IAA8B1U,EAAI,EAAGA,EAAIwU,EAAIxU,IAC3C,IAAK,IAAI+I,EAAI9I,UAAUD,GAAI2U,EAAI,EAAGC,EAAK7L,EAAE7I,OAAQyU,EAAIC,EAAID,IAAKD,IAC5DD,EAAEC,GAAK3L,EAAE4L,GAIb,OAAOF,GAGT5U,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwM,EAAiB,EAAQ,MAEzBlF,EAAiB,EAAQ,MAEzBmF,EAAW,EAAQ,MAEnBC,EAAmB,CACrBC,OAAQ,EACRC,MAAO,EACPC,KAAM,EACNC,QAAS,EACTC,MAAO,GAGT,SAASC,EAAeC,GACtB,MAAqB,iBAAVA,EACFA,GAKK,UAFdA,EAAQA,EAAMC,iBAGZD,EAAQ,WAGLP,EAAiBO,GAIfP,EAAiBO,GAHfA,GAMX,IAAIE,EAEJ,WACE,SAASA,IACP/U,KAAKgV,oBAAsB,IAAIC,EAC/BjV,KAAKkV,QAAU,GAiBjB,OAdAH,EAAkBnV,UAAUmM,UAAY,SAAUvH,GAChD,OAAKA,GAIAxE,KAAKkV,QAAQ1Q,KAChBxE,KAAKkV,QAAQ1Q,GAAQ,IAAIyQ,EAAiB,CACxCE,cAAe3Q,KAIZxE,KAAKkV,QAAQ1Q,IATXxE,KAAKgV,qBAYTD,EApBT,GAuBIK,EAEJ,WAME,SAASA,EAAkBxF,QACV,IAAXA,IACFA,EAAS,IAGX5P,KAAKqV,SAAWhB,EAASiB,SAASf,YAEVpR,IAApByM,EAAOyF,UAA0BnG,EAAeqG,YAAYlB,EAASiB,SAAU1F,EAAOyF,WACxFrV,KAAKwV,YAAY5F,EAAOyF,UAG1BrV,KAAKyV,kBAAuCtS,IAAxByM,EAAO6F,gBAA+B7F,EAAO6F,aACjEzV,KAAK0V,YAA2BvS,IAAlByM,EAAO8F,OAAuB9F,EAAO8F,OAAS,eA6G9D,OApGAN,EAAkBxV,UAAU+V,IAAM,SAAUd,EAAO5C,GACjD,GAAKjS,KAAK4V,UAAUf,IAAW7U,KAAKyV,aAApC,CAIA,IAAII,EAAa7V,KAAK0V,OAAS,MAAQ1V,KAAK8V,gBAAgBjB,GAAS,IAAM7U,KAAK+V,UAAY,IAAM9D,EAClGjS,KAAKgW,WAAWnB,EAAO,CAACgB,MAQ1BT,EAAkBxV,UAAU4V,YAAc,SAAUX,GAClDA,EAAQD,EAAeC,GAElB3F,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG3D7U,KAAKqV,SAAWR,EAFhB7U,KAAKqV,SAAWhB,EAASiB,SAASX,OAWtCS,EAAkBxV,UAAUmW,QAAU,WACpC,OAAO,IAAIxS,MAAO0S,eAUpBb,EAAkBxV,UAAUgW,UAAY,SAAUM,GAChD,OAAOA,GAAkBlW,KAAKqV,UAUhCD,EAAkBxV,UAAUkW,gBAAkB,SAAUT,GACtD,OAAQA,GACN,KAAKhB,EAASiB,SAASd,MACrB,MAAO,QAET,KAAKH,EAASiB,SAASb,KACrB,MAAO,QAET,KAAKJ,EAASiB,SAASZ,QACrB,MAAO,QAET,KAAKL,EAASiB,SAASX,MACrB,MAAO,QAET,QACE,MAAO,WAWbS,EAAkBxV,UAAUoW,WAAa,SAAUX,EAAUc,GAC3D,OAAQd,GACN,KAAKhB,EAASiB,SAASd,MACrB4B,QAAQT,IAAI5V,MAAMqW,QAASD,GAC3B,MAEF,KAAK9B,EAASiB,SAASb,KACrB2B,QAAQ9D,KAAKvS,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASZ,QACrB0B,QAAQjF,KAAKpR,MAAMqW,QAASD,GAC5B,MAEF,KAAK9B,EAASiB,SAASX,MACrByB,QAAQxI,MAAM7N,MAAMqW,QAASD,GAC7B,MAEF,QACEC,QAAQT,IAAI5V,MAAMqW,QAASD,KAI1Bf,EA/HT,GAkIArW,EAAQqW,kBAAoBA,EAC5B,IAAIiB,EAAiBhC,EAASiB,SAASf,OACnC+B,EAAmB,KAEnBrB,EAEJ,WACE,SAASA,EAAiBsB,QACX,IAATA,IACFA,EAAO,IAGTvW,KAAKmV,cAAgB,GAEjBoB,EAAKpB,gBACPnV,KAAKmV,cAAgBoB,EAAKpB,eAuH9B,OA7GAF,EAAiBrV,UAAU+V,IAAM,SAAUd,EAAO5C,GAGhD,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK0W,YAAY9B,EAAeC,GAAQ,CACtC5C,QAASA,EACTuE,MAAOA,KAIXvB,EAAiBrV,UAAU0S,KAAO,SAAUL,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASb,KAAMxC,EAASuE,IAGjDvB,EAAiBrV,UAAU6R,MAAQ,SAAUQ,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASd,MAAOvC,EAASuE,IAGlDvB,EAAiBrV,UAAUuR,KAAO,SAAUc,GAG1C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASZ,QAASzC,EAASuE,IAGpDvB,EAAiBrV,UAAUgO,MAAQ,SAAUqE,GAG3C,IAFA,IAAIuE,EAAQ,GAEHC,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtCD,EAAMC,EAAK,GAAKjX,UAAUiX,GAG5BzW,KAAK2W,SAAStC,EAASiB,SAASX,MAAO1C,EAASuE,IAGlDvB,EAAiBrV,UAAUgX,OAAS,SAAUC,GAC5C,OAAa7W,KAAKmV,cAAgBnV,KAAKmV,cAAgB,KAAO,IAAMjG,EAAe8B,QAAQjR,WAAM,EAAQ+T,EAAe,CAAC+C,EAAK5E,SAAU4E,EAAKL,SAG/IvB,EAAiBrV,UAAU8W,YAAc,SAAU7B,EAAOgC,GACnDP,IAIDzB,EAAQwB,IAIZC,EAAiBX,IAAId,EAAO7U,KAAK4W,OAAOC,IAEpCA,EAAKjJ,OAASiJ,EAAKjJ,iBAAiBhB,OACtCwH,EAAeV,kBAAkBL,YAAYwD,EAAKjJ,UAItDqH,EAAiBrV,UAAU+W,SAAW,SAAU9B,EAAO5C,EAASuE,GAC9D,IAAI5I,EAEJ,GAAIqE,aAAmBrF,MAQrB,OANAqF,GADArE,EAAQqE,GACQA,aAChBjS,KAAK0W,YAAY7B,EAAO,CACtBjH,MAAOA,EACPqE,QAASA,EACTuE,MAAOA,IAKX,GAAqB,IAAjBA,EAAM/W,OAAV,CAQA,IAAIqX,EAAON,EAAMA,EAAM/W,OAAS,GAE5BqX,aAAgBlK,QAClBgB,EAAQkJ,EACRN,EAAMO,QAAQ,IAGhB/W,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTrE,MAAOA,EACP4I,MAAOA,SAjBPxW,KAAK0W,YAAY7B,EAAO,CACtB5C,QAASA,EACTuE,MAAOA,KAmBNvB,EAhIT,GAmII+B,EAAmB,IAAIjC,EAM3BhW,EAAQgN,UAJR,SAAmBvH,GACjB,OAAOwS,EAAiBjL,UAAUvH,IASpCzF,EAAQkY,cAJR,SAAuBnL,GACrBwK,EAAmBxK,GAerB/M,EAAQyW,YAVR,SAAqBX,GACnBA,EAAQD,EAAeC,GAKrBwB,EAHGnH,EAAeqG,YAAYlB,EAASiB,SAAUT,SAAoB1R,IAAV0R,EAG1CA,EAFAR,EAASiB,SAASX,OAYvC5V,EAAQmY,YAJR,WACE,OAAOb,GAaTtX,EAAQoY,YALR,WACEH,EAAmB,IAAIjC,EACvBsB,EAAiBhC,EAASiB,SAASf,yCC5YrCnV,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAoBT,SAAW0N,GACTA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,QALpC,CAMcvW,EAAQuW,WAAavW,EAAQuW,SAAW,wCC3BtDlW,OAAOiL,eAAetL,EAAS,aAAc,CAC3C6I,OAAO,IAkBT,IAAIwP,EAAS,EAAQ,MAkDrB,SAASC,EAAa/W,GACpB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,OAAOW,EAAIX,MA9CfZ,EAAQuY,aAJR,WACE,OAAOF,EAAOG,MAShBxY,EAAQyY,aAJR,WACE,OAAO,IAAIjU,MAAOwS,WA2BpBhX,EAAQwW,YAdR,SAAqBkC,EAAa7P,GAIhC,IAHA,IAAI8P,GAAQ,EACRjX,EAAOrB,OAAOqB,KAAKgX,GAEdpT,EAAQ,EAAGA,EAAQ5D,EAAKhB,OAAQ4E,IACvC,GAAIuD,IAAU6P,EAAYhX,EAAK4D,IAAS,CACtCqT,GAAQ,EACR,MAIJ,OAAOA,GAeT3Y,EAAQ4Y,QAVR,SAAiBC,EAAKC,GACpB,IAAIC,EAAU,GAMd,OALAF,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAMkY,EAAUE,GACpBD,EAAQnY,GAAOmY,EAAQnY,IAAQ,GAC/BmY,EAAQnY,GAAK8C,KAAKsV,MAEbV,EAAaS,IAWtB/Y,EAAQsY,aAAeA,EAQvBtY,EAAQiZ,cANR,SAAuB1X,GACrB,OAAOlB,OAAOqB,KAAKH,GAAK+G,KAAI,SAAU1H,GACpC,MAAO,CAACA,EAAKW,EAAIX,QAqBrBZ,EAAQkZ,KAfR,SAAcL,EAAKM,GAGjB,IAFA,IAAIR,EAEKjB,EAAK,EAAG0B,EAAQP,EAAKnB,EAAK0B,EAAM1Y,OAAQgX,IAAM,CACrD,IAAIsB,EAAOI,EAAM1B,GAEjB,GAAIyB,EAAKH,GAAO,CACdL,EAAQK,EACR,OAIJ,OAAOL,GAcT3Y,EAAQqZ,MATR,SAAeR,EAAKS,GAClB,IAAIhR,EAAM,GAKV,OAJAuQ,EAAI7T,SAAQ,SAAUgU,GACpB,IAAIpY,EAAM0Y,EAAQN,GAClB1Q,EAAI1H,GAAOoY,KAEN1Q,GA2BTtI,EAAQiS,QAtBR,SAAiB4F,GAGf,IAFA,IAAI0B,EAAO,GAEF7B,EAAK,EAAGA,EAAKjX,UAAUC,OAAQgX,IACtC6B,EAAK7B,EAAK,GAAKjX,UAAUiX,GAG3B,IAAIlX,EAAI,EACR,OAAOqX,EAAOvT,QAAQ,OAAO,WAC3B,IAAIsL,EAAM2J,EAAK/Y,KACXgZ,SAAc5J,EAElB,MAAa,aAAT4J,EACK5J,IACW,WAAT4J,EACF5J,EAEAF,OAAOE,OAmDpB,SAAW6J,GACTA,EAA6B,SAAI,4DACjCA,EAA6B,SAAI,kDACjCA,EAA8B,UAAI,qBAClCA,EAA6C,yBAAI,2BACjDA,EAA0B,MAAI,0DALhC,CAMwBzZ,EAAQyZ,qBAAuBzZ,EAAQyZ,mBAAqB,2BC7LpF,IAAIC,EAAK,EAAQ,MAEblB,EAAK,EAAQ,MAEbmB,EAAOnB,EACXmB,EAAKD,GAAKA,EACVC,EAAKnB,GAAKA,EACVzY,EAAOC,QAAU2Z,oBCDjB,IAFA,IAAIC,EAAY,GAEPpZ,EAAI,EAAGA,EAAI,MAAOA,EACzBoZ,EAAUpZ,IAAMA,EAAI,KAAOqZ,SAAS,IAAIxU,OAAO,GAUjDtF,EAAOC,QAPP,SAAqB8Z,EAAKC,GACxB,IAAIvZ,EAAIuZ,GAAU,EACdC,EAAMJ,EAEV,MAAO,CAACI,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAO,IAAKwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,MAAOwZ,EAAIF,EAAItZ,OAAOgI,KAAK,sBCRnR,IAAIyR,EAAmC,oBAAVC,QAAyBA,OAAOD,iBAAmBC,OAAOD,gBAAgBE,KAAKD,SAA8B,oBAAZE,UAAqE,mBAAnCjU,OAAOiU,SAASH,iBAAiCG,SAASH,gBAAgBE,KAAKC,UAE/O,GAAIH,EAAiB,CAEnB,IAAII,EAAQ,IAAIC,WAAW,IAE3Bva,EAAOC,QAAU,WAEf,OADAia,EAAgBI,GACTA,OAEJ,CAKL,IAAIE,EAAO,IAAI3Q,MAAM,IAErB7J,EAAOC,QAAU,WACf,IAAK,IAAWiV,EAAPzU,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiByU,EAAoB,WAAhBhN,KAAK6D,UAC/ByO,EAAK/Z,GAAKyU,MAAY,EAAJzU,IAAa,GAAK,IAGtC,OAAO+Z,0BC7BX,IAQIC,EAEAC,EAVAC,EAAM,EAAQ,KAEdC,EAAc,EAAQ,MAWtBC,EAAa,EACbC,EAAa,EAkFjB9a,EAAOC,QAhFP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EACrBvQ,EAAIsQ,GAAO,GAEXgB,GADJ3X,EAAUA,GAAW,IACF2X,MAAQN,EACvBO,OAAgC3W,IAArBjB,EAAQ4X,SAAyB5X,EAAQ4X,SAAWN,EAInE,GAAY,MAARK,GAA4B,MAAZC,EAAkB,CACpC,IAAIC,EAAYN,IAEJ,MAARI,IAEFA,EAAON,EAAU,CAAgB,EAAfQ,EAAU,GAAWA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAG3F,MAAZD,IAEFA,EAAWN,EAAiD,OAApCO,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIC,OAA0B7W,IAAlBjB,EAAQ8X,MAAsB9X,EAAQ8X,OAAQ,IAAIzW,MAAOwS,UAGjEkE,OAA0B9W,IAAlBjB,EAAQ+X,MAAsB/X,EAAQ+X,MAAQL,EAAa,EAEnEM,EAAKF,EAAQL,GAAcM,EAAQL,GAAc,IAarD,GAXIM,EAAK,QAA0B/W,IAArBjB,EAAQ4X,WACpBA,EAAWA,EAAW,EAAI,QAKvBI,EAAK,GAAKF,EAAQL,SAAiCxW,IAAlBjB,EAAQ+X,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAIrN,MAAM,mDAGlB+M,EAAaK,EACbJ,EAAaK,EACbT,EAAYM,EAIZ,IAAIK,GAA4B,KAAb,WAFnBH,GAAS,cAE+BC,GAAS,WACjD1R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,GAAK,IACrB5R,EAAEhJ,KAAO4a,IAAO,EAAI,IACpB5R,EAAEhJ,KAAY,IAAL4a,EAET,IAAIC,EAAMJ,EAAQ,WAAc,IAAQ,UACxCzR,EAAEhJ,KAAO6a,IAAQ,EAAI,IACrB7R,EAAEhJ,KAAa,IAAN6a,EAET7R,EAAEhJ,KAAO6a,IAAQ,GAAK,GAAM,GAE5B7R,EAAEhJ,KAAO6a,IAAQ,GAAK,IAEtB7R,EAAEhJ,KAAOua,IAAa,EAAI,IAE1BvR,EAAEhJ,KAAkB,IAAXua,EAET,IAAK,IAAI9K,EAAI,EAAGA,EAAI,IAAKA,EACvBzG,EAAEhJ,EAAIyP,GAAK6K,EAAK7K,GAGlB,OAAO6J,GAAYa,EAAYnR,0BC7FjC,IAAIkR,EAAM,EAAQ,KAEdC,EAAc,EAAQ,MAyB1B5a,EAAOC,QAvBP,SAAYmD,EAAS2W,EAAKC,GACxB,IAAIvZ,EAAIsZ,GAAOC,GAAU,EAEH,iBAAX5W,IACT2W,EAAkB,WAAZ3W,EAAuB,IAAIyG,MAAM,IAAM,KAC7CzG,EAAU,MAIZ,IAAIoX,GADJpX,EAAUA,GAAW,IACF2I,SAAW3I,EAAQuX,KAAOA,KAK7C,GAHAH,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBT,EACF,IAAK,IAAIwB,EAAK,EAAGA,EAAK,KAAMA,EAC1BxB,EAAItZ,EAAI8a,GAAMf,EAAKe,GAIvB,OAAOxB,GAAOa,EAAYJ,uCClB5B,IAAI6oB,EAAQ,EAAQ,MAEhBL,EAAU,EAAQ,MAElBM,EAAuB,EAAQ,MAE/BlS,EAAa,EAAQ,MAEzB,SAASmS,EAAsB1+B,GAC7B,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CACxD,QAAWA,GAIf,IAAI2+B,EAA6CD,EAAsBD,GAkBnEG,EAAoBJ,EAAMK,cAAc,CAC1CtS,WAAY,KACZuS,cAAc,EACdh1B,QAAS,IAEPi1B,EAA4BH,EAAkBI,SAC9CC,EAA4BL,EAAkBM,SAkB9C73B,EAAiB,SAAuBE,EAAG3C,GAW7C,OAVAyC,EAAiB5L,OAAOa,gBAAkB,CACxCa,UAAW,cACA6H,OAAS,SAAUuC,EAAG3C,GACjC2C,EAAEpK,UAAYyH,IACX,SAAU2C,EAAG3C,GAChB,IAAK,IAAI1H,KAAK0H,EACRA,EAAE1I,eAAegB,KAAIqK,EAAErK,GAAK0H,EAAE1H,KAI/BmK,EAAeE,EAAG3C,IAG3B,SAAS0C,EAAUC,EAAG3C,GAGpB,SAAS4C,IACPnL,KAAKK,YAAc6K,EAHrBF,EAAeE,EAAG3C,GAMlB2C,EAAEtL,UAAkB,OAAN2I,EAAanJ,OAAOgB,OAAOmI,IAAM4C,EAAGvL,UAAY2I,EAAE3I,UAAW,IAAIuL,GAGjF,IAAI23B,EAAU,WAaZ,OAZAA,EAAU1jC,OAAOC,QAAU,SAAkByP,GAC3C,IAAK,IAAIC,EAAGxP,EAAI,EAAGyP,EAAIxP,UAAUC,OAAQF,EAAIyP,EAAGzP,IAG9C,IAAK,IAAIsB,KAFTkO,EAAIvP,UAAUD,GAGRH,OAAOQ,UAAUC,eAAeC,KAAKiP,EAAGlO,KAAIiO,EAAEjO,GAAKkO,EAAElO,IAI7D,OAAOiO,GAGFg0B,EAAQ/iC,MAAMC,KAAMR,YAgF7B,SAASujC,EAAqCC,GAC5C,MAA0B,iBAAfA,GAA0C,OAAfA,EAC7BA,EAGF,GAWT,SAASC,EAAmBC,EAAeC,GACzC,IAAIC,EAAWL,EAAqCG,GAChDG,EAAWN,EAAqCI,GAChDG,EAAelkC,OAAOqB,KAAK2iC,GAC3BG,EAAenkC,OAAOqB,KAAK4iC,GAE/B,OAAIC,EAAa7jC,SAAW8jC,EAAa9jC,QAKlC6jC,EAAal5B,OAAM,SAAUo5B,GAClC,OAAOA,KAAcH,GAAYD,EAASI,KAAgBH,EAASG,MAIvE,SAASC,EAAqBziB,EAAS/O,EAAS6P,GAC9C,MAAO,CACLZ,SAAS,EACTF,QAASA,EACTD,QAAS,KACTwO,aAAc,KACdC,UAAW,GACXE,QAAS,CAACzd,GACVwd,YAAa,CACX/O,GAAIoB,EAAKpB,GACTqB,WAAYD,EAAKC,aAKvB,IAoII2hB,EApIA53B,EAASg2B,EAAQ/1B,UAAU,wBAE3B43B,EAEJ,SAAUn4B,GAGR,SAASm4B,EAAmBC,GAC1B,IAAIr1B,EAAQ/C,EAAO1L,KAAKE,KAAM4jC,IAAU5jC,KAEpCkwB,EAAa0T,EAAM1T,WACnBC,EAASyT,EAAMzT,OACf8N,EAAiB2F,EAAM3F,eACvBnc,EAAO8hB,EAAM9hB,KAEb+hB,EAAY,KA0BhB,OAxBI/hB,EACE,SAAUA,EACZA,EAAKjP,MAAK,SAAU/O,GAClBosB,EAAW4T,QAAQhgC,MAGrB+/B,EAAY,CACVnjB,GAAIoB,EAAKpB,GACTqB,WAAYD,EAAKC,YAAc,IAG1BoO,IACT0T,EAAY,CACVnjB,GAAIyP,EACJpO,WAAYkc,GAAkB,IAGhCnyB,EAAOqF,KAAK,iGAGV0yB,GACF3T,EAAW4T,QAAQD,GAGdt1B,EA6CT,OAjFAtD,EAAU04B,EAAoBn4B,GAuC9Bm4B,EAAmB/jC,UAAUmkC,mBAAqB,SAAUC,GAC1D,IAAIA,EAAUvB,aAAd,CAKA,IAAIvS,EAAalwB,KAAK4jC,MAAM1T,WAExBlwB,KAAK4jC,MAAM9hB,MAAQ,OAAQ9hB,KAAK4jC,MAAM9hB,OACnCoO,EAAWpO,KAAKpB,IApJ3B,SAAuBujB,EAAOC,GAC5B,GAAID,EAAMvjB,KAAOwjB,EAAMxjB,GACrB,OAAO,EAGT,IAAIyjB,EAAY/kC,OAAOqB,KAAKwjC,EAAMliB,YAAc,IAC5CqiB,EAAYhlC,OAAOqB,KAAKyjC,EAAMniB,YAAc,IAChDoiB,EAAU97B,OACV+7B,EAAU/7B,OACV,IAAIg8B,EAAkBJ,EAAMliB,YAAc,GACtCuiB,EAAkBJ,EAAMniB,YAAc,GAG1C,GAFsBoiB,EAAU1kC,SAAW2kC,EAAU3kC,OAGnD,OAAO,EAGT,IAAK,IAAIF,EAAI,EAAGA,EAAI4kC,EAAU1kC,OAAQF,IAAK,CACzC,IAAIglC,EAAOJ,EAAU5kC,GACjBilC,EAAOJ,EAAU7kC,GAErB,GAAIglC,IAASC,EACX,OAAO,EAGT,GAAIH,EAAgBE,KAAUD,EAAgBE,GAC5C,OAAO,EAIX,OAAO,EA0HFC,CAAc,CACb/jB,GAAIwP,EAAWpO,KAAKpB,GACpBqB,WAAYmO,EAAWpO,KAAKC,YAAc,IACzC,CACDrB,GAAI1gB,KAAK4jC,MAAM9hB,KAAKpB,GAEpBqB,WAAY/hB,KAAK4jC,MAAM9hB,KAAKC,YAAc,MAR1CmO,EAAW4T,QAAQ9jC,KAAK4jC,MAAM9hB,SAepC6hB,EAAmB/jC,UAAU8kC,OAAS,WACpC,IAAI30B,EAAK/P,KAAK4jC,MACV1T,EAAangB,EAAGmgB,WAChByU,EAAW50B,EAAG40B,SACdl3B,EAAUsC,EAAGtC,QAEb7F,EAAQ,CACVsoB,WAAYA,EACZuS,eAHmBziC,KAAK4jC,MAAMnB,aAI9Bh1B,QAASA,GAEX,OAAO00B,EAAM/8B,cAAcw9B,EAA2B,CACpDh7B,MAAOA,GACN+8B,IAGEhB,EAlFT,CAmFExB,EAAMyC,WAuBJC,EAA2B,SAAkCC,EAAcvsB,EAAM3Q,EAAOkE,EAAQ4P,GAClG,IAAIqpB,EAAe,iBAAmBxsB,EAAO,KAAQ3Q,EAAQ,eAAmBk9B,EAAahjB,KAAKpB,GAAK,IACnGskB,EAA2BF,EAAazpB,mBAAmBulB,wBAAwB1Q,EAAW6R,MAAMvpB,mBAAmB6kB,0BAA0B,WACnJvxB,EAAOwG,KAAK4d,EAAW6R,MAAMvpB,mBAAmB6kB,yBAA2B,KAAO0H,GAClFrpB,OAOEupB,EAAyBH,EAAaI,cAAa,WACrDp5B,EAAOwG,KAAK,gBAAkByyB,GAC9BrpB,OAEF,OAAO,WAPEopB,EAAazpB,mBAAmBwlB,2BAA2BmE,GASlEC,MAIAE,EAAcrD,EAAQ/1B,UAAU,YAgBpC,SAASq5B,EAAuBC,EAAmBC,GACjD,OAAOD,EAAkBE,YAAcD,EAAkBC,WAAaF,EAAkBG,iBAAmBF,EAAkBE,gBAAkBvC,EAAmBoC,EAAkBI,mBAAoBH,EAAkBG,oBAc5N,SAASC,EAA0BxV,EAAYziB,EAASk4B,GACtDzV,EAAWpe,QAAQ,CACjBrE,QAASA,IACRoF,MAAK,SAAU/O,GAChB,GAAIA,EAAI0yB,QAMN,OALA2O,EAAY7yB,KAAK,4BACjBqzB,EAAkB,CAChBC,aAAa,EACbC,YAAY,IAKhBV,EAAY7yB,KAAK,iDAAmD7E,EAAU,gBAAmB3J,EAAI2yB,QAAU,IAAM,KACrHkP,EAAkB,CAChBC,aAAa,EACbC,YAAY,IAEd/hC,EAAIgiC,iBAAiBjzB,MAAK,WACxBsyB,EAAY7yB,KAAK,qDACjBqzB,EAAkB,CAChBC,aAAa,EACbC,YAAY,UAGfE,OAAM,WACPZ,EAAYv3B,MAAM,8EAItB,SAASo4B,EAAuBp+B,GAC9B,IAAIq+B,EAAM9D,EAAM+D,SAMhB,OAJKjD,EAAmBr7B,EAAOq+B,EAAIE,WACjCF,EAAIE,QAAUv+B,GAGTq+B,EAAIE,SAjEb,SAAWzC,GACTA,EAAqB,WAAI,aACzBA,EAAkB,QAAI,UAFxB,CAGGA,IAAaA,EAAW,KAyE3B,IAAI0C,EAAgB,SAAuB7O,EAAer1B,EAASmkC,QACjD,IAAZnkC,IACFA,EAAU,SAGM,IAAdmkC,IACFA,EAAY,IAGd,IAAIt2B,EAAKoyB,EAAMmE,WAAW/D,GACtBrS,EAAangB,EAAGmgB,WAChBuS,EAAe1yB,EAAG0yB,aAClBh1B,EAAUsC,EAAGtC,QAEjB,IAAKyiB,EACH,MAAM,IAAItjB,MAAM,sEAGlB,IAAI25B,EAAgBP,EAAuBK,EAAUZ,oBACjDe,EAAqBrE,EAAMsE,aAAY,WACzC,MAAO,CACL3lB,UAAWoP,EAAWyN,SAASpG,EAAe8O,EAAUb,eAAgBe,MAEzE,CAACrW,EAAYqH,EAAe8O,EAAUb,eAAgBe,IACrDG,EAAgBjE,GAAgBvS,EAAWyW,UAE3C12B,EAAKkyB,EAAMyE,UAAS,WACtB,IAAIC,EAAgBH,EAAgBF,IAAuB,CACzD1lB,UAAW,MAEb,OAAOgiB,EAAQ,GAAI+D,EAAe,CAChCjB,YAAac,EACbb,YAAY,OAGZ9jC,EAAQkO,EAAG,GACX62B,EAAW72B,EAAG,GAMd82B,EAAwB,CAC1BxB,UAAWhO,EACXiO,eAAgBa,EAAUb,eAC1BC,mBAAoBc,GAGlBp2B,EAAKgyB,EAAMyE,SAASG,GACpBC,EAAqB72B,EAAG,GACxB82B,EAAwB92B,EAAG,GAE1Bi1B,EAAuB4B,EAAoBD,KAC9CE,EAAsBF,GACtBD,GAAS,SAAUI,GACjB,OAAOpE,EAAQ,GAAIoE,EAAWV,SAIlC,IAAIW,OAAwChkC,IAApBjB,EAAQuL,QAAwBvL,EAAQuL,QAAUA,EA0B1E,OAzBA00B,EAAMiF,WAAU,WACTV,GACHhB,EAA0BxV,EAAYiX,GAAmB,SAAUE,GACjEP,EAAShE,EAAQ,GAAI0D,IAAsBa,SAG9C,CAACX,EAAeS,EAAmBX,EAAoBtW,IAC1DiS,EAAMiF,WAAU,WACd,OAAIllC,EAAQ2J,WACHg5B,EAAyB3U,EAAYwT,EAAShX,WAAY6K,EAAe4N,GAAa,WAC3F2B,GAAS,SAAUI,GACjB,OAAOpE,EAAQ,GAAIoE,EAAWV,WAK7B,eACN,CAACE,EAAexkC,EAAQ2J,WAAYqkB,EAAYqH,EAAeiP,IAClErE,EAAMiF,WAAU,WACd,OAAOlX,EAAWoX,0BAAyB,WACzCR,GAAS,SAAUI,GACjB,OAAOpE,EAAQ,GAAIoE,EAAWV,aAGjC,CAACA,EAAoBtW,IACjB,CAACnuB,EAAM+e,UAAW/e,EAAM6jC,YAAa7jC,EAAM8jC,aAWhD0B,EAAa,SAAoBpI,EAAYj9B,EAASmkC,QACxC,IAAZnkC,IACFA,EAAU,SAGM,IAAdmkC,IACFA,EAAY,IAGd,IAAIt2B,EAAKoyB,EAAMmE,WAAW/D,GACtBrS,EAAangB,EAAGmgB,WAChBuS,EAAe1yB,EAAG0yB,aAClBh1B,EAAUsC,EAAGtC,QAEjB,IAAKyiB,EACH,MAAM,IAAItjB,MAAM,sEAGlB,IAAI25B,EAAgBP,EAAuBK,EAAUZ,oBACjDe,EAAqBrE,EAAMsE,aAAY,WACzC,MAAO,CACLe,UAAWtX,EAAW+O,iBAAiBE,EAAYkH,EAAUb,eAAgBe,GAC7E/W,UAAWU,EAAWuX,oBAAoBtI,EAAYkH,EAAUb,eAAgBe,MAEjF,CAACrW,EAAYiP,EAAYkH,EAAUb,eAAgBe,IAClDG,EAAgBjE,GAAgBvS,EAAWyW,UAE3C12B,EAAKkyB,EAAMyE,UAAS,WACtB,IAAIC,EAAgBH,EAAgBF,IAAuB,CACzDgB,WAAW,EACXhY,UAAW,IAEb,OAAOsT,EAAQ,GAAI+D,EAAe,CAChCjB,YAAac,EACbb,YAAY,OAGZ9jC,EAAQkO,EAAG,GACX62B,EAAW72B,EAAG,GAMd82B,EAAwB,CAC1BxB,UAAWpG,EACXqG,eAAgBa,EAAUb,eAC1BC,mBAAoBY,EAAUZ,oBAG5Bt1B,EAAKgyB,EAAMyE,SAASG,GACpBC,EAAqB72B,EAAG,GACxB82B,EAAwB92B,EAAG,GAE1Bi1B,EAAuB4B,EAAoBD,KAC9CE,EAAsBF,GACtBD,GAAS,SAAUI,GACjB,OAAOpE,EAAQ,GAAIoE,EAAWV,SAIlC,IAAIW,OAAwChkC,IAApBjB,EAAQuL,QAAwBvL,EAAQuL,QAAUA,EAmB1E,OAlBA00B,EAAMiF,WAAU,WACTV,GACHhB,EAA0BxV,EAAYiX,GAAmB,SAAUE,GACjEP,EAAShE,EAAQ,GAAI0D,IAAsBa,SAG9C,CAACX,EAAeS,EAAmBX,EAAoBtW,IAC1DiS,EAAMiF,WAAU,WACd,OAAIllC,EAAQ2J,WACHg5B,EAAyB3U,EAAYwT,EAAStX,QAAS+S,EAAYgG,GAAa,WACrF2B,GAAS,SAAUI,GACjB,OAAOpE,EAAQ,GAAIoE,EAAWV,WAK7B,eACN,CAACE,EAAexkC,EAAQ2J,WAAYqkB,EAAYiP,EAAYqH,IACxD,CAACzkC,EAAMylC,UAAWzlC,EAAMytB,UAAWztB,EAAM6jC,YAAa7jC,EAAM8jC,aA6IjE6B,EA9BmB,SAA0B9D,GAC/C,IAAI+D,EAAU/D,EAAM+D,QAChBl6B,EAAUm2B,EAAMn2B,QAChB5B,EAAa+3B,EAAM/3B,WACnB84B,EAAWf,EAAMe,SACjBa,EAAiB5B,EAAM4B,eACvBC,EAAqB7B,EAAM6B,mBAE3B11B,EAAKw3B,EAAWI,EAAS,CAC3Bl6B,QAASA,EACT5B,WAAYA,GACX,CACD25B,eAAgBA,EAChBC,mBAAoBA,IAElB+B,EAAYz3B,EAAG,GACfyf,EAAYzf,EAAG,GACf61B,EAAc71B,EAAG,GACjB81B,EAAa91B,EAAG,GAEpB,OAAK61B,GAAgBC,EAOd1D,EAAM/8B,cAAc+8B,EAAMyF,SAAU,KAAMjD,EAAS6C,EAAWhY,EAAWoW,EAAaC,IALpF,MA4DX,IAoDIgC,EApDa,SAAoBjE,GACnC,IAAI/iB,EAAa+iB,EAAM/iB,WACnBhV,EAAa+3B,EAAM/3B,WACnB4B,EAAUm2B,EAAMn2B,QAChB+3B,EAAiB5B,EAAM4B,eACvBC,EAAqB7B,EAAM6B,mBAC3Bd,EAAWf,EAAMe,SAEjB50B,EAAKq2B,EAAcvlB,EAAY,CACjCpT,QAASA,EACT5B,WAAYA,GACX,CACD25B,eAAgBA,EAChBC,mBAAoBA,IAElB3kB,EAAY/Q,EAAG,GACf61B,EAAc71B,EAAG,GACjB81B,EAAa91B,EAAG,GAEpB,IAAK61B,IAAgBC,EAEnB,OAAO,KAGT,GAAgB,MAAZlB,GAAwC,mBAAbA,EAG7B,OAAOxC,EAAM/8B,cAAc+8B,EAAMyF,SAAU,KAAMjD,EAAS7jB,EAAW8kB,EAAaC,IAGpF,IAAIngC,EAAQ,KAiBZ,OAbAy8B,EAAM2F,SAAS/jC,QAAQ4gC,GAAU,SAAUoD,IACrCriC,GAAUy8B,EAAM6F,eAAeD,KAI/BA,EAAMnE,MAAM9iB,UACVA,IAAcinB,EAAMnE,MAAM9iB,YAC5Bpb,EAAQqiC,GAEDA,EAAMnE,MAAM79B,UACrBL,EAAQqiC,OAGLriC,EAAQy8B,EAAM8F,aAAaviC,EAAO,CACvCob,UAAWA,IACR,MA2BHonB,EALY,SAAmBn4B,GACjC,IAAI40B,EAAW50B,EAAG40B,SAClB,OAAOxC,EAAM/8B,cAAc+8B,EAAMyF,SAAU,KAAMjD,IAoB/CwD,EAAWrG,EAAQ/1B,UAAU,YAK7Bq8B,EAEJ,WAKE,SAASA,EAAyBx4B,GAChC,IAAIrB,EAAQvO,KAEZA,KAAK8hB,KAAO,CACVpB,GAAI,KACJqB,WAAY,IAEd/hB,KAAKqoC,uBAAwB,EAC7BroC,KAAKsoC,qBAAuB,GAC5BtoC,KAAKuoC,iCAAmC,GACxCvoC,KAAKwoC,2BAA4B,EACjCxoC,KAAKyoC,cAAgB74B,EAErB5P,KAAK0oC,oBAAsB,aAE3B,IAAIC,EAAuB7F,EAAQ,GAAIlzB,EAAQ,CAC7C0sB,aA3BwB,YA4BxBzf,cA3ByB,UA8B3B7c,KAAK4oC,QAAU1Y,EAAW+R,eAAe0G,GACzC3oC,KAAK6oC,YAAc,IAAIhlC,SAAQ,SAAU4B,GACvC8I,EAAMm6B,oBAAsBjjC,KAC3BoN,MAAK,WACN,MAAO,CACL2jB,SAAS,MAGbx2B,KAAK8lC,iBAAmBjiC,QAAQ25B,IAAI,CAACx9B,KAAK6oC,YAAa7oC,KAAK4oC,QAAQ92B,YAAYe,MAAK,WAEnF,OADAtE,EAAMi6B,2BAA4B,EAC3B,CACLhS,SAAS,EACTC,OAAQ,iCAmkBd,OA9jBA2R,EAAyBxoC,UAAUkS,QAAU,SAAUlC,GACrD,IAMI+L,EANApN,EAAQvO,UAEG,IAAX4P,IACFA,EAAS,IAIX,IAAInC,EAtDuB,IAwDvBmC,QAA6BzM,IAAnByM,EAAOnC,UACnBA,EAAUmC,EAAOnC,SAGnB,IAAIq7B,EAAiB,IAAIjlC,SAAQ,SAAU4B,GACzCkW,EAAY1I,YAAW,WACrBxN,EAAQ,CACN+wB,SAAS,EACTC,OAAQ,+GACRqP,iBAAkBv3B,EAAMu3B,qBAEzBr4B,MAEL,OAAO5J,QAAQ08B,KAAK,CAACvgC,KAAK8lC,iBAAkBgD,IAAiBj2B,MAAK,SAAU/O,GAE1E,OADA+N,aAAa8J,GACN7X,MAIXskC,EAAyBxoC,UAAUkkC,QAAU,SAAUiF,GACrD,IAAIx6B,EAAQvO,KAGR+oC,EAASroB,KACX1gB,KAAK8hB,KAAKpB,GAAKqoB,EAASroB,IAGtBqoB,EAAShnB,aACX/hB,KAAK8hB,KAAKC,WAAagnB,EAAShnB,YAG7B/hB,KAAKqoC,wBACRroC,KAAK0oC,oBAAoB1oC,KAAK8hB,MAC9B9hB,KAAKqoC,uBAAwB,GAG/BroC,KAAKsoC,qBAAqBvkC,SAAQ,SAAU0P,GAC1C,OAAOA,EAAQlF,EAAMuT,UAIzBsmB,EAAyBxoC,UAAUslC,aAAe,SAAUzxB,GAC1D,IAAIlF,EAAQvO,KAGZ,OADAA,KAAKsoC,qBAAqB7lC,KAAKgR,GACxB,WACL,IAAIu1B,EAAMz6B,EAAM+5B,qBAAqB5nC,QAAQ+S,GAEzCu1B,GAAO,GACTz6B,EAAM+5B,qBAAqBvxB,OAAOiyB,EAAK,KAY7CZ,EAAyBxoC,UAAU0nC,yBAA2B,SAAU7zB,GACtE,IAAIlF,EAAQvO,KAGZ,OADAA,KAAKuoC,iCAAiC9lC,KAAKgR,GACpC,WACL,IAAIu1B,EAAMz6B,EAAMg6B,iCAAiC7nC,QAAQ+S,GAErDu1B,GAAO,GACTz6B,EAAMg6B,iCAAiCxxB,OAAOiyB,EAAK,KAKzDZ,EAAyBxoC,UAAU+mC,QAAU,WAC3C,OAAO3mC,KAAKwoC,2BAYdJ,EAAyBxoC,UAAU+9B,SAAW,SAAUpG,EAAeiO,EAAgBC,GACrF,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,IACPynB,EAAS71B,KAAK,2DAA4DilB,GACnE,MAGFv3B,KAAK4oC,QAAQjL,SAASpG,EAAezV,EAAKpB,GAAIoB,EAAKC,aAG5DqmB,EAAyBxoC,UAAU6wB,OAAS,SAAU9wB,EAAKuC,EAASsjC,EAAgBC,QAClE,IAAZvjC,IACFA,EAAU,IAGZ,IAAI4f,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,GAAgB,OAAZ3jB,EAAKpB,GAEP,OADAynB,EAAS71B,KAAK,wDAAyD3S,GAChE8jC,EAAqB9jC,EAAK,uBAAyBA,EAAM,6BAA8BmiB,GAGhG,IAAIonB,EAAmBlpC,KAAK4oC,QAAQ9J,kBAAkBhd,EAAKpB,GAAIoB,EAAKC,YAEpE,OAAImnB,EACKpG,EAAQ,GAAIoG,EAAiBzY,OAAO9wB,EAAKuC,GAAU,CACxDutB,YAAa,CACX/O,GAAIoB,EAAKpB,GACTqB,WAAYD,EAAKC,cAKhB0hB,EAAqB9jC,EAAK,uBAAyBA,EAAM,+CAAgDmiB,IAGlHsmB,EAAyBxoC,UAAU+wB,cAAgB,SAAUlwB,EAAMyB,EAASsjC,EAAgBC,QAC1E,IAAZvjC,IACFA,EAAU,IAGZ,IAAI4f,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,GAAgB,OAAZ3jB,EAAKpB,GAEP,OADAynB,EAAS71B,KAAK,qDACP,GAGT,IAAI42B,EAAmBlpC,KAAK4oC,QAAQ9J,kBAAkBhd,EAAKpB,GAAIoB,EAAKC,YAEpE,OAAImnB,EACK9pC,OAAOqF,QAAQykC,EAAiBvY,cAAclwB,EAAMyB,IAAUgG,QAAO,SAAUkZ,EAAWrR,GAC/F,IAAIpQ,EAAMoQ,EAAG,GACTo5B,EAAWp5B,EAAG,GAOlB,OANAqR,EAAUzhB,GAAOmjC,EAAQ,GAAIqG,EAAU,CACrC1Z,YAAa,CACX/O,GAAIoB,EAAKpB,IAAM,GACfqB,WAAYD,EAAKC,cAGdX,IACN,IAGE,IAGTgnB,EAAyBxoC,UAAUgxB,UAAY,SAAU1uB,EAASsjC,EAAgBC,QAChE,IAAZvjC,IACFA,EAAU,IAGZ,IAAI4f,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,GAAgB,OAAZ3jB,EAAKpB,GAEP,OADAynB,EAAS71B,KAAK,qDACP,GAGT,IAAI42B,EAAmBlpC,KAAK4oC,QAAQ9J,kBAAkBhd,EAAKpB,GAAIoB,EAAKC,YAEpE,OAAImnB,EACK9pC,OAAOqF,QAAQykC,EAAiBtY,UAAU1uB,IAAUgG,QAAO,SAAUkZ,EAAWrR,GACrF,IAAIpQ,EAAMoQ,EAAG,GACTo5B,EAAWp5B,EAAG,GAOlB,OANAqR,EAAUzhB,GAAOmjC,EAAQ,GAAIqG,EAAU,CACrC1Z,YAAa,CACX/O,GAAIoB,EAAKpB,IAAM,GACfqB,WAAYD,EAAKC,cAGdX,IACN,IAGE,IAYTgnB,EAAyBxoC,UAAUu6B,aAAe,SAAU5C,EAAeiO,EAAgBC,GACzF,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,IACPynB,EAAS71B,KAAK,2EAA4EilB,GACnF,MAGFv3B,KAAK4oC,QAAQzO,aAAa5C,EAAezV,EAAKpB,GAAIoB,EAAKC,aAYhEqmB,EAAyBxoC,UAAUkxB,MAAQ,SAAU0N,EAAUgH,EAAgBC,EAAoBhH,QACnE,IAAnB+G,GAA4D,iBAAnBA,IAClD/G,EAAY+G,EACZA,OAAiBriC,EACjBsiC,OAAqBtiC,GAGvB,IAAI2e,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,GAAgB,OAAZ3jB,EAAKpB,GAKT,OAAO1gB,KAAK4oC,QAAQ9X,MAAM0N,EAAU1c,EAAKpB,GAAIoB,EAAKC,WAAY0c,GAJ5D0J,EAAS71B,KAAK,gEAAiEksB,IAgBnF4J,EAAyBxoC,UAAUq/B,iBAAmB,SAAU0I,EAASnC,EAAgBC,GACvF,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,IACPynB,EAAS71B,KAAK,8EAA+Eq1B,IACtF,GAGF3nC,KAAK4oC,QAAQ3J,iBAAiB0I,EAAS7lB,EAAKpB,GAAIoB,EAAKC,aAkB9DqmB,EAAyBxoC,UAAU6nC,oBAAsB,SAAUtI,EAAYqG,EAAgBC,GAC7F,IAAIl3B,EAAQvO,KAER8hB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GACxDtV,EAASrO,EAAKpB,GAElB,GAAe,OAAXyP,EAEF,OADAgY,EAAS71B,KAAK,gFAAiF6sB,GACxF,GAGT,IAAIlB,EAAiBnc,EAAKC,WACtBqnB,EAAc,GAEdC,EAAcrpC,KAAK4oC,QAAQ7R,sBAE/B,IAAKsS,EACH,MAAO,GAGT,IAAI1B,EAAU0B,EAAYxX,YAAYsN,GAEtC,OAAKwI,GAILvoC,OAAOqB,KAAKknC,EAAQjV,cAAc3uB,SAAQ,SAAUpE,GAClD,IAAI2pC,EAAW3B,EAAQjV,aAAa/yB,GACpCypC,EAAYE,EAAS3pC,KAAO4O,EAAMq6B,QAAQtJ,mBAAmBH,EAAYmK,EAAS3pC,IAAKwwB,EAAQ8N,MAE1FmL,GAPE,IAqBXhB,EAAyBxoC,UAAUogC,yBAA2B,SAAU2H,EAAS2B,EAAU9D,EAAgBC,GACzG,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQ5I,yBAAyB2H,EAAS2B,EAAUxnB,EAAKpB,GAAIoB,EAAKC,aAchFqmB,EAAyBxoC,UAAUigC,0BAA4B,SAAU8H,EAAS2B,EAAU9D,EAAgBC,GAC1G,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQ/I,0BAA0B8H,EAAS2B,EAAUxnB,EAAKpB,GAAIoB,EAAKC,aAcjFqmB,EAAyBxoC,UAAUmgC,0BAA4B,SAAU4H,EAAS2B,EAAU9D,EAAgBC,GAC1G,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQ7I,0BAA0B4H,EAAS2B,EAAUxnB,EAAKpB,GAAIoB,EAAKC,aAcjFqmB,EAAyBxoC,UAAUkgC,yBAA2B,SAAU6H,EAAS2B,EAAU9D,EAAgBC,GACzG,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQ9I,yBAAyB6H,EAAS2B,EAAUxnB,EAAKpB,GAAIoB,EAAKC,aAchFqmB,EAAyBxoC,UAAUqgC,uBAAyB,SAAU0H,EAAS2B,EAAU9D,EAAgBC,GACvG,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQ3I,uBAAuB0H,EAAS2B,EAAUxnB,EAAKpB,GAAIoB,EAAKC,aAc9EqmB,EAAyBxoC,UAAU0/B,mBAAqB,SAAUH,EAAYO,EAAa8F,EAAgBC,GACzG,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQtJ,mBAAmBH,EAAYO,EAAa5d,EAAKpB,GAAIoB,EAAKC,aAYhFqmB,EAAyBxoC,UAAUsgC,uBAAyB,SAAUf,EAAYqG,EAAgBC,GAChG,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,GAGF1gB,KAAK4oC,QAAQ1I,uBAAuBf,EAAYrd,EAAKpB,GAAIoB,EAAKC,aAWvEqmB,EAAyBxoC,UAAUy/B,mBAAqB,SAAUmG,EAAgBC,GAChF,IAAI3jB,EAAO9hB,KAAKipC,4BAA4BzD,EAAgBC,GAE5D,OAAgB,OAAZ3jB,EAAKpB,GACA,GAGF1gB,KAAK4oC,QAAQvJ,mBAAmBvd,EAAKpB,GAAIoB,EAAKC,aAWvDqmB,EAAyBxoC,UAAU06B,mBAAqB,SAAUzZ,EAAY2kB,GAC5E,IAAI1jB,EAAO9hB,KAAKipC,4BAA4BzD,GAE5C,OAAgB,OAAZ1jB,EAAKpB,GACA,KAGF1gB,KAAK4oC,QAAQtO,mBAAmBzZ,EAAYiB,EAAKpB,KAY1D0nB,EAAyBxoC,UAAUk8B,mBAAqB,SAAUjb,EAAY0oB,EAA8Bha,GAC1G,IAAIia,EAAc,KACdC,EAAoB,KAExB,GAAyB,IAArBjqC,UAAUC,OACZgqC,EAAoBF,EACpBC,EAAcxpC,KAAKipC,8BAA8BvoB,QAC5C,GAAyB,IAArBlhB,UAAUC,OAAc,CAGjC,GAFA+pC,EAAcxpC,KAAKipC,4BAA4BM,GAA8B7oB,QAExDvd,IAAjBosB,EAEF,OAAO,EAGTka,EAAoBla,EAGtB,GAAoB,OAAhBia,EACF,OAAO,EAGT,IAAIttB,EAASlc,KAAK4oC,QAAQ9M,mBAAmBjb,EAAY2oB,EAAaC,GAKtE,OAHAzpC,KAAKuoC,iCAAiCxkC,SAAQ,SAAU0P,GACtD,OAAOA,OAEFyI,GAQTksB,EAAyBxoC,UAAUm3B,oBAAsB,WACvD,OAAO/2B,KAAK4oC,QAAQ7R,uBAOtBqR,EAAyBxoC,UAAUwgC,MAAQ,WACzC,OAAOpgC,KAAK4oC,QAAQxI,SAGtBhhC,OAAOiL,eAAe+9B,EAAyBxoC,UAAW,SAAU,CAIlE2P,IAAK,WACH,OAAOvP,KAAK4oC,SAEdzrB,YAAY,EACZusB,cAAc,IAEhBtqC,OAAOiL,eAAe+9B,EAAyBxoC,UAAW,qBAAsB,CAC9E2P,IAAK,WACH,OAAOvP,KAAK4oC,QAAQvtB,oBAEtB8B,YAAY,EACZusB,cAAc,IAGhBtB,EAAyBxoC,UAAUqpC,4BAA8B,SAAUzD,EAAgBC,GAGzF,MAAO,CACL/kB,QAHmCvd,IAAnBqiC,EAA+BxlC,KAAK8hB,KAAKpB,GAAK8kB,EAI9DzjB,gBAH+C5e,IAAvBsiC,EAAmCzlC,KAAK8hB,KAAKC,WAAa0jB,IAO/E2C,EAxmBT,GA+nBA,IAAIuB,EAAW7H,EAAQ/1B,UAAU,YAO7B69B,EAAyB,CAC3BjsB,cAAe,SAAuBrC,EAAOI,GAC3CiuB,EAASl4B,MAAM,yDAAyD,WACtE,IAAIo4B,EAEJ,IACEA,EAAWl3B,KAAKC,UAAU0I,GAC1B,MAAOtJ,GACP63B,EAAW,2BAGb,OAAOA,KAETnuB,EAAS,CACPpO,WAAY,QA8ClBvO,EAAQ,GAAoBwjC,EAK5BxjC,EAAQ,GAAqB4kC,EAE7B5kC,EAAQ,GA9FR,SAAwB6Q,GACtB,OAAO,IAAIw4B,EAAyBx4B,IAgGtC7Q,EAAQ,GAAgBqnC,iCCnlDxBtnC,EAAOC,QAAUK,OAAOC,0CCAxB,IAAIyqC,EAAU,EAAQ,MAOlBC,EAAgB,CAClBC,mBAAmB,EACnBC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,iBAAiB,EACjBC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,QAAQ,EACRC,WAAW,EACXlyB,MAAM,GAEJmyB,EAAgB,CAClBlmC,MAAM,EACN/E,QAAQ,EACRG,WAAW,EACX+qC,QAAQ,EACRC,QAAQ,EACRprC,WAAW,EACXqrC,OAAO,GASLC,EAAe,CACjB,UAAY,EACZC,SAAS,EACTZ,cAAc,EACdC,aAAa,EACbK,WAAW,EACXlyB,MAAM,GAEJyyB,EAAe,GAInB,SAASC,EAAWC,GAElB,OAAIpB,EAAQqB,OAAOD,GACVJ,EAIFE,EAAaE,EAAoB,WAAMnB,EAVhDiB,EAAalB,EAAQsB,YAhBK,CACxB,UAAY,EACZ1G,QAAQ,EACRyF,cAAc,EACdC,aAAa,EACbK,WAAW,GAYbO,EAAalB,EAAQuB,MAAQP,EAY7B,IAAIzgC,EAAiBjL,OAAOiL,eACxBihC,EAAsBlsC,OAAOksC,oBAC7BC,EAAwBnsC,OAAOmsC,sBAC/BC,EAA2BpsC,OAAOosC,yBAClCC,EAAiBrsC,OAAOqsC,eACxBC,EAAkBtsC,OAAOQ,UAuC7Bd,EAAOC,QArCP,SAASqjC,EAAqBuJ,EAAiBC,EAAiBC,GAC9D,GAA+B,iBAApBD,EAA8B,CAEvC,GAAIF,EAAiB,CACnB,IAAII,EAAqBL,EAAeG,GAEpCE,GAAsBA,IAAuBJ,GAC/CtJ,EAAqBuJ,EAAiBG,EAAoBD,GAI9D,IAAIprC,EAAO6qC,EAAoBM,GAE3BL,IACF9qC,EAAOA,EAAK4I,OAAOkiC,EAAsBK,KAM3C,IAHA,IAAIG,EAAgBd,EAAWU,GAC3BK,EAAgBf,EAAWW,GAEtBrsC,EAAI,EAAGA,EAAIkB,EAAKhB,SAAUF,EAAG,CACpC,IAAII,EAAMc,EAAKlB,GAEf,KAAKmrC,EAAc/qC,IAAUksC,GAAaA,EAAUlsC,IAAWqsC,GAAiBA,EAAcrsC,IAAWosC,GAAiBA,EAAcpsC,IAAO,CAC7I,IAAIssC,EAAaT,EAAyBI,EAAiBjsC,GAE3D,IAEE0K,EAAeshC,EAAiBhsC,EAAKssC,GACrC,MAAOtoC,OAKf,OAAOgoC,sBCrGT,WAgEE,SAASO,EAAavsC,EAAKwsC,GACzB,IAAIC,EAAWC,EAAOC,EAAIC,EAAKC,EAASC,EAASC,EAAIntC,EASrD,IARA6sC,EAAyB,EAAbzsC,EAAIF,OAEhB4sC,EAAQ1sC,EAAIF,OAAS2sC,EACrBE,EAAKH,EACLK,EAAK,WACLC,EAAK,UACLltC,EAAI,EAEGA,EAAI8sC,GACTK,EAAyB,IAApB/sC,EAAIgtC,WAAWptC,IAAmC,IAAtBI,EAAIgtC,aAAaptC,KAAc,GAA2B,IAAtBI,EAAIgtC,aAAaptC,KAAc,IAA4B,IAAtBI,EAAIgtC,aAAaptC,KAAc,KACvIA,EAOF+sC,EAAsB,OAAV,OADZC,EAAsB,GAAV,OADZD,GADAA,GADAI,GAAW,OADXA,GADAA,GAAW,MAALA,GAAeF,KAAQE,IAAO,IAAMF,EAAK,QAAW,IAAM,aACrD,GAAKE,IAAO,KACFD,KAAQC,IAAO,IAAMD,EAAK,QAAW,IAAM,aAErD,GAAKH,IAAO,OACmB,GAAbA,IAAO,IAAU,QAAW,IAAM,eACf,OAAdC,IAAQ,IAAe,QAAW,IAKtE,OAFAG,EAAK,EAEGN,GACN,KAAK,EACHM,IAA+B,IAAxB/sC,EAAIgtC,WAAWptC,EAAI,KAAc,GAE1C,KAAK,EACHmtC,IAA+B,IAAxB/sC,EAAIgtC,WAAWptC,EAAI,KAAc,EAE1C,KAAK,EAKH+sC,GADAI,GAAW,OADXA,GADAA,GAAW,OADXA,GAA0B,IAApB/sC,EAAIgtC,WAAWptC,KACAitC,KAAQE,IAAO,IAAMF,EAAK,QAAW,IAAM,aACrD,GAAKE,IAAO,KACFD,KAAQC,IAAO,IAAMD,EAAK,QAAW,IAAM,WAUpE,OANAH,GAAM3sC,EAAIF,OAEV6sC,EAAqB,YAAV,OADXA,GAAMA,IAAO,OACqC,YAAbA,IAAO,IAAmB,QAAW,IAAM,WAEhFA,EAAqB,YAAV,OADXA,GAAMA,IAAO,OACqC,YAAbA,IAAO,IAAmB,QAAW,IAAM,YAChFA,GAAMA,IAAO,MACC,EAGhB,IAAIM,EAASV,EACbU,EAAOC,GAjGP,SAAsBC,EAAKX,GAMzB,IALA,IAGIl4B,EAHAxN,EAAIqmC,EAAIrtC,OACRm2B,EAAIuW,EAAO1lC,EACXlH,EAAI,EAGDkH,GAAK,GAEVwN,EAAmB,YAAV,OADTA,EAAwB,IAApB64B,EAAIH,WAAWptC,IAAmC,IAAtButC,EAAIH,aAAaptC,KAAc,GAA2B,IAAtButC,EAAIH,aAAaptC,KAAc,IAA4B,IAAtButC,EAAIH,aAAaptC,KAAc,OACzF,YAAZ0U,IAAM,IAAmB,QAAW,IAGvE2hB,EAAmB,YAAV,MAAJA,KAA0C,YAAZA,IAAM,IAAmB,QAAW,KADvE3hB,EAAmB,YAAV,OADTA,GAAKA,IAAM,OACoC,YAAZA,IAAM,IAAmB,QAAW,KAEvExN,GAAK,IACHlH,EAGJ,OAAQkH,GACN,KAAK,EACHmvB,IAA8B,IAAxBkX,EAAIH,WAAWptC,EAAI,KAAc,GAEzC,KAAK,EACHq2B,IAA8B,IAAxBkX,EAAIH,WAAWptC,EAAI,KAAc,EAEzC,KAAK,EAEHq2B,EAAmB,YAAV,OADTA,GAAyB,IAApBkX,EAAIH,WAAWptC,OAC2B,YAAZq2B,IAAM,IAAmB,QAAW,IAM3E,OAFAA,EAAmB,YAAV,OADTA,GAAKA,IAAM,OACoC,YAAZA,IAAM,IAAmB,QAAW,KACvEA,GAAKA,IAAM,MACE,GAmEfgX,EAAOhV,GAAKsU,EAGVptC,EAAOC,QAAU6tC,EArHrB,mCCUA,IAAIrkC,EAAI,mBAAsBgb,QAAUA,OAAOwpB,IAC3C7gB,EAAI3jB,EAAIgb,OAAOwpB,IAAI,iBAAmB,MACtC7hC,EAAI3C,EAAIgb,OAAOwpB,IAAI,gBAAkB,MACrCppC,EAAI4E,EAAIgb,OAAOwpB,IAAI,kBAAoB,MACvChqB,EAAIxa,EAAIgb,OAAOwpB,IAAI,qBAAuB,MAC1C9pB,EAAI1a,EAAIgb,OAAOwpB,IAAI,kBAAoB,MACvCnX,EAAIrtB,EAAIgb,OAAOwpB,IAAI,kBAAoB,MACvC94B,EAAI1L,EAAIgb,OAAOwpB,IAAI,iBAAmB,MACtCtmC,EAAI8B,EAAIgb,OAAOwpB,IAAI,oBAAsB,MACzCl5B,EAAItL,EAAIgb,OAAOwpB,IAAI,yBAA2B,MAC9C/9B,EAAIzG,EAAIgb,OAAOwpB,IAAI,qBAAuB,MAC1ClsC,EAAI0H,EAAIgb,OAAOwpB,IAAI,kBAAoB,MACvClkC,EAAIN,EAAIgb,OAAOwpB,IAAI,uBAAyB,MAC5C/4B,EAAIzL,EAAIgb,OAAOwpB,IAAI,cAAgB,MACnCj+B,EAAIvG,EAAIgb,OAAOwpB,IAAI,cAAgB,MACnCtpB,EAAIlb,EAAIgb,OAAOwpB,IAAI,eAAiB,MACpC9X,EAAI1sB,EAAIgb,OAAOwpB,IAAI,qBAAuB,MAC1ChZ,EAAIxrB,EAAIgb,OAAOwpB,IAAI,mBAAqB,MACxC/pB,EAAIza,EAAIgb,OAAOwpB,IAAI,eAAiB,MAExC,SAAS1X,EAAE/sB,GACT,GAAI,iBAAoBA,GAAK,OAASA,EAAG,CACvC,IAAIgc,EAAIhc,EAAE0kC,SAEV,OAAQ1oB,GACN,KAAK4H,EACH,OAAQ5jB,EAAIA,EAAEiQ,MACZ,KAAK9R,EACL,KAAKoN,EACL,KAAKlQ,EACL,KAAKsf,EACL,KAAKF,EACL,KAAKliB,EACH,OAAOyH,EAET,QACE,OAAQA,EAAIA,GAAKA,EAAE0kC,UACjB,KAAK/4B,EACL,KAAKjF,EACL,KAAKF,EACL,KAAKkF,EACL,KAAK4hB,EACH,OAAOttB,EAET,QACE,OAAOgc,GAKjB,KAAKpZ,EACH,OAAOoZ,IAKf,SAASwK,EAAExmB,GACT,OAAO+sB,EAAE/sB,KAAOuL,EAGlB9U,EAAQkuC,UAAYxmC,EACpB1H,EAAQmuC,eAAiBr5B,EACzB9U,EAAQouC,gBAAkBl5B,EAC1BlV,EAAQquC,gBAAkBxX,EAC1B72B,EAAQsuC,QAAUnhB,EAClBntB,EAAQqsC,WAAap8B,EACrBjQ,EAAQ6oC,SAAWjkC,EACnB5E,EAAQuuC,KAAOx+B,EACf/P,EAAQssC,KAAOr3B,EACfjV,EAAQwuC,OAASriC,EACjBnM,EAAQyuC,SAAWvqB,EACnBlkB,EAAQ0uC,WAAa1qB,EACrBhkB,EAAQ2uC,SAAW7sC,EAEnB9B,EAAQ4uC,YAAc,SAAUrlC,GAC9B,OAAOwmB,EAAExmB,IAAM+sB,EAAE/sB,KAAO7B,GAG1B1H,EAAQ6uC,iBAAmB9e,EAE3B/vB,EAAQ8uC,kBAAoB,SAAUvlC,GACpC,OAAO+sB,EAAE/sB,KAAO2L,GAGlBlV,EAAQ+uC,kBAAoB,SAAUxlC,GACpC,OAAO+sB,EAAE/sB,KAAOstB,GAGlB72B,EAAQgvC,UAAY,SAAUzlC,GAC5B,MAAO,iBAAoBA,GAAK,OAASA,GAAKA,EAAE0kC,WAAa9gB,GAG/DntB,EAAQivC,aAAe,SAAU1lC,GAC/B,OAAO+sB,EAAE/sB,KAAO0G,GAGlBjQ,EAAQkvC,WAAa,SAAU3lC,GAC7B,OAAO+sB,EAAE/sB,KAAO3E,GAGlB5E,EAAQmvC,OAAS,SAAU5lC,GACzB,OAAO+sB,EAAE/sB,KAAOwG,GAGlB/P,EAAQosC,OAAS,SAAU7iC,GACzB,OAAO+sB,EAAE/sB,KAAO0L,GAGlBjV,EAAQovC,SAAW,SAAU7lC,GAC3B,OAAO+sB,EAAE/sB,KAAO4C,GAGlBnM,EAAQqvC,WAAa,SAAU9lC,GAC7B,OAAO+sB,EAAE/sB,KAAO2a,GAGlBlkB,EAAQsvC,aAAe,SAAU/lC,GAC/B,OAAO+sB,EAAE/sB,KAAOya,GAGlBhkB,EAAQuvC,WAAa,SAAUhmC,GAC7B,OAAO+sB,EAAE/sB,KAAOzH,GAGlB9B,EAAQwvC,mBAAqB,SAAUjmC,GACrC,MAAO,iBAAoBA,GAAK,mBAAsBA,GAAKA,IAAM3E,GAAK2E,IAAMuL,GAAKvL,IAAM2a,GAAK3a,IAAMya,GAAKza,IAAMzH,GAAKyH,IAAMO,GAAK,iBAAoBP,GAAK,OAASA,IAAMA,EAAE0kC,WAAal+B,GAAKxG,EAAE0kC,WAAah5B,GAAK1L,EAAE0kC,WAAapX,GAAKttB,EAAE0kC,WAAa/4B,GAAK3L,EAAE0kC,WAAah+B,GAAK1G,EAAE0kC,WAAa/X,GAAK3sB,EAAE0kC,WAAajZ,GAAKzrB,EAAE0kC,WAAahqB,GAAK1a,EAAE0kC,WAAavpB,IAGtV1kB,EAAQyvC,OAASnZ,qCCvIfv2B,EAAOC,QAAU,EAAjB,4CCDE0vC,EAAyB,EAAQ,MAKlB1vC,EAAQ,QAAU,EAErC,IAAI2vC,EAAiCD,EAAuB,EAAQ,OAEhEE,EAA0BF,EAAuB,EAAQ,OAEzDG,EAAkBH,EAAuB,EAAQ,OAEjDI,EAAYJ,EAAuB,EAAQ,OAE3CK,EAAaL,EAAuB,EAAQ,OAE5CM,EAASN,EAAuB,EAAQ,OAExCO,EAAe,EAAQ,MAEvBC,EAAS,EAAQ,MAEjBC,EAAa,EAAQ,MAEzBnwC,EAAQ,GAAYmwC,EAAWC,UAC/B,IAAIC,EAAY,CAAC,KAAM,WAAY,UAAW,eAAgB,kBAAmB,cAAe,WAAY,kBAAmB,QAAS,UAAW,aAE/IC,EAAiB,SAAwBvoC,GAC3C,OAAOA,MAAAA,OAAmC,EAASA,EAAKlB,WAAW,MAGrE,SAAS0pC,EAAWxoC,EAAM4O,GACxB,IAAIxS,EAAMqsC,EAMV,QAJe,IAAX75B,IACFA,EAAS85B,MAGNC,EAAY3oC,GACf,OAAOA,EAGT,GAAIA,EAAKlB,WAAW,OAASkB,EAAKlB,WAAW,OAC3C,OAAOkB,EAGT,IAAIgC,EAAwG,QAAhG5F,EAA8B,QAAtBqsC,EAAU75B,SAAgC,IAAZ65B,EAAqBA,EAAUG,WAA4C,IAATxsC,EAAkBA,EAAO,IAC7I,MAAO,IAAM4F,MAAAA,GAAoCA,EAAK6mC,SAAS,KAAO7mC,EAAK1B,MAAM,GAAI,GAAK0B,IAAShC,EAAKlB,WAAW,KAAOkB,EAAO,IAAMA,GAKzI,IAAI4oC,EAAsB,WACxB,MAAsH,8BAGpHF,EAAsB,WACxB,MAAkH,8BAGhHC,EAAc,SAAqB3oC,GACrC,OAAOA,IAASA,EAAKlB,WAAW,aAAekB,EAAKlB,WAAW,cAAgBkB,EAAKlB,WAAW,OAgBjG,IAAIgqC,EAAkB,SAAyB9oC,EAAM+oC,GACnD,MAAoB,iBAAT/oC,EACFA,EAGJ2oC,EAAY3oC,GAIVuoC,EAAevoC,GAAQwoC,EAAWxoC,GAlB3C,SAAoBA,EAAMq/B,GAExB,OAAIkJ,EAAevoC,GACVA,GAGF,EAAImoC,EAAOxpC,SAASqB,EAAMq/B,GAYgB2J,CAAWhpC,EAAM+oC,GAHzD/oC,GAMPipC,EAAmB,CACrBC,gBAAiBlB,EAAW/oC,QAAQC,OACpCiqC,YAAanB,EAAW/oC,QAAQmqC,OAChCC,gBAAiBrB,EAAW/oC,QAAQqqC,MAqBtC,SAASC,EAA0BzM,GACjC,OAAoBmL,EAAOhpC,QAAQX,cAAc4pC,EAAasB,SAAU,MAAM,SAAUC,GACtF,IAAItvC,EAAWsvC,EAAMtvC,SACrB,OAAoB8tC,EAAOhpC,QAAQX,cAAcorC,GAAY,EAAI3B,EAAU9oC,SAAS,GAAI69B,EAAO,CAC7F6M,UAAWxvC,QAKjB,IAAIuvC,EAA0B,SAAUE,GAGtC,SAASF,EAAW5M,GAClB,IAAIr1B,GAEJA,EAAQmiC,EAAiB5wC,KAAKE,KAAM4jC,IAAU5jC,MAExC2wC,gBAAkB,SAAUC,GAChC,IAAIC,EAAqBD,EAAMC,mBAC3BC,EAAYF,EAAME,UAEtB,OAAIviC,EAAMq1B,MAAMuM,gBAAkBU,EAAqBC,GAC9C,CACLC,UAAW,CAACxiC,EAAMq1B,MAAMmN,UAAWxiC,EAAMq1B,MAAMoM,iBAAiBltC,OAAOkuC,SAASzpC,KAAK,KACrF0pC,OAAO,EAAIpC,EAAU9oC,SAAS,GAAIwI,EAAMq1B,MAAMqN,MAAO1iC,EAAMq1B,MAAMqM,cAI9D,MAGT,IAAIiB,GAAc,EAWlB,MATsB,oBAAXhsC,QAA0BA,OAAOisC,uBAC1CD,GAAc,GAGhB3iC,EAAMxM,MAAQ,CACZmvC,YAAaA,GAEf3iC,EAAM6iC,cAAgB,KACtB7iC,EAAM8iC,UAAY9iC,EAAM8iC,UAAUn4B,MAAK,EAAIy1B,EAAwB5oC,SAASwI,IACrEA,GAhCT,EAAIqgC,EAAgB7oC,SAASyqC,EAAYE,GAmCzC,IAAIY,EAASd,EAAW5wC,UAyIxB,OAvIA0xC,EAAOC,UAAY,WACjB,IAAIC,EAActsC,OAAOjE,SAASS,SAAWwD,OAAOjE,SAASC,OAEzDlB,KAAK4jC,MAAM6M,WAAazwC,KAAK4jC,MAAM6M,UAAU/uC,WAC/C8vC,EAAcxxC,KAAK4jC,MAAM6M,UAAU/uC,SAAW1B,KAAK4jC,MAAM6M,UAAUvvC,QAGrE,IAAIuwC,EAAgB7B,EAAgB5vC,KAAK4jC,MAAM3gC,GAAIuuC,GAC/CE,GAAS,EAAIxC,EAAWC,WAAWsC,GACnCE,EAAcD,EAAOhwC,SAAWgwC,EAAOxwC,OAG3C,GAAIswC,IAAgBG,EAClB,OAAOC,UAAU/1B,QAAQ81B,IAM7BL,EAAOO,qBAAuB,WAC5B,GAAK7xC,KAAK8xC,GAAV,CAIA,IAAIC,EAAW/xC,KAAK8xC,GAChBE,EAAWD,EAASC,SACpBC,EAAKF,EAASE,GAEdjyC,KAAKoxC,eACPpxC,KAAKoxC,cAActjC,QAGrBkkC,EAASE,UAAUD,GACnBD,EAASG,eAGXb,EAAOD,UAAY,SAAmBpL,GACpC,IAtGiEgM,EAAIG,EACnEN,EAqGEO,EAASryC,KAETA,KAAK4jC,MAAM0O,UAAYlzC,OAAOQ,UAAUC,eAAeC,KAAKE,KAAK4jC,MAAM0O,SAAU,WACnFtyC,KAAK4jC,MAAM0O,SAASnM,QAAUF,EACrBjmC,KAAK4jC,MAAM0O,UACpBtyC,KAAK4jC,MAAM0O,SAASrM,GAGlBjmC,KAAK+B,MAAMmvC,aAAejL,IAE5BjmC,KAAK8xC,IAhH0DG,EAgH1BhM,EAhH8BmM,EAgHzB,SAAUG,GAC9CA,EACFF,EAAOjB,cAAgBiB,EAAOd,YAE1Bc,EAAOjB,eACTiB,EAAOjB,cAActjC,UApH3BgkC,EAAK,IAAI5sC,OAAOisC,sBAAqB,SAAU1sC,GACjDA,EAAQV,SAAQ,SAAUka,GACpBg0B,IAAOh0B,EAAM3e,QAGf8yC,EAAGn0B,EAAMu0B,gBAAkBv0B,EAAMw0B,kBAAoB,UAKxDC,QAAQT,GACJ,CACLD,SAAUF,EACVG,GAAIA,MA8GNX,EAAO5M,OAAS,WACd,IAAIiO,EAAS3yC,KAET4yC,EAAc5yC,KAAK4jC,MACnB3gC,EAAK2vC,EAAY3vC,GACjB4vC,EAAuBD,EAAYE,SACnCA,OAAoC,IAAzBD,EAAkC7yC,KAAK2wC,gBAAkBkC,EACpEE,EAAWH,EAAYI,QACvBC,EAAgBL,EAAYM,aAK5BnxC,GAJmB6wC,EAAY5C,gBAChB4C,EAAY3C,YACf2C,EAAYN,SACNM,EAAYzC,gBACtByC,EAAY7wC,OACpBsB,EAAUuvC,EAAYvvC,QACtBotC,EAAYmC,EAAYnC,UACxB0C,GAAO,EAAIzE,EAA+B3oC,SAAS6sC,EAAaxD,GAMpE,IAAIgE,EAAaxD,EAAgB3sC,EAAIwtC,EAAU/uC,UAE/C,OAAK+tC,EAAY2D,GAMGrE,EAAOhpC,QAAQX,cAAc4pC,EAAaqE,MAAM,EAAIxE,EAAU9oC,SAAS,CACzF9C,GAAImwC,EACJrxC,MAAOA,EACP+wC,SAAUA,EACVR,SAAUtyC,KAAKqxC,UACf6B,aAAc,SAAsBvvC,GAC9BsvC,GACFA,EAActvC,GAGhB,IAAI+tC,GAAS,EAAIxC,EAAWC,WAAWiE,GAEvCxB,UAAU0B,SAAS5B,EAAOhwC,SAAWgwC,EAAOxwC,SAE9C8xC,QAAS,SAAiBrvC,GAKxB,GAJIovC,GACFA,EAASpvC,KAGM,IAAbA,EAAE4vC,QACLZ,EAAO/O,MAAMtkC,QACbqE,EAAE6vC,kBACF7vC,EAAE8vC,SACF9vC,EAAE+vC,QAAW/vC,EAAEgwC,SAAYhwC,EAAEiwC,UAAU,CACtCjwC,EAAEkwC,iBACF,IAAIC,EAAgBzwC,EAEhBytC,EAAYjvC,UAAUuxC,KAAgB3C,EAAU/uC,SAE7B,kBAAZ2B,GAAyBytC,IAClCgD,GAAgB,GAKlB5uC,OAAO6uC,YAAYX,EAAY,CAC7BrxC,MAAOA,EACPsB,QAASywC,IAIb,OAAO,IAERX,IAhDmBpE,EAAOhpC,QAAQX,cAAc,KAAK,EAAIypC,EAAU9oC,SAAS,CAC3E3E,KAAMgyC,GACLD,KAiDA3C,EA7KqB,CA8K5BzB,EAAOhpC,QAAQ6+B,WAEjB4L,EAAW/F,WAAY,EAAIoE,EAAU9oC,SAAS,GAAIgqC,EAAkB,CAClEiD,QAASlE,EAAW/oC,QAAQiuC,KAC5B/wC,GAAI6rC,EAAW/oC,QAAQC,OAAOiuC,WAC9B5wC,QAASyrC,EAAW/oC,QAAQqqC,KAC5BruC,MAAO+sC,EAAW/oC,QAAQmqC,SAG5B,IAAIgE,EAAwBnF,EAAOhpC,QAAQouC,YAAW,SAAUvQ,EAAOqC,GACrE,OAAoB8I,EAAOhpC,QAAQX,cAAcirC,GAA2B,EAAIxB,EAAU9oC,SAAS,CACjGusC,SAAUrM,GACTrC,OAGL7kC,EAAQ,GAAUm1C,mCCxTlBn1C,EAAQG,YAAa,EACrBH,EAAQowC,UAER,SAAmBroC,GACjB,IAAIpF,EAAWoF,GAAQ,IACnB5F,EAAS,GACTC,EAAO,GACPizC,EAAY1yC,EAAShB,QAAQ,MAEd,IAAf0zC,IACFjzC,EAAOO,EAAS0C,OAAOgwC,GACvB1yC,EAAWA,EAAS0C,OAAO,EAAGgwC,IAGhC,IAAIlwC,EAAcxC,EAAShB,QAAQ,MAEd,IAAjBwD,IACFhD,EAASQ,EAAS0C,OAAOF,GACzBxC,EAAWA,EAAS0C,OAAO,EAAGF,IAGhC,MAAO,CACLxC,SAAUA,EACVR,OAAmB,MAAXA,EAAiB,GAAKA,EAC9BC,KAAe,MAATA,EAAe,GAAKA,uCCvBCpC,EAAQ,QAAgB,EAEvD,IAAIs1C,EAAiB,EAAQ,MAE7Bt1C,EAAQ,GAAgBs1C,EAAeC,cAEX,EAAQ,MAEiBC,wDCTrD,IAAI9F,EAAyB,EAAQ,MAErC1vC,EAAQG,YAAa,EACrBH,EAAQu1C,cAAgBv1C,EAAQy1C,mBAAgB,EAEhD,IAAI7F,EAA0BF,EAAuB,EAAQ,OAEzDG,EAAkBH,EAAuB,EAAQ,OAEjDtM,EAQJ,SAAiC7hC,EAAKm0C,GAAe,IAAKA,GAAen0C,GAAOA,EAAIpB,WAAc,OAAOoB,EAAO,GAAY,OAARA,GAA+B,iBAARA,GAAmC,mBAARA,EAAsB,MAAO,CAAEyF,QAASzF,GAAS,IAAIgQ,EAAQokC,EAAyBD,GAAc,GAAInkC,GAASA,EAAMqkC,IAAIr0C,GAAQ,OAAOgQ,EAAMf,IAAIjP,GAAQ,IAAIs0C,EAAS,GAAQC,EAAwBz1C,OAAOiL,gBAAkBjL,OAAOosC,yBAA0B,IAAK,IAAI7rC,KAAOW,EAAO,GAAY,YAARX,GAAqBP,OAAOQ,UAAUC,eAAeC,KAAKQ,EAAKX,GAAM,CAAE,IAAIm1C,EAAOD,EAAwBz1C,OAAOosC,yBAAyBlrC,EAAKX,GAAO,KAAUm1C,IAASA,EAAKvlC,KAAOulC,EAAKtlC,KAAQpQ,OAAOiL,eAAeuqC,EAAQj1C,EAAKm1C,GAAgBF,EAAOj1C,GAAOW,EAAIX,GAAYi1C,EAAO7uC,QAAUzF,EAASgQ,GAASA,EAAMd,IAAIlP,EAAKs0C,GAAW,OAAOA,EAR/wBG,CAAwB,EAAQ,OAExCjG,EAAaL,EAAuB,EAAQ,OAE5CuG,EAAkB,EAAQ,MAE9B,SAASN,EAAyBD,GAAe,GAAuB,mBAAZQ,QAAwB,OAAO,KAAM,IAAIC,EAAoB,IAAID,QAAeE,EAAmB,IAAIF,QAAW,OAAQP,EAA2B,SAAkCD,GAAe,OAAOA,EAAcU,EAAmBD,IAAsBT,GAIhU,IAAID,EAA6BrS,EAAMK,cAAc,IAAIwS,EAAgBI,gBACzEr2C,EAAQy1C,cAAgBA,EACxBA,EAAcpK,YAAc,sBAE5B,IAAIkK,EAA6B,SAAU5D,GAGzC,SAAS4D,IAGP,IAFA,IAAI/lC,EAEK9F,EAAOjJ,UAAUC,OAAQ6Y,EAAO,IAAI3P,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC/E0P,EAAK1P,GAAQpJ,UAAUoJ,GA0CzB,OAvCA2F,EAAQmiC,EAAiB5wC,KAAKC,MAAM2wC,EAAkB,CAAC1wC,MAAMqJ,OAAOiP,KAAUtY,MACxEq1C,cAAgB,IAAIL,EAAgBI,eAC1C7mC,EAAM+mC,YAAa,EACnB/mC,EAAMgnC,oBAAsB,EAE5BhnC,EAAMinC,eAAiB,WACrBjnC,EAAMgnC,oBAAsBrwC,OAAOuwC,QAE9BlnC,EAAM+mC,aACT/mC,EAAM+mC,YAAa,EACnBI,sBAAsBnnC,EAAMonC,YAAYz8B,MAAK,EAAIy1B,EAAwB5oC,SAASwI,OAItFA,EAAMqnC,aAAe,SAAUC,EAAU7R,GACnCz1B,EAAMunC,mBAAmB9R,EAAWz1B,EAAMq1B,QAC5C1+B,OAAO6wC,SAAS,EAAGF,IAIvBtnC,EAAMynC,aAAe,SAAU70C,EAAM6iC,GACnC,IAAInqB,EAAO1U,SAAS8wC,eAAe90C,EAAK+2B,UAAU,IAE9Cre,GAAQtL,EAAMunC,mBAAmB9R,EAAWz1B,EAAMq1B,QACpD/pB,EAAKq8B,kBAIT3nC,EAAMunC,mBAAqB,SAAUK,EAAiBC,GACpD,IAAIN,EAAqBvnC,EAAMq1B,MAAMkS,mBAErC,OAAKA,GAKEA,EAAmBh2C,MAAK,EAAI6uC,EAAwB5oC,SAASwI,GAAQ4nC,EAAiBC,IAGxF7nC,GAhDT,EAAIqgC,EAAgB7oC,SAASuuC,EAAe5D,GAmD5C,IAAIY,EAASgD,EAAc10C,UAkE3B,OAhEA0xC,EAAOqE,YAAc,WACnB,IAAIh2C,EAAMK,KAAK4jC,MAAM3iC,SAAStB,KAAO,KAEjCA,GACFK,KAAKq1C,cAAcla,KAAKn7B,KAAK4jC,MAAM3iC,SAAUtB,EAAKK,KAAKu1C,qBAGzDv1C,KAAKs1C,YAAa,GAGpBhE,EAAO+E,kBAAoB,WAEzB,IAAIC,EADJpxC,OAAOtC,iBAAiB,SAAU5C,KAAKw1C,gBAEvC,IAAIe,EAAuBv2C,KAAK4jC,MAAM3iC,SAClCtB,EAAM42C,EAAqB52C,IAC3BwB,EAAOo1C,EAAqBp1C,KAE5BxB,IACF22C,EAAiBt2C,KAAKq1C,cAAcmB,KAAKx2C,KAAK4jC,MAAM3iC,SAAUtB,IAG5D22C,EACFt2C,KAAK41C,aAAaU,OAAgBnzC,GACzBhC,GACTnB,KAAKg2C,aAAal0C,UAAUX,QAAOgC,IAIvCmuC,EAAOO,qBAAuB,WAC5B3sC,OAAOrC,oBAAoB,SAAU7C,KAAKw1C,iBAG5ClE,EAAOvN,mBAAqB,SAA4BC,GACtD,IAGIsS,EAHAG,EAAwBz2C,KAAK4jC,MAAM3iC,SACnCE,EAAOs1C,EAAsBt1C,KAC7BxB,EAAM82C,EAAsB92C,IAG5BA,IACF22C,EAAiBt2C,KAAKq1C,cAAcmB,KAAKx2C,KAAK4jC,MAAM3iC,SAAUtB,IAY5DwB,EACFnB,KAAKg2C,aAAal0C,UAAUX,GAAO6iC,GAEnChkC,KAAK41C,aAAaU,EAAgBtS,IAItCsN,EAAO5M,OAAS,WACd,OAAoBvC,EAAM/8B,cAAcovC,EAAc3R,SAAU,CAC9Dj7B,MAAO5H,KAAKq1C,eACXr1C,KAAK4jC,MAAMe,WAGT2P,EAtHwB,CAuH/BnS,EAAMyC,WAER7lC,EAAQu1C,cAAgBA,EACxBA,EAAc7J,UAAY,CACxBqL,mBAAoBhH,EAAW/oC,QAAQiuC,KACvCrP,SAAUmK,EAAW/oC,QAAQ2wC,QAAQzC,WACrChzC,SAAU6tC,EAAW/oC,QAAQmqC,OAAO+D,6CCpJtCl1C,EAAQG,YAAa,EACrBH,EAAQq2C,oBAAiB,EACzB,IACIuB,EAA6B,gCAE7BvB,EAA8B,WAChC,SAASA,KAET,IAAI9D,EAAS8D,EAAex1C,UA8C5B,OA5CA0xC,EAAOkF,KAAO,SAAcv1C,EAAUtB,GACpC,IAAIi3C,EAAW52C,KAAK62C,YAAY51C,EAAUtB,GAE1C,IACE,IAAIiI,EAAQ1C,OAAO4xC,eAAen4B,QAAQi4B,GAC1C,OAAOhvC,EAAQ+K,KAAKiM,MAAMhX,GAAS,EACnC,MAAOjE,GAKP,OAAIuB,QAAUA,OAAOyxC,IAA+BzxC,OAAOyxC,GAA4BC,GAC9E1xC,OAAOyxC,GAA4BC,GAGrC,IAIXtF,EAAOnW,KAAO,SAAcl6B,EAAUtB,EAAKiI,GACzC,IAAIgvC,EAAW52C,KAAK62C,YAAY51C,EAAUtB,GACtCo3C,EAAcpkC,KAAKC,UAAUhL,GAEjC,IACE1C,OAAO4xC,eAAet4B,QAAQo4B,EAAUG,GACxC,MAAOpzC,GACHuB,QAAUA,OAAOyxC,KAGnBzxC,OAAOyxC,GAA8B,IAFrCzxC,OAAOyxC,GAA4BC,GAAYjkC,KAAKiM,MAAMm4B,KAYhEzF,EAAOuF,YAAc,SAAqB51C,EAAUtB,GAClD,IAAIq3C,EAhDe,YAgDwB/1C,EAASS,SACpD,OAAO/B,MAAAA,EAA6Cq3C,EAAeA,EAAe,IAAMr3C,GAGnFy1C,EAjDyB,GAoDlCr2C,EAAQq2C,eAAiBA,qCCzDzBr2C,EAAQG,YAAa,EACrBH,EAAQw1C,qBAQR,SAA8B0C,GAC5B,IAAIh2C,GAAW,EAAI+tC,EAAakI,eAC5Bn1C,GAAQ,EAAIgtC,EAAOzI,YAAY+N,EAAeG,eAC9CvO,GAAM,EAAI8I,EAAO7I,QAAQ,MAO7B,OANA,EAAI6I,EAAOoI,kBAAiB,WAC1B,GAAIlR,EAAIE,QAAS,CACf,IAAI0P,EAAW9zC,EAAMy0C,KAAKv1C,EAAUg2C,GACpChR,EAAIE,QAAQ4P,SAAS,EAAGF,GAAY,MAErC,CAAC50C,EAAStB,MACN,CACLsmC,IAAKA,EACLmR,SAAU,WACJnR,EAAIE,SACNpkC,EAAMo5B,KAAKl6B,EAAUg2C,EAAYhR,EAAIE,QAAQkR,cApBrD,IAAIhD,EAAiB,EAAQ,MAEzBtF,EAAS,EAAQ,MAEjBC,EAAe,EAAQ,4BCT3BjwC,EAAQu4C,WAAa,CACnB,+BAAgC,kBAAM,+BACtC,wCAAyC,kBAAM,+BAC/C,iCAAkC,kBAAM,sDCH1Cx4C,EAAOC,QAAU,CAAC,CACZw4C,OAAQC,EAAQ,MAChBt1C,QAAS,CAAC,QAAU,4BCF1B,IAAMu1C,EAAUD,EAAQ,MACxB,EACEA,EAAAA,MAAAA,GADME,EAAR,EAAQA,2BAA4BC,EAApC,EAAoCA,SAAUC,EAA9C,EAA8CA,aAG9C74C,EAAQ,EAAY,SAAC84C,EAAKv/B,EAAWw/B,EAAeC,QAAiB,IAA3Cz/B,IAAAA,EAAO,IAY/B,IAAI0/B,EAAUP,EAAQpwC,KAAI,SAAAkwC,GACxB,GAAKA,EAAOA,OAAOM,GAAnB,CAIAv/B,EAAKo/B,2BAA6BA,EAClCp/B,EAAKq/B,SAAWA,EAChBr/B,EAAKs/B,aAAeA,EAEpB,IAAM17B,EAASq7B,EAAOA,OAAOM,GAAKv/B,EAAMi/B,EAAOr1C,SAI/C,OAHIga,GAAU67B,IACZz/B,EAAOy/B,EAAa,CAAEz/B,KAAAA,EAAM4D,OAAAA,EAAQq7B,OAAAA,KAE/Br7B,MAMT,OAFA87B,EAAUA,EAAQl1C,QAAO,SAAAoZ,GAAM,YAAI,IAAOA,MAE9Bzc,OAAS,EACZu4C,EACEF,EACF,CAACA,GAED,IAIX/4C,EAAQ,EAAiB,SAAC84C,EAAKv/B,EAAMw/B,GAAZ,OACvBL,EAAQvvC,QACN,SAAC+vC,EAAUt1B,GAAX,OACEA,EAAK40B,OAAOM,GACRI,EAASplC,MAAK,kBAAM8P,EAAK40B,OAAOM,GAAKv/B,EAAMqK,EAAKzgB,YAChD+1C,IACNp0C,QAAQ4B,+ECYZ,IC3DA,EDgBA,SAAc+3B,GAGb,OAFAA,EAAMA,GAAOp+B,OAAOgB,OAAO,MAEpB,CAQNiO,GAAI,SAAYkK,EAAc9E,IAC5B+pB,EAAIjlB,KAAUilB,EAAIjlB,GAAQ,KAAK9V,KAAKgR,IAUtCykC,IAAK,SAAa3/B,EAAc9E,GAC3B+pB,EAAIjlB,IACPilB,EAAIjlB,GAAMxB,OAAOymB,EAAIjlB,GAAM7X,QAAQ+S,KAAa,EAAG,IAYrD/E,KAAM,SAAc6J,EAAc4/B,IAChC3a,EAAIjlB,IAAS,IAAInR,QAAQC,KAAI,SAAUoM,GAAWA,EAAQ0kC,OAC1D3a,EAAI,MAAQ,IAAIp2B,QAAQC,KAAI,SAAUoM,GAAWA,EAAQ8E,EAAM4/B,QCvDnDC,uKCFhB,WAAeC,GACb,QAAsBl1C,IAAlBk1C,EACF,OAAOA,EAET,MAA0BA,EAAcxzC,MAAd,KAArBiC,EAAL,YAAW5F,OAAX,WAKA,OAJIA,IACFA,EAAS,IAAMA,GAGT,MAAJ4F,EACK,IAAM5F,EAEX,MAAA4F,EAAKwxC,OAAOxxC,EAAKrH,OAAS,GACrBqH,EAAKM,MAAM,GAAI,GAAKlG,EAEtB4F,EAAO5F,YCVVq3C,EAAY,IAAIC,IAClBC,EAAa,GAEXC,EAAe,SAAAC,GACnB,IAAMj3C,EAAW4F,mBAAmBqxC,GASpC,OAPwBC,EAAAA,EAAAA,GACtBl3C,EACA4F,mBAAmBuxC,+BAGlBh0C,MALqB,KAKV,IAKhB,SAASirC,EAAWhpC,GAElB,OACEA,EAAKlB,WAAL,MACAkB,EAAKlB,WAAL,aACAkB,EAAKlB,WAAL,WAEOkB,EAIF,IAAIlF,IACTkF,EACA5B,OAAOjE,SAASG,MAAQ8D,OAAOjE,SAASG,KAAKuuC,SAArB,cACxBjuC,SAQG,IAAMo3C,EAAgB,SAAAlxC,GAC3B6wC,EAAa7wC,GAWFmxC,EAAgB,SAAAJ,GAC3B,IAAMK,EAAkBC,EAAUN,GAE5BO,EAAYT,EAAWpxC,KAAI,YAA0B,IAAvBP,EAAsB,EAAtBA,KAClC,MAAO,CACLA,KAFsD,EAAhBqyC,UAGtCC,aAActyC,MAIZA,GAAOnB,EAAAA,EAAAA,MAAKuzC,EAAWF,GAE7B,OAAIlyC,EACKuyC,EAAkBvyC,EAAKH,MAAMyyC,cAG/B,MAYIE,EAAkB,SAAAX,GAC7B,IAAMK,EAAkBC,EAAUN,GAE5BO,EAAYT,EAAWpxC,KAAI,YAA0B,IAAvBP,EAAsB,EAAtBA,KAClC,MAAO,CACLA,KAFsD,EAAhBqyC,UAGtCC,aAActyC,MAIZA,GAAOnB,EAAAA,EAAAA,MAAKuzC,EAAWF,GAE7B,OAAIlyC,EACKA,EAAKF,OAGP,IAWI2yC,EAAW,SAAXA,EAAWZ,GACtB,IAAMK,EAAkBN,EAAa5I,EAAW6I,IAChD,GAAIJ,EAAU5D,IAAIqE,GAChB,OAAOT,EAAUhpC,IAAIypC,GAGvB,IAAMQ,GAAWC,EAAAA,EAAAA,GAAwBd,GACzC,GAAIa,EACF,OAAOD,EAASC,EAASE,QAG3B,IAAIC,EAAYZ,EAAcC,GAQ9B,OANKW,IACHA,EAAYV,EAAUN,IAGxBJ,EAAU/oC,IAAIwpC,EAAiBW,GAExBA,GAUIV,EAAY,SAAAN,GACvB,IAEIgB,EAFoBjB,EAAa5I,EAAW6I,IAShD,MANa,gBAATgB,IACFA,EAAS,KAGXA,EAAYN,EAAkBM,2HClI1BC,0BAFmBC,GAAAA,QAEE1X,EAAAA,cAAoB,8MCjBhC,SAAS2X,EAAkBliC,EAAKmiC,IAClC,MAAPA,GAAeA,EAAMniC,EAAInY,UAAQs6C,EAAMniC,EAAInY,QAE/C,IAAK,IAAIF,EAAI,EAAGy6C,EAAO,IAAIrxC,MAAMoxC,GAAMx6C,EAAIw6C,EAAKx6C,IAC9Cy6C,EAAKz6C,GAAKqY,EAAIrY,GAGhB,OAAOy6C,ECHM,SAASC,EAAmBriC,GACzC,OCJa,SAA4BA,GACzC,GAAIjP,MAAM0oB,QAAQzZ,GAAM,OAAO,EAAiBA,GDGzC,CAAkBA,IELZ,SAA0BsiC,GACvC,GAAsB,oBAAX32B,QAAmD,MAAzB22B,EAAK32B,OAAOC,WAA2C,MAAtB02B,EAAK,cAAuB,OAAOvxC,MAAMqB,KAAKkwC,GFInF,CAAgBtiC,IGJpC,SAAqChX,EAAGu5C,GACrD,GAAKv5C,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAO,EAAiBA,EAAGu5C,GACtD,IAAInrC,EAAI5P,OAAOQ,UAAUgZ,SAAS9Y,KAAKc,GAAGwG,MAAM,GAAI,GAEpD,MADU,WAAN4H,GAAkBpO,EAAEP,cAAa2O,EAAIpO,EAAEP,YAAYmE,MAC7C,QAANwK,GAAqB,QAANA,EAAoBrG,MAAMqB,KAAKpJ,GACxC,cAANoO,GAAqB,2CAA2CjH,KAAKiH,GAAW,EAAiBpO,EAAGu5C,QAAxG,GHFyD,CAA2BviC,IILvE,WACb,MAAM,IAAI+L,UAAU,wIJIwE,GKL9F,IAyDMy2B,EAzDU,SAAUzS,GACxB,GAAI,oBAAOxiC,SACT,OAAO,EAET,IAAMk1C,EAAWl1C,SAASC,cAAT,QACjB,IACE,GAAIi1C,EAASC,SAAW,mBAAOD,EAASC,QAAQC,SAC9C,OAAOF,EAASC,QAAQC,SAAS5S,GAEnC,MAAO31B,GACP,OAAO,EAET,OAAO,EA6CyBwoC,CAAQ,YA1Cb,SAAUt4B,EAAKhgB,GAC1C,OAAO,IAAI2B,SAAQ,SAAC4B,EAAS0G,GAC3B,GAAI,oBAAOhH,SAAX,CAKA,IAAMs1C,EAAOt1C,SAASC,cAAT,QACbq1C,EAAKpqB,aAAL,kBACAoqB,EAAKpqB,aAAL,OAA0BnO,GAE1B9iB,OAAOqB,KAAKyB,GAAS6B,SAAQ,SAAApE,GAC3B86C,EAAKpqB,aAAa1wB,EAAKuC,EAAQvC,OAGjC86C,EAAKC,OAASj1C,EACdg1C,EAAKE,QAAUxuC,GAGbhH,SAASy1C,qBAAT,QAAsC,IACtCz1C,SAAS01C,kBAAT,UAAqC,GAAGC,YAC5BC,YAAYN,QAlBxBtuC,QAsBsB,SAAU+V,GACpC,OAAO,IAAIre,SAAQ,SAAC4B,EAAS0G,GAC3B,IAAMH,EAAM,IAAIC,eAChBD,EAAII,KAAJ,MAAgB8V,GAAK,GAErBlW,EAAI0uC,OAAS,WACQ,MAAf1uC,EAAIW,OACNlH,IAEA0G,KAIJH,EAAI6B,KAAK,UAQPmtC,EAAa,GAkBnB,EAhBiB,SAAU94B,EAAKhgB,GAC9B,OAAO,IAAI2B,SAAQ,SAAA4B,GACbu1C,EAAW94B,GACbzc,IAIF20C,EAA0Bl4B,EAAKhgB,GAC5B2Q,MAAK,WACJpN,IACAu1C,EAAW94B,IAAO,KAEnB6jB,OAAM,uCCpEAkV,EAAqB,CAIhCruC,MAAM,QAINsuC,QAAQ,WAGJC,EAAgB,SAAAtnC,GAAC,OAAKA,GAAKA,EAAE9N,SAAY8N,GAQzCunC,EAAoB,SAAAC,GACxB,IAP8BtsC,EAO9B,EAA4BssC,EAAQx2C,MAAR,KAArBiC,EAAP,KAAaw0C,EAAb,KAEA,MAAUC,yCADY,MAAJz0C,EAAA,SAPlBiI,EAAI,OAD0BA,EAQqCjI,GAP7D,GAAaiI,EAAE3H,MAAM,GAAK2H,GAC1B4gC,SAAF,KAAkB5gC,EAAE3H,MAAM,GAAI,GAAK2H,GAOvC,mBACEusC,EAAW,IAAOA,EAAP,KAIf,SAASE,EAAQt5B,EAAKu5B,GACpB,YADoC,IAAhBA,IAAAA,EAAgB,OAC7B,IAAI53C,SAAQ,SAAA4B,GACjB,IAAMuG,EAAM,IAAIC,eAChBD,EAAII,KAAKqvC,EAAQv5B,GAAK,GACtBlW,EAAIS,mBAAqB,WACD,GAAlBT,EAAIU,YACNjH,EAAQuG,IAGZA,EAAI6B,KAAK,SAIb,IAkkBImkC,EAnjBE0J,EAAkB,SAACC,EAAUzQ,QAAqB,IAArBA,IAAAA,EAAY,MAC7C,IAAM0Q,EAAO,CACXC,mBAAoBF,EAASE,mBAC7B/0C,KAAM60C,EAAS70C,KACfg1C,uBAAwBH,EAASG,uBACjC3C,UAAWwC,EAASxC,UACpB4C,kBAAmBJ,EAASI,kBAC5BC,mBAAoBL,EAASK,oBAG/B,MAAO,CACL9Q,UAAAA,EACA+Q,KAAMN,EAASz/B,OACf0/B,KAAAA,IAISM,EAAb,WACE,WAAYC,EAAe1D,GAAa,KA4BxC2D,wBAA0B,IAAI5D,IAZ5Bx4C,KAAKq8C,OAAS,IAAI7D,IAClBx4C,KAAKs8C,WAAa,IAAI9D,IACtBx4C,KAAKu8C,cAAgB,GACrBv8C,KAAKw8C,WAAa,IAAIhE,IACtBx4C,KAAKy8C,wBAAyB,EAC9Bz8C,KAAK08C,eAAiB,GACtB18C,KAAK28C,kBAAoB,IAAIC,IAC7B58C,KAAK68C,kBAAoB,IAAID,IAC7B58C,KAAKm8C,cAAgBA,GACrBrD,EAAAA,EAAAA,IAAcL,GA1BlB,2BA+BEqE,YAAA,SAAY56B,GAAM,IAAD,OACX66B,EAAkB/8C,KAAKo8C,wBAAwB7sC,IAAI2S,GAQvD,OANK66B,IACHA,EAAkBvB,EAAQt5B,EAAD,OACzBliB,KAAKo8C,wBAAwB5sC,IAAI0S,EAAK66B,IAIjCA,EACJlqC,MAAK,SAAAV,GAEJ,OADA,EAAKiqC,wBAAwBY,OAAO96B,GAC7B/P,KAER4zB,OAAM,SAAA/zB,GAEL,MADA,EAAKoqC,wBAAwBY,OAAO96B,GAC9BlQ,MA/Cd,EAmDEirC,aAAA,SAAaC,GACXl9C,KAAKk9C,UAAYA,EACjBl9C,KAAKm9C,iBAAmBD,EAAU,0BAA0Bpc,MAAK,SAAAx4B,GAAC,OAAIA,MArD1E,EAwDE80C,kBAAA,SAAkBC,GAAU,IAAD,OACjBC,EAA0BD,EAA1BC,SAAR,EAAkCD,EAAhBE,QAAAA,OAAlB,MAA4B,EAA5B,EACMr7B,EAAMk5B,EAAkBkC,GAC9B,OAAOt9C,KAAK88C,YAAY56B,GAAKrP,MAAK,SAAA7G,GAChC,IAAQW,EAAyBX,EAAzBW,OAAQa,EAAiBxB,EAAjBwB,aAGhB,GAAe,MAAXb,EACF,IACE,IAAM6wC,EAAc7qC,KAAKiM,MAAMpR,GAC/B,QAAyBrK,IAArBq6C,EAAY12C,KACd,MAAM,IAAI8F,MAAJ,iCAGR,IAAM0uC,EAAcgC,EAASz4C,MAAT,KAAoB,GAKxC,OAJIy2C,IAAgBkC,EAAY12C,KAAK22C,SAASnC,KAC5CkC,EAAY12C,MAAZ,IAAwBw0C,GAGnBl8C,OAAOC,OAAOg+C,EAAS,CAC5B1wC,OAAQsuC,EAAmBC,QAC3BwC,QAASF,IAEX,MAAOxrC,IAMX,OAAe,MAAXrF,GAA6B,MAAXA,EAER,cAAR2wC,GAAoC,cAARA,EACvBl+C,OAAOC,OAAOg+C,EAAS,CAC5B1wC,OAAQsuC,EAAmBruC,QAMxB,EAAKwwC,kBACVh+C,OAAOC,OAAOg+C,EAAS,CAAEC,SAAS,YAAcK,UAAU,KAK/C,MAAXhxC,EACK,EAAKywC,kBACVh+C,OAAOC,OAAOg+C,EAAS,CACrBC,SAAS,YACTM,qBAAqB,KAMvBL,EAAU,EACL,EAAKH,kBACVh+C,OAAOC,OAAOg+C,EAAS,CAAEE,QAASA,EAAU,KAKzCn+C,OAAOC,OAAOg+C,EAAS,CAC5B1wC,OAAQsuC,EAAmBruC,YAvHnC,EA4HEixC,iBAAA,SAAiBxC,GAAU,IAAD,OAClBiC,GAAW/D,EAAAA,EAAAA,IAAS8B,GAC1B,GAAIr7C,KAAKw8C,WAAW7H,IAAI2I,GAAW,CACjC,IAAM3B,EAAW37C,KAAKw8C,WAAWjtC,IAAI+tC,GAEnC,OAAOz5C,QAAQ4B,QAAQk2C,GAI3B,OAAO37C,KAAKo9C,kBAAkB,CAAEE,SAAAA,IAAYzqC,MAAK,SAAA8oC,GAG/C,OAFA,EAAKa,WAAWhtC,IAAI8tC,EAAU3B,GAEvBA,MAxIb,EA4IE5C,cAAA,SAAcsC,GACZ,OAAOtC,EAAAA,EAAAA,IAAcsC,IA7IzB,EAiJE1D,SAAA,SAAS0D,GAAU,IAAD,OACViC,GAAW/D,EAAAA,EAAAA,IAAS8B,GAC1B,GAAIr7C,KAAKq8C,OAAO1H,IAAI2I,GAAW,CAC7B,IAAM1B,EAAO57C,KAAKq8C,OAAO9sC,IAAI+tC,GAE3B,OAAI1B,EAAKhuC,MACA,CACLA,MAAOguC,EAAKhuC,MACZjB,OAAQivC,EAAKjvC,QAIV9I,QAAQ4B,QAAQm2C,EAAK8B,SAIhC,GAAI19C,KAAKs8C,WAAW3H,IAAI2I,GACtB,OAAOt9C,KAAKs8C,WAAW/sC,IAAI+tC,GAG7B,IAAMP,EAAkBl5C,QAAQ25B,IAAI,CAClCx9B,KAAK89C,cACL99C,KAAK69C,iBAAiBP,KACrBzqC,MAAK,SAAAkrC,GACN,IAAM7hC,EAAS6hC,EAAQ,GACvB,GAAI7hC,EAAOvP,SAAWsuC,EAAmBruC,MACvC,MAAO,CACLD,OAAQsuC,EAAmBruC,OAI/B,IAAI+uC,EAAWz/B,EAAOwhC,QACtB,EAAuD/B,EAA/CE,EAAR,EAAQA,mBAAR,IAA4BE,kBAAAA,OAA5B,MAAgD,GAAhD,EAEMiC,EAAc,GAEdC,EAAwB,EAAK9B,cAAcN,GAAoBhpC,MACnE,SAAAq4B,GAEE,IAAIgT,EAiBJ,OAlBAF,EAAYG,UAAY,IAAI56C,MAEvB2nC,GAAaA,aAAqBt+B,OACrCoxC,EAAYrxC,OAASsuC,EAAmBruC,MACxCoxC,EAAYpwC,MAAQs9B,IAEpB8S,EAAYrxC,OAASsuC,EAAmBC,SAChB,IAApBh/B,EAAOyhC,WACTK,EAAYL,UAAW,GAEzBhC,EAAWv8C,OAAOC,OAAOs8C,EAAU,CACjCG,uBAAwBiC,EAAQ,GAC5BA,EAAQ,GAAGjC,uBADS,KAI1BoC,EAAgBxC,EAAgBC,EAAUzQ,IAGrCgT,KAILE,EAA0Bv6C,QAAQ25B,IACtCue,EAAkB10C,KAAI,SAAAg3C,GAEpB,GAAI,EAAK9B,cAAc8B,GAAkB,CACvC,IAAMb,EAAc,EAAKjB,cAAc8B,GACvC,MAAO,CAAEA,gBAAAA,EAAiBb,YAAAA,GAG5B,OAAO,EAAKV,YACPvB,6CAAkC8C,EADhC,SAGJxrC,MAAK,SAAA7G,GACJ,IAAMwxC,EAAc7qC,KAAKiM,MAAM5S,EAAIwB,cACnC,MAAO,CAAE6wC,gBAAAA,EAAiBb,YAAAA,MAE3BzX,OAAM,WACL,MAAM,IAAIn5B,MAAJ,gEACmDyxC,EADnD,iBAKZxrC,MAAK,SAAAyrC,GACL,IAAMC,EAAwB,GAO9B,OALAD,EAAmBv6C,SAAQ,YAAuC,IAApCs6C,EAAmC,EAAnCA,gBAAiBb,EAAkB,EAAlBA,YAC7Ce,EAAsBF,GAAmBb,EACzC,EAAKjB,cAAc8B,GAAmBb,KAGjCe,KAGT,OACE16C,QAAQ25B,IAAI,CAACygB,EAAuBG,IACjCvrC,MAAK,YAA0C,IAC1C6qC,EADEQ,EAAuC,KAAxBI,EAAwB,KAa7C,OAXIJ,IACFR,EAAO,iBAAQQ,EAAR,CAAuBI,mBAAAA,IAC9BN,EAAYN,QAAUA,EACtBzsC,EAAAA,EAAAA,KAAA,0BAAwC,CACtC2qC,KAAM8B,EACNQ,cAAeR,KAInB,EAAKrB,OAAO7sC,IAAI8tC,EAAUU,GAEtBA,EAAYpwC,MACP,CACLA,MAAOowC,EAAYpwC,MACnBjB,OAAQqxC,EAAYrxC,QAIjB+wC,KAGR3X,OAAM,SAAA/zB,GACL,MAAO,CACLpE,MAAOoE,EACPrF,OAAQsuC,EAAmBruC,aAiBrC,OAXAmwC,EACGlqC,MAAK,WACJ,EAAKypC,WAAWU,OAAOM,MAExBvX,OAAM,SAAAn4B,GAEL,MADA,EAAK0uC,WAAWU,OAAOM,GACjB1vC,KAGV5N,KAAKs8C,WAAW9sC,IAAI8tC,EAAUP,GAEvBA,GA1RX,EA8REnF,aAAA,SAAayD,EAASn5C,QAAc,IAAdA,IAAAA,EAAU,IAC9B,IAAMo7C,GAAW/D,EAAAA,EAAAA,IAAS8B,GAC1B,GAAIr7C,KAAKq8C,OAAO1H,IAAI2I,GAAW,CAAC,IAAD,EACvB3B,EAAW37C,KAAKq8C,OAAO9sC,IAAI+tC,GAEjC,GAAI3B,EAAS+B,QACX,OAAO/B,EAAS+B,QAGlB,aAAIx7C,SAAJ,OAAI,EAASs8C,iBACX,MAAO,CACL5wC,MAAO+tC,EAAS/tC,MAChBjB,OAAQgvC,EAAShvC,UA1S3B,EAiTE8xC,eAAA,SAAenB,GAEb,QAnVkC,WACpC,GACE,eAAgBoB,gBAChB,IAAOA,UAAUC,WACjB,CACA,IAAKD,UAAUC,WAAWC,eAArB,IAA0CnB,SAA1C,MACH,OAAO,EAET,GAAIiB,UAAUC,WAAWE,SACvB,OAAO,EAGX,OAAO,EAuUAC,KAKD9+C,KAAKq8C,OAAO1H,IAAI2I,IAxTxB,EA+TEyB,SAAA,SAASzB,GAAW,IAAD,OACjB,IAAKt9C,KAAKy+C,eAAenB,GACvB,MAAO,CACLzqC,KAAM,SAAApN,GAAO,OAAIA,GAAQ,IACzBqI,MAAO,cAGX,GAAI9N,KAAK28C,kBAAkBhI,IAAI2I,GAC7B,MAAO,CACLzqC,KAAM,SAAApN,GAAO,OAAIA,GAAQ,IACzBqI,MAAO,cAIX,IAAMkxC,EAAQ,CACZv5C,QAAS,KACT0G,OAAQ,KACR8yC,QAAS,MAEXD,EAAMC,QAAU,IAAIp7C,SAAQ,SAAC4B,EAAS0G,GACpC6yC,EAAMv5C,QAAUA,EAChBu5C,EAAM7yC,OAASA,KAEjBnM,KAAK08C,eAAej6C,KAAK,CAAC66C,EAAU0B,IACpC,IAAME,EAAS,IAAIC,gBAgBnB,OAfAD,EAAOE,OAAOx8C,iBAAd,SAAwC,WACtC,IAAMyB,EAAQ,EAAKq4C,eAAe2C,WAAU,0BAAe/B,MAE5C,IAAXj5C,GACF,EAAKq4C,eAAe3lC,OAAO1S,EAAO,MAIjCrE,KAAKy8C,yBACRz8C,KAAKy8C,wBAAyB,EAC9BxpC,YAAW,WACT,EAAKqsC,8BACJ,MAGE,CACLzsC,KAAM,SAACpN,EAAS0G,GAAV,OAAqB6yC,EAAMC,QAAQpsC,KAAKpN,EAAS0G,IACvD2B,MAAOoxC,EAAOpxC,MAAMoL,KAAKgmC,KAzW/B,EA6WEI,0BAAA,WAA6B,IAAD,QACLp6C,OAAOq6C,qBAAwB,SAAAnN,GAAE,OAAIn/B,WAAWm/B,EAAI,MAE5D,WACX,IAAMoN,EAAa,EAAK9C,eAAe3lC,OAAO,EAAG,GAC3C0oC,EAAa57C,QAAQ25B,IACzBgiB,EAAWn4C,KAAI,YAA2B,IAAzBi2C,EAAwB,KAAdoC,EAAc,KASvC,OANK,EAAK/C,kBAAkBhI,IAAI2I,KAC9B,EAAKJ,UAAL,qBAAqC,CAAEx7C,SAAU47C,IACjD,EAAKX,kBAAkBgD,IAAIrC,IAIzB,EAAKH,iBACAuC,EAASj6C,SAAQ,GAGnB,EAAKm6C,YAAWrG,EAAAA,EAAAA,IAAS+D,IAAWzqC,MAAK,WACzC,EAAKgqC,kBAAkBlI,IAAI2I,KAC9B,EAAKJ,UAAL,yBAAyC,CAAEx7C,SAAU47C,IACrD,EAAKT,kBAAkB8C,IAAIrC,IAG7BoC,EAASj6C,SAAQ,UAKnB,EAAKi3C,eAAej9C,OACtBggD,EAAW5sC,MAAK,WACdI,YAAW,WACT,EAAKqsC,8BACJ,QAGL,EAAK7C,wBAAyB,MAlZtC,EAuZEmD,WAAA,SAAWtC,GAAW,IAAD,OACbuC,EAAczE,EAAkBkC,GACtC,OAAOwC,EAAeD,EAAa,CACjCE,YAAY,YACZC,GAAG,UACFntC,MAAK,kBAGN,EAAKgrC,iBAAiBP,OA/Z5B,EAmaEhK,SAAA,SAAS+H,GACPr7C,KAAK23C,SAAS0D,IApalB,EAuaE3D,2BAAA,SAA2B2D,GACzB,IAAMiC,GAAW/D,EAAAA,EAAAA,IAAS8B,GACpBO,EAAO57C,KAAKw8C,WAAWjtC,IAAI+tC,GACjC,GAAI1B,EAAM,CACR,IAAMsC,EAAgBxC,EAAgBE,EAAK8B,SAE3C,MAAM,GAAN,SACKuC,EAAoB/B,EAActC,KAAKC,qBAD5C,CAEET,EAAkBkC,KAGpB,OAAO,MAlbb,EAsbE4C,eAAA,SAAe7E,GACb,IAAMiC,GAAW/D,EAAAA,EAAAA,IAAS8B,GACpBO,EAAO57C,KAAKq8C,OAAO9sC,IAAI+tC,GAC7B,OAAQ1B,GAAQA,EAAK+B,UAzbzB,EA4bEG,YAAA,SAAYP,GAAc,IAAD,OACvB,YADuB,IAAbA,IAAAA,EAAU,GACbv9C,KAAK88C,YAAevB,sDAA2C1oC,MACpE,SAAA7G,GACE,IAEIm0C,EAFIxzC,EAAyBX,EAAzBW,OAAQa,EAAiBxB,EAAjBwB,aAIhB,GAAe,MAAXb,GAAkB4wC,EAAU,EAE9B,OAAO,EAAKO,YAAYP,EAAU,GAIpC,GAAe,MAAX5wC,EACF,IACE,IAAM6wC,EAAc7qC,KAAKiM,MAAMpR,GAC/B,QAA2CrK,IAAvCq6C,EAAY1B,uBACd,MAAM,IAAIlvC,MAAJ,iCAGRuzC,EAAU3C,EACV,MAAOxrC,IAKX,OAAOmuC,MAtdf,KA4dMF,EAAsB,SAAApE,GAAkB,OAC3C32C,OAAOk7C,gBAAgBvE,IAAuB,IAAIx0C,KACjD,SAAAg5C,GAAK,MAAI9E,6BAAkB8E,MAGlBC,EAAb,YACE,WAAYC,EAAe9H,EAAYkD,GAAW,IAAD,SAgB/C,eAfsB,SAAA6E,GACpB,IAAKD,EAAcjJ,WAAWkJ,GAC5B,MAAM,IAAI5zC,MAAJ,8DAC0D4zC,GAIlE,OACED,EAAcjJ,WAAWkJ,KACtB3tC,KAAKsoC,GAELpV,OAAM,SAAA/zB,GAAG,OAAIA,OAICymC,IAArB,KAEIkD,GACF,EAAKa,WAAWhtC,KAAI+pC,EAAAA,EAAAA,IAASoC,EAAS70C,MAAO,CAC3Cw2C,SAAU3B,EAAS70C,KACnB42C,QAAS/B,EACThvC,OAAO,YAtBoC,GADnD,uCA4BEizC,WAAA,SAAWtC,GACT,OAAO,YAAMsC,WAAN,UAAiBtC,GAAUzqC,MAAK,SAAAqJ,GACrC,GAAIA,EAAOvP,SAAWsuC,EAAmBC,QACvC,OAAOr3C,QAAQ4B,UAEjB,IAAMk2C,EAAWz/B,EAAOwhC,QAClB8C,EAAY7E,EAASE,mBACrB4E,EAAgBR,EAAoBO,GAC1C,OAAO38C,QAAQ25B,IAAIijB,EAAcp5C,IAAIy4C,IAAiBjtC,MAAK,kBAAM8oC,SApCvE,EAwCEkC,iBAAA,SAAiBxC,GACf,OAAO,YAAMwC,iBAAN,UAAuBxC,GAASxoC,MAAK,SAAAgE,GAC1C,OAAIA,EAAK8mC,SAGAnC,EAAQH,EAAD,QAAkBxoC,MAAK,SAAA7G,GACnC,OAAmB,MAAfA,EAAIW,OAIC,CACLA,OAAQsuC,EAAmBruC,OAMxBiK,KAGJA,MA5Db,GAAgCqlC,GAmEnBwE,EAAY,SAAAC,GACvB3O,EAAW2O,GAGAC,EAAe,CAC1B/kC,QAAS,SAAAw/B,GAAO,OAAIrJ,EAAS+M,SAAS1D,IAGtC3D,2BAA4B,SAAA2D,GAAO,OACjCrJ,EAAS0F,2BAA2B2D,IACtC1D,SAAU,SAAA0D,GAAO,OAAIrJ,EAAS2F,SAAS0D,IAEvCzD,aAAc,SAACyD,EAASn5C,GAAV,gBAAUA,IAAAA,EAAU,IAChC8vC,EAAS4F,aAAayD,EAASn5C,IACjC68C,SAAU,SAAA1D,GAAO,OAAIrJ,EAAS+M,SAAS1D,IACvC6E,eAAgB,SAAA7E,GAAO,OAAIrJ,EAASkO,eAAe7E,IACnD/H,SAAU,SAAA+H,GAAO,OAAIrJ,EAASsB,SAAS+H,IACvCyC,YAAa,kBAAM9L,EAAS8L,gBAG9B,IAEO,SAAS+C,IACd,OAAI7O,EACKA,EAASuK,cAET,iFCvoBLuE,EAAAA,SAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,YAAAA,KAyBH,OAzBGA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,UACJpc,OAAA,WACE,IAAMd,EAAK,iBACN5jC,KAAK4jC,MADC,CAETh9B,OAAO,OAAD,WACD0yC,EAAAA,EAAAA,IAAgBt5C,KAAK4jC,MAAM3iC,SAASS,UACpC1B,KAAK4jC,MAAMsa,cAAcjC,KAAK8E,YAAYC,YAI3CC,GAAc77C,EAAAA,EAAAA,eAAcpF,KAAK4jC,MAAMsa,cAAchT,UAA1B,iBAC5BtH,EAD4B,CAE/BjkC,IAAKK,KAAK4jC,MAAM98B,MAAQ9G,KAAK4jC,MAAMsa,cAActC,KAAK90C,QAYxD,OAToBo2C,EAAAA,EAAAA,GAAU,kBAE5B,CAAExG,QAASuK,EAAard,MAAAA,GACxBqd,GACA,YACE,MAAO,CAAEvK,QADK,EAAbx6B,OACyB0nB,MAAAA,MAE5Bp6B,OAGH,EAzBGs3C,CAAqB3e,EAAAA,WAmC3B,+ICvCa+e,EAAsB,CACjCxgC,GAAG,mBACHuwB,MAAO,CACL4E,SAAS,WACTsL,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,QAAS,EACTC,SAAS,SACTC,KAAK,mBACLC,WAAW,SACXC,OAAQ,GAEV,YAAY,YACZ,cAAc,4BCLhB,SAASC,EAAcjgD,GACrB,IAAM83C,GAAWC,EAAAA,EAAAA,GAAwB/3C,GACzC,EAAyBwD,OAAOjE,SAAxBE,EAAR,EAAQA,KAAMD,EAAd,EAAcA,OAEd,OAAgB,MAAZs4C,IACFt0C,OAAO08C,WAAWpI,EAASE,OAASx4C,EAASC,IACtC,GAOX,IAAI0gD,EAAS,GAEb38C,OAAOtC,iBAAP,sBAA8C,SAAA0Y,GACxC,6BAA6BvT,KAAKuT,EAAMmb,SACtCorB,IACF38C,OAAOjE,SAASS,SAAWmgD,MAKjC,IAAMC,EAAmB,SAAC7gD,EAAU8gD,GAC7BJ,EAAc1gD,EAASS,YAC1BmgD,EAAY5gD,EAASS,UACrBw7C,EAAAA,EAAAA,GAAU,mBAAoB,CAAEj8C,SAAAA,EAAU8gD,aAAAA,MAIxCC,EAAgB,SAAC/gD,EAAU8gD,GAC1BJ,EAAc1gD,EAASS,YAC1Bw7C,EAAAA,EAAAA,GAAU,gBAAiB,CAAEj8C,SAAAA,EAAU8gD,aAAAA,KAUrC/+C,EAAW,SAACC,EAAIf,GAIpB,QAJqC,IAAjBA,IAAAA,EAAU,IAI1B,iBAAOe,EAAX,CAKA,OAAmCksC,EAAAA,EAAAA,IAAUlsC,GAArCvB,EAAR,EAAQA,SAAUR,EAAlB,EAAkBA,OAAQC,EAA1B,EAA0BA,KACpBq4C,GAAWC,EAAAA,EAAAA,GAAwB/3C,GAUzC,GANI83C,IACFv2C,EAAKu2C,EAASE,OAASx4C,EAASC,GAK9B+D,OAAO+8C,aACT/8C,OAAOjE,SAAWS,EAAWR,EAASC,MADxC,CAOA,IAAMwa,EAAY1I,YAAW,WAC3BhC,EAAAA,EAAAA,KAAA,6BAA2C,CAAEvP,SAAAA,KAC7Cw7C,EAAAA,EAAAA,GAAU,uBAAwB,CAChCj8C,SAAUiE,OAAOjE,aAElB,KAEH44C,EAAAA,GAAAA,SAAgBn4C,EAAWR,GAAQ2R,MAAK,SAAAqrC,GAOtC,IAAKA,GAAiBA,EAAcvxC,SAAWsuC,EAAAA,GAAAA,MAI7C,OAHA/1C,OAAOlD,QAAQyB,aAAa,GAA5B,GAAoCxC,SAASG,MAC7C8D,OAAOjE,SAAWS,OAClBmQ,aAAa8J,GAM8BuiC,GAEzCA,EAActC,KAAKE,yBACnB52C,OAAOg9C,4BAIL,kBAAmBxD,WACoB,OAAvCA,UAAUyD,cAAcC,YACxB,cAAA1D,UAAUyD,cAAcC,WAAWrgD,OAEnC28C,UAAUyD,cAAcC,WAAWC,YAAY,CAC7CC,UAAU,uBAIdp9C,OAAOjE,SAAWS,EAAWR,EAASC,IAG1CohD,EAAAA,EAAAA,UAAct/C,EAAIf,GAClB2P,aAAa8J,YAjEbtW,EAAAA,GAAAA,SAAuBpC,IAqE3B,SAAS6yC,EAAmBK,EAA5B,GAA4D,IAAD,OAAZl1C,EAAY,EAAZA,SACrCS,EAAmBT,EAAnBS,SAAUP,EAASF,EAATE,KACZ62C,GAAUkF,EAAAA,EAAAA,GAAU,qBAAsB,CAC9C/G,gBAAAA,EAEAz0C,SAAAA,EACA00C,YAAa,CAAEn1C,SAAAA,GACfuhD,uBAAwB,SAAAlqC,GAAI,MAAI,CAC9B,EAGA,EAAK+8B,cAAcmB,KAAKl+B,EAAMA,EAAK3Y,SAGvC,GAAIq4C,EAAQv4C,OAAS,EAGnB,OAAOu4C,EAAQA,EAAQv4C,OAAS,GAGlC,GAAI02C,GAGEA,EADFl1C,SAAYS,WAEMA,EAGlB,OAAOP,EAAOW,UAAUX,EAAKiG,MAAM,IAAM,CAAC,EAAG,GAGjD,OAAO,EAaR,IAEKq7C,EAAAA,SAAAA,GACJ,WAAY7e,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACK8e,gBAAkBvgB,EAAAA,YAFN,GADfsgB,EAAAA,EAAAA,GAAAA,EAAAA,GAIH,kBAwBA,OAxBA,EAED1e,mBAAA,SAAmBC,EAAW2e,GAAY,IAAD,OACvCjN,uBAAsB,WACpB,IAAIkN,EAAQ,eAAkB,EAAKhf,MAAM3iC,SAASS,SAC9CyD,SAAS09C,QACXD,EAAWz9C,SAAS09C,OAEtB,IAAMC,EAAe39C,SAAS49C,iBAAT,4BACjBD,GAAgBA,EAAarjD,SAC/BmjD,EAAWE,EAAa,GAAGE,aAE7B,IAAMC,EAAe,gBAAmBL,EACpC,EAAKF,gBAAgBvc,UACC,EAAKuc,gBAAgBvc,QAAQ+c,YAC7BD,IACtB,EAAKP,gBAAgBvc,QAAQ+c,UAAYD,QAIhD,EAEDve,OAAA,WACE,OAAO,uCAASwc,EAAT,CAA8Bjb,IAAKjmC,KAAK0iD,oBAChD,EA5BGD,CAAuBtgB,EAAAA,WA+BvBghB,EAAuB,SAACpB,EAAcqB,GAAkB,IAAD,IAC3D,OAAIrB,EAAa3gD,OAASgiD,EAAahiD,OAInC2gD,MAAAA,GAAA,UAAAA,EAAchgD,aAAd,eAAqBpC,QAAQyjD,MAAAA,GAA7B,UAA6BA,EAAcrhD,aAA3C,aAA6B,EAAqBpC,MAQlD0jD,EAAAA,SAAAA,GACJ,WAAYzf,GAAQ,IAAD,SACjB,cAAMA,IAAN,KACAke,EAAiBle,EAAM3iC,SAAU,MAFhB,GADfoiD,EAAAA,EAAAA,GAAAA,EAAAA,GAIH,kBA2BA,OA3BA,EAEDhN,kBAAA,WACE2L,EAAchiD,KAAK4jC,MAAM3iC,SAAU,OACpC,EAEDqiD,sBAAA,SAAsBtf,GACpB,QAAImf,EAAqBnf,EAAU/iC,SAAUjB,KAAK4jC,MAAM3iC,YACtD6gD,EAAiB9hD,KAAK4jC,MAAM3iC,SAAU+iC,EAAU/iC,WACzC,IAGV,EAED8iC,mBAAA,SAAmBC,GACbmf,EAAqBnf,EAAU/iC,SAAUjB,KAAK4jC,MAAM3iC,WACtD+gD,EAAchiD,KAAK4jC,MAAM3iC,SAAU+iC,EAAU/iC,WAEhD,EAEDyjC,OAAA,WACE,OACE,gBAAC,WAAD,KACG1kC,KAAK4jC,MAAMe,SACZ,gBAAC8d,EAAD,CAAgBxhD,SAAUA,aAG/B,EA/BGoiD,CAAqBlhB,EAAAA,8BCtN3B,SAASohB,EAAej7C,EAAGC,GACzB,IAAK,IAAIhJ,KAAK+I,EACZ,KAAM/I,KAAKgJ,GAAI,OAAO,EACvB,IAAK,IAAIkO,KAAMlO,EACd,GAAID,EAAEmO,KAAQlO,EAAEkO,GAAK,OAAO,EAC7B,OAAO,EAGV,IC4GA,EAlHM+sC,SAAAA,GACJ,WAAY5f,GAAQ,IAAD,EACjB,qBACA,IAAQ3iC,EAA4B2iC,EAA5B3iC,SAAUi9C,EAAkBta,EAAlBsa,cAFD,OAGjB,EAAKn8C,MAAQ,CACXd,SAAS,OAAD,UAAOA,GACfi9C,cACEA,GACArE,EAAAA,GAAAA,aAAoB54C,EAASS,SAAWT,EAASC,OAAQ,CACvDs9C,kBAAkB,KARP,GADfgF,EAAAA,EAAAA,GAAAA,EAAAA,GAYH,EAEMjZ,yBAAP,WAA8CrD,GAAY,IAAxBjmC,EAAuB,EAAvBA,SAChC,OAAIimC,EAAUjmC,SAASG,OAASH,EAASG,KAQhC,CACL88C,cARoBrE,EAAAA,GAAAA,aACpB54C,EAASS,SAAWT,EAASC,OAC7B,CACEs9C,kBAAkB,IAMpBv9C,SAAS,OAAD,UAAOA,IAIZ,CACLA,SAAS,OAAD,UAAOA,KAElB,kBA+EA,OA/EA,EAEDwiD,cAAA,SAAcpI,GAAU,IAAD,OACrBxB,EAAAA,GAAAA,SAAgBwB,GAASxoC,MAAK,SAAAqrC,GACxBA,GAAiBA,EAAcvxC,SAAWsuC,EAAAA,GAAAA,MAC5C,EAAKnU,SAAS,CACZ7lC,SAAS,OAAD,UAAOiE,OAAOjE,UACtBi9C,cAAAA,KAGFh5C,OAAOlD,QAAQyB,aAAa,GAA5B,GAAoCxC,SAASG,MAC7C8D,OAAOjE,SAAWo6C,OAGvB,EAEDiI,sBAAA,SAAsBX,EAAWe,GAE/B,OAAKA,EAAUxF,cAkBXl+C,KAAK+B,MAAMm8C,gBAAkBwF,EAAUxF,gBAIzCl+C,KAAK+B,MAAMm8C,cAAchT,YAAcwY,EAAUxF,cAAchT,YAK7DlrC,KAAK+B,MAAMm8C,cAAcjC,OAASyH,EAAUxF,cAAcjC,SAM5Dj8C,KAAK+B,MAAMd,SAAStB,MAAQ+jD,EAAUziD,SAAStB,MAC/C+jD,EAAUxF,cAActC,OACvB8H,EAAUxF,cAActC,KAAKzC,YAC5BuK,EAAUxF,cAActC,KAAK90C,ODhFrC,SAA0BkrC,EAAU2Q,EAAWe,GAC7C,OAAOH,EAAevR,EAASpO,MAAO+e,IAAcY,EAAevR,EAASjwC,MAAO2hD,GCmF1Ep+C,CAAetF,KAAM2iD,EAAWe,OAvCrC1jD,KAAKyjD,cACHd,EAAU1hD,SAASS,SAAWihD,EAAU1hD,SAASC,SAE5C,IAqCV,EAEDwjC,OAAA,WAiBE,OAAO1kC,KAAK4jC,MAAMe,SAAS3kC,KAAK+B,QACjC,EA/GGyhD,CAAwBrhB,EAAAA,qBCuBxB0X,EAAS,IAAIyG,EAAAA,GAAWC,KAA2Br7C,OAAOy2C,WAChE+E,EAAAA,EAAAA,IAAU7G,GACVA,EAAOoD,aAAaC,EAAAA,GAEpBh4C,OAAOq7C,cAAgBA,EACvBr7C,OAAOy+C,WAAa1yC,EAAAA,EACpB/L,OAAO0sC,UAAYgP,EAAAA,GHkIjBv7C,EAAAA,GAAAA,QAAqB,SAAAiT,GACnBA,EAAKrX,SAAS0B,OAAS2V,EAAK3V,UAG9BuC,OAAO0+C,QAAU,SAAA3gD,GAAE,OAAID,EAASC,EAAI,CAAEI,SAAS,KAC/C6B,OAAO08C,WAAa,SAAA3+C,GAAE,OAAID,EAASC,EAAI,CAAEI,SAAS,KAClD6B,OAAO6uC,YAAc,SAAC9wC,EAAIf,GAAL,OAAiBc,EAASC,EAAIf,IGpIrD,IAAM2hD,EAAgB,wCAEtBC,EAAAA,EAAAA,GAAe,iBAAiBjxC,MAAK,YAG/BqqC,EAAAA,EAAAA,GAAU,yBAAyBp6C,OAAOkuC,SAASvxC,OAAS,GAC9D+3C,EAAQ,KAWV,IAAMuM,EAAe,SAAAngB,GAAK,OACxB,gBAAC,EAAAogB,YAAA,SAAD,CACEp8C,MAAO,CACLq8C,QAAQ,IACRC,SAAS,MAGX,gBAAC,IAAiBtgB,KAIhBugB,EAAchiB,EAAAA,cAAoB,IAElCiiB,EA5BmC,6FA6BvC1f,OAAA,WACE,IAAQC,EAAa3kC,KAAK4jC,MAAlBe,SACR,OACE,gBAAC,EAAA2L,SAAD,MACG,gBAAGrvC,EAAH,EAAGA,SAAH,OACC,gBAAC,EAAD,CAAiBA,SAAUA,IACxB,YAAkC,IAA/Bi9C,EAA8B,EAA9BA,cAAej9C,EAAe,EAAfA,SACXq9C,GAAqBuC,EAAAA,EAAAA,MAC3B,OACE,gBAAC,cAAD,CAA6Bj5C,MAAO02C,GAClC,gBAAC6F,EAAYthB,SAAb,CAAsBj7B,MAAO,CAAEs2C,cAAAA,EAAej9C,SAAAA,IAC3C0jC,WAxCoB,GA4BhBxC,EAAAA,WAwBnBkiB,EApDmC,6FAqDvC3f,OAAA,WAAU,IAAD,OACP,OACE,gBAACyf,EAAYxhB,SAAb,MACG,gBAAGub,EAAH,EAAGA,cAAej9C,EAAlB,EAAkBA,SAAlB,OACC,gBAACoiD,EAAD,CAAcpiD,SAAUA,GACtB,gBAAC,KAAD,CACEA,SAAUA,EACV60C,mBAAoBA,GAEpB,gBAAC,EAAAwO,OAAD,CACEJ,SAAUrL,6BACV53C,SAAUA,EACVyf,GAAG,wBAEH,gBAACqjC,EAAD,eACEj9C,KACE,cAAAo3C,EAActC,KAAK90C,MACnB,cAAAo3C,EAActC,KAAK90C,MACf8xC,EAAAA,EAAAA,GAAY33C,EAASS,SAAUm3C,8BAC/Bh3C,WAEIq8C,EAActC,KAAKzC,WACnB+E,EAActC,KAAK90C,MACnBjC,MAHD,KAGY,KAGjB,EAAK++B,MAZX,CAaE3iC,SAAUA,EACVi9C,cAAeA,GACXA,EAAcjC,cAlFK,GAoDX9Z,EAAAA,WAyC9B,EAA2Cj9B,OAAnCo4C,EAAR,EAAQA,SAAoBiH,EAA5B,EAAkBtjD,SAYhBq8C,GACAzE,6BAAgByE,IACdiH,EAAW7iD,UAAY47C,EAASG,SAAT,KAAyB8G,EAAWrjD,OAApC,OAEvB24C,EAAOd,eAAcH,EAAAA,EAAAA,GAAY2L,EAAW7iD,SAAUm3C,gCACtDyE,EAAS53C,MAAM,6BACf43C,EAAS53C,MAAM,+CAGjB1C,EAAAA,EAAAA,UACE61C,6BACEyE,GACEA,EAASG,SAAT,KAAD,GAA0B8G,EAAWrjD,QACtCqjD,EAAWpjD,KACb,CACEkC,SAAS,IAMf,IAAMmhD,EAAoB,WACxB,IACE,OAAO1N,eACP,SACA,OAAO,OAIX8J,EAAAA,GAAAA,SAAsB2D,EAAW7iD,SAAW6iD,EAAWrjD,QAAQ2R,MAAK,SAAA+oC,GAAS,IAAD,EACpE9E,EAAiB0N,IAEvB,GACE5I,MAAAA,GAAA,UAAAA,EAAMA,YAAN,SAAYE,wBACZF,EAAKA,KAAKE,yBAA2B52C,OAAOg9C,4BAI1C,kBAAmBxD,WACoB,OAAvCA,UAAUyD,cAAcC,YACxB,cAAA1D,UAAUyD,cAAcC,WAAWrgD,OAEnC28C,UAAUyD,cAAcC,WAAWC,YAAY,CAC7CC,UAAU,uBAUVxL,KACiB,MAAAA,EAAen4B,QAAQklC,KAKxC,OAFA/M,EAAet4B,QAAQqlC,EAAvB,UACA3+C,OAAOjE,SAASwjD,QAAO,GAU7B,GAJI3N,GACFA,EAAe4N,WAAWb,IAGvBjI,GAAQA,EAAKjvC,SAAWsuC,EAAAA,GAAAA,MAA0B,CACrD,IAAMhpC,EAAO,sBAAyBsyC,EAAW7iD,SAApC,kCAIb,GAAIk6C,GAAQA,EAAKhuC,MAEf,MADAwI,QAAQxI,MAAMqE,GACR2pC,EAAKhuC,MAGb,MAAM,IAAIhB,MAAMqF,GAGlB,IAAM0yC,GAAWzH,EAAAA,EAAAA,GAAU,kBAEzB,CAAExG,QAAS,gBAAC2N,EAAD,OACX,gBAACA,EAAD,OACA,YACE,MAAO,CAAE3N,QADK,EAAbx6B,WAGH1S,MAEIo7C,EAAM,WACV,IAAMC,EAAsB1iB,EAAAA,QAAa,GAazC,OAXAA,EAAAA,WAAgB,WACT0iB,EAAoB1e,UACvB0e,EAAoB1e,SAAU,EAC1B2e,YAAYC,MACdD,YAAYC,KAAZ,0BAGF7H,EAAAA,EAAAA,GAAU,4BAEX,IAEI,gBAACkH,EAAD,KAAaO,IAGhBK,GAAW9H,EAAAA,EAAAA,GAAU,8BAEzB/5C,EACA8hD,EAAAA,YAAuBA,EAAAA,YAAuBA,EAAAA,SAC9C,GAEF,SAASC,IACP,IAAMC,EACJ,oBAAOjgD,OACHC,SAAS8wC,eAAT,aACA,KAEF+O,IAAaC,EAAAA,YACfD,EAASG,EAAa,gBAACP,EAAD,OAEtBI,EAAS,gBAACJ,EAAD,MAASO,GAMtB,IAAMC,EAAMjgD,SACZ,GACE,aAAAigD,EAAI14C,YACH,YAAA04C,EAAI14C,aAA6B04C,EAAIC,gBAAgBC,SAEtDryC,YAAW,WACTiyC,MACC,OACE,CACL,IAAMzxC,EAAU,SAAVA,IACJ2xC,EAAIviD,oBAAJ,mBAA4C4Q,GAAS,GACrDvO,OAAOrC,oBAAP,OAAmC4Q,GAAS,GAE5CyxC,KAGFE,EAAIxiD,iBAAJ,mBAAyC6Q,GAAS,GAClDvO,OAAOtC,iBAAP,OAAgC6Q,GAAS,qFCzQ/C,UAlByB,SAAC,GAAkB,IAAhBxS,EAAe,EAAfA,SACpBi9C,EAAgBrE,EAAAA,GAAAA,aAAoB54C,EAASS,UACnD,OAAKw8C,EAGE/b,EAAAA,cAAoBojB,EAAAA,EAApB,eACLtkD,SAAAA,EACAi9C,cAAAA,GACGA,EAAcjC,OALV,2BCTX,IAAsBpoC,EAKpB/U,EAAOC,SALa8U,EAKW2jC,EAAQ,QALR3jC,EAAE9N,SAAY8N,sBCA/C9U,EAAQ,EAAW,SAAA6lC,GAAS,OAAIA,yECI1B4gB,EAAc,IAAIhN,IAClBiN,EAAwB,IAAIjN,IAU3B,SAASiB,EAAwB/3C,GACtC,IAAI83C,EAAWgM,EAAYj2C,IAAI7N,GAI/B,OAHK83C,IACHA,EAAWiM,EAAsBl2C,IAAI7N,EAASgkD,gBAEzClM,KAbTmM,SAAkB,SAAAnM,GACZA,EAASoM,WACXH,EAAsBj2C,IAAIgqC,EAASqM,SAAUrM,GAE7CgM,EAAYh2C,IAAIgqC,EAASqM,SAAUrM,6DCRrC,WAAAt0C,OAAOjE,SAASK,UAChB,cAAA4D,OAAOjE,SAASO,SAEhB4U,QAAQxI,MAAR,gFAGS,kBAAmB8wC,WAC5BA,UAAUyD,cACP2D,SAAYjN,oCACZhmC,MAAK,SAAUkzC,GACdA,EAAInjD,iBAAJ,eAAoC,YAClCs6C,EAAAA,EAAAA,GAAU,6BAA8B,CAAEiF,cAAe4D,IAGzD,IAAMC,EAAmBD,EAAIE,WAC7B7vC,QAAQT,IAAR,mBAAgCqwC,GAChCA,EAAiBpjD,iBAAjB,eAAiD,WAC/C,OAAQojD,EAAiBjkD,OACvB,IAAI,YACE28C,UAAUyD,cAAcC,YAK1Bl9C,OAAO+8C,cAAe,GAEtB/E,EAAAA,EAAAA,GAAU,6BAA8B,CAAEiF,cAAe4D,IAGrD7gD,OAAOghD,qBACT9vC,QAAQT,IAAR,4CACAzQ,OAAOjE,SAASwjD,YAKlBruC,QAAQT,IAAR,sCAKAunC,EAAAA,EAAAA,GAAU,2BAA4B,CAAEiF,cAAe4D,KAEzD,MAEF,IAAI,YACF3vC,QAAQxI,MAAR,oDACAsvC,EAAAA,EAAAA,GAAU,2BAA4B,CAAEiF,cAAe4D,IACvD,MAEF,IAAI,aACF7I,EAAAA,EAAAA,GAAU,wBAAyB,CAAEiF,cAAe4D,cAM7DhgB,OAAM,SAAUpiC,GACfyS,QAAQxI,MAAR,4CAA2DjK,yCCxDlD,SAASi1C,EAAY9L,EAAKp3B,GACvC,YADoD,IAAbA,IAAAA,EAAa,IAC/CA,EAIDo3B,IAAQp3B,EACJ,IAGJo3B,EAAIlnC,WAAc8P,EAAlB,KACKo3B,EAAI1lC,MAAMsO,EAAOjW,QAGnBqtC,EAXEA,kJCiGX,EAxGiB,CACf,UAAa,QACb,aAAe,EACf,cAAgB,EAChB,UAAa,QACb,SAAY,IACZ,QAAW,IACX,YAAe,CACX,CACI,IAAO,gBACP,GAAM,QACN,QAAW,QACX,OAAU,UACV,WAAc,CACV,CACI,GAAM,QACN,IAAO,UACP,UAAa,IAEjB,CACI,GAAM,QACN,IAAO,YACP,UAAa,KAGrB,kBAAqB,CACjB,CACI,SAAY,QACZ,WAAc,KAElB,CACI,SAAY,QACZ,WAAc,MAGtB,YAAe,GACf,iBAAoB,KAG5B,aAAgB,CACZ,CACI,cAAiB,GACjB,GAAM,QACN,IAAO,eACP,UAAa,QACb,UAAa,CACT,CACI,aAAgB,MAChB,GAAM,QACN,IAAO,YACP,KAAQ,cAKxB,OAAU,CACN,CACI,cAAiB,CACb,SAEJ,GAAM,QACN,IAAO,kBAGf,UAAa,GACb,WAAc,GACd,OAAU,GACV,SAAY,CACR,CACI,YAAe,CACX,CACI,YAAe,GACf,iBAAoB,GACpB,GAAM,QACN,IAAO,QACP,QAAW,QACX,OAAU,UACV,kBAAqB,CACjB,CACI,WAAc,IACd,SAAY,UAGpB,WAAc,CACV,CACI,gBAAkB,EAClB,GAAM,QACN,IAAO,QACP,UAAa,CACT,CACI,GAAM,QACN,MAAS,YAOjC,GAAM,UAGd,UAAa,ICjGTqZ,EAAYtiD,QAAQ4B,QAAQ,CAAEib,GAAI,QCF3B0lC,EDIO,SAAC,GAAiB,IAAf1P,EAAc,EAAdA,QACfxmB,GAAa+R,EAAAA,EAAAA,IAAe,CAAEnyB,SAAAA,IAEpC,OACE,gBAAC,KAAD,CACEogB,WAAYA,EACZpO,KAAMqkC,GACHzP,wsBEVL9wC,EAAa,SAAoBI,EAAQ9E,GAC3C,OAAO8E,EAAO5B,OAAO,EAAGlD,EAAOzB,UAAYyB,GAwBzCyE,EAAO,SAAcM,EAAQtB,GAW/B,IAVA,IAAIe,OAAQ,EACRQ,OAAW,EAGXC,EADaxB,EAAIE,MAAM,KACE,GAEzBuB,EAAcC,EAAWF,GACzBG,EAA+B,KAAnBF,EAAY,GACxBG,EAASC,EAAWP,GAEf1G,EAAI,EAAGkH,EAAIF,EAAO9G,OAAQF,EAAIkH,EAAGlH,IAAK,CAC7C,IAAImH,GAAS,EACTC,EAAQJ,EAAOhH,GAAGoH,MAEtB,GAAIA,EAAMZ,QACRG,EAAW,CACTS,MAAOA,EACPC,OAAQ,GACRjC,IAAKA,OAJT,CAcA,IALA,IAAIkC,EAAgBR,EAAWM,EAAMG,MACjCF,EAAS,GACTG,EAAMC,KAAKD,IAAIX,EAAY3G,OAAQoH,EAAcpH,QACjD4E,EAAQ,EAELA,EAAQ0C,EAAK1C,IAAS,CAC3B,IAAI4C,EAAeJ,EAAcxC,GAC7B6C,EAAad,EAAY/B,GAE7B,GAAI8C,EAAQF,GAAe,CAKzBL,EADYK,EAAaG,MAAM,IAAM,KACrBhB,EAAYgB,MAAM/C,GAAOgD,IAAIC,oBAAoBC,KAAK,KACtE,MAGF,QAAmBpE,IAAf+D,EAA0B,CAI5BR,GAAS,EACT,MAGF,IAAIc,EAAeC,EAAQC,KAAKT,GAEhC,GAAIO,IAAiBlB,EAAW,EACuC,IAA5CqB,EAAcjH,QAAQ8G,EAAa,KAC6J,KAAU,GACnO,IAAII,EAAQN,mBAAmBJ,GAC/BN,EAAOY,EAAa,IAAMI,OACrB,GAAIX,IAAiBC,EAAY,CAItCR,GAAS,EACT,OAIJ,IAAKA,EAAQ,CACXhB,EAAQ,CACNiB,MAAOA,EACPC,OAAQA,EACRjC,IAAK,IAAMyB,EAAYgB,MAAM,EAAG/C,GAAOkD,KAAK,MAE9C,QAIJ,OAAO7B,GAASQ,GAAY,MAK1BR,EAAQ,SAAeoB,EAAMnC,GAC/B,OAAOgB,EAAK,CAAC,CACXmB,KAAMA,IACJnC,IA6BFc,EAAU,SAAiBxC,EAAI6F,GAEjC,GAAIlD,EAAW3C,EAAI,KACjB,OAAOA,EAGT,IAAI8F,EAAY9F,EAAG4B,MAAM,KACrBmE,EAAaD,EAAU,GACvBE,EAAUF,EAAU,GAGpBG,EADcJ,EAAKjE,MAAM,KACE,GAE3BsE,EAAa9C,EAAW2C,GACxBI,EAAe/C,EAAW6C,GAE9B,GAAsB,KAAlBC,EAAW,GACb,OAAOX,EAASU,EAAcD,GAIhC,IAAKrD,EAAWuD,EAAW,GAAI,KAAM,CACnC,IAAIzH,EAAW0H,EAAaC,OAAOF,GAAY5B,KAAK,KACpD,OAAOiB,GAA2B,MAAjBU,EAAuB,GAAK,KAAOxH,EAAUuH,GAWhE,IAHA,IAAIK,EAAcF,EAAaC,OAAOF,GAClCI,EAAW,GAENhK,EAAI,EAAGkH,EAAI6C,EAAY7J,OAAQF,EAAIkH,EAAGlH,IAAK,CAClD,IAAIuI,EAAUwB,EAAY/J,GACV,OAAZuI,EAAkByB,EAASC,MAA2B,MAAZ1B,GAAiByB,EAAS9G,KAAKqF,GAG/E,OAAOU,EAAS,IAAMe,EAAShC,KAAK,KAAM0B,IAKxCzD,EAAe,SAAsBsB,EAAMF,GAC7C,IAAI6C,EAAc3C,EAAKjC,MAAM,KACzB6E,EAAWD,EAAY,GACvBE,EAAeF,EAAY,GAC3Bf,OAAyBvF,IAAjBwG,EAA6B,GAAKA,EAG1CC,EAAkB,IADPvD,EAAWqD,GACWrC,KAAI,SAAUS,GACjD,IAAIpC,EAAQ+B,EAAQC,KAAKI,GACzB,OAAOpC,EAAQkB,EAAOlB,EAAM,IAAMoC,KACjCP,KAAK,KACJsC,EAAmBjD,EAAO3F,SAE1B6I,GADJD,OAAwC1G,IAArB0G,EAAiC,GAAKA,GACZ3I,OAEzC6I,QADmC5G,IAA1B2G,EAAsC,GAAKA,GAC/BjF,MAAM,KAAK,IAAM,GAE1C,OADA+E,EAAkBpB,EAASoB,EAAiBlB,EAAOqB,IAgBjDtC,EAAU,SAWVI,EAAY,SAAmBC,GACjC,OAAOL,EAAQM,KAAKD,IAGlBX,EAAU,SAAiBW,GAC7B,OAAOA,GAA0B,MAAfA,EAAQ,IAGxBE,EAAY,SAAmBrB,EAAOtC,GAMxC,MAAO,CACLsC,MAAOA,EACPsB,MAPUtB,EAAMZ,QAAU,EAAIM,EAAWM,EAAMG,MAAMoB,QAAO,SAAUD,EAAOH,GAG7E,OAFAG,GApBiB,GAMD,SAAuBH,GACzC,MAAmB,KAAZA,EAcDK,CAAcL,GAAwCD,EAAUC,GAAUG,GAnB7D,EAmB8Fd,EAAQW,GAAUG,GAASG,EAAoCH,GApB9J,EAoBYA,GAjBd,EAkBPA,IACN,GAID5D,MAAOA,IAIPmC,EAAa,SAAoBP,GACnC,OAAOA,EAAOoB,IAAIW,GAAWK,MAAK,SAAUC,EAAGC,GAC7C,OAAOD,EAAEL,MAAQM,EAAEN,MAAQ,EAAIK,EAAEL,MAAQM,EAAEN,OAAS,EAAIK,EAAEjE,MAAQkE,EAAElE,UAIpEgC,EAAa,SAAoB1B,GACnC,OAAOA,EACNtB,QAAQ,eAAgB,IAAIwB,MAAM,MAGjC2D,EAAW,SAAkB9G,GAC/B,IAAK,IAAI+G,EAAOjJ,UAAUC,OAAQiJ,EAAQC,MAAMF,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IAC/FF,EAAME,EAAO,GAAKpJ,UAAUoJ,GAM9B,OAAOlH,IAHPgH,EAAQA,EAAM5F,QAAO,SAAU+F,GAC7B,OAAOA,GAAKA,EAAEpJ,OAAS,OAEGiJ,EAAMjJ,OAAS,EAAI,IAAMiJ,EAAMnB,KAAK,KAAO,KAGrEI,EAAgB,CAAC,MAAO,QC/QxBxI,EAAWC,OAAOC,QAAU,SAAUC,GACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGLyB,EAAc,SAAqBrB,GACrC,IAAIsB,EAAmBtB,EAAOuB,SAC1BC,EAASF,EAAiBE,OAC1BC,EAAOH,EAAiBG,KACxBC,EAAOJ,EAAiBI,KACxBC,EAASL,EAAiBK,OAC1BC,EAAWN,EAAiBM,SAC5BC,EAAOP,EAAiBO,KACxBC,EAAWR,EAAiBQ,SAC5BC,EAAOT,EAAiBS,KACxBC,EAAWhC,EAAOuB,SAASS,UAE1BA,GAAYN,GAAQO,IAEvBD,EADU,IAAIE,IAAIR,GACHM,UAGjB,MAAO,CACLA,SAAUG,UAAUC,UAAUJ,IAC9BR,OAAQA,EACRC,KAAMA,EACNC,KAAMA,EACNC,OAAQA,EACRC,SAAUA,EACVC,KAAMA,EACNC,SAAUA,EACVC,KAAMA,EACNM,MAAOrC,EAAOsC,QAAQD,MACtBpC,IAAKD,EAAOsC,QAAQD,OAASrC,EAAOsC,QAAQD,MAAMpC,KAAO,YAIzDsC,EAAgB,SAAuBvC,EAAQwC,GACjD,IAAIC,EAAY,GACZlB,EAAWF,EAAYrB,GACvB0C,GAAgB,EAEhBC,EAAoB,aAExB,MAAO,CACDpB,eACF,OAAOA,GAGLmB,oBACF,OAAOA,GAGTE,sBAAuB,WACrBF,GAAgB,EAChBC,KAEFE,OAAQ,SAAgBC,GACtBL,EAAUM,KAAKD,GAEf,IAAIE,EAAmB,WACrBzB,EAAWF,EAAYrB,GACvB8C,EAAS,CACPvB,SAAUA,EACV0B,OAAQ,SAKZ,OADAjD,EAAOkD,iBAAiB,WAAYF,GAC7B,WACLhD,EAAOmD,oBAAoB,WAAYH,GACvCP,EAAYA,EAAUW,QAAO,SAAUC,GACrC,OAAOA,IAAOP,OAIpBQ,SAAU,SAAkBC,GAC1B,IAAIC,EAAO1D,UAAUC,OAAS,QAAsB0D,IAAjB3D,UAAU,GAAmBA,UAAU,GAAK,GAC3EuC,EAAQmB,EAAKnB,MACbqB,EAAeF,EAAKG,QACpBA,OAA2BF,IAAjBC,GAAqCA,EAEnD,GAAkB,iBAAPH,EACTvD,EAAOsC,QAAQsB,GAAGL,OACb,CACLlB,EAAQ5C,EAAS,GAAI4C,EAAO,CAC1BpC,IAAK4D,KAAKC,MAAQ,KAGpB,IACMpB,GAAiBiB,EACnB3D,EAAOsC,QAAQyB,aAAa1B,EAAO,KAAMkB,GAEzCvD,EAAOsC,QAAQ0B,UAAU3B,EAAO,KAAMkB,GAExC,MAAOU,GACPjE,EAAOuB,SAASoC,EAAU,UAAY,UAAUJ,IAIpDhC,EAAWF,EAAYrB,GACvB0C,GAAgB,EAChB,IAAIwB,EAAa,IAAIC,SAAQ,SAAUC,GACrC,OAAOzB,EAAoByB,KAQ7B,OANA3B,EAAU4B,SAAQ,SAAUvB,GAC1B,OAAOA,EAAS,CACdvB,SAAUA,EACV0B,OAAQ,YAGLiB,KAOTI,EAAqB,WACvB,IAAIC,EAAczE,UAAUC,OAAS,QAAsB0D,IAAjB3D,UAAU,GAAmBA,UAAU,GAAK,IAClF0E,EAAcD,EAAYvD,QAAQ,KAClCyD,EAAkB,CACpBzC,SAAUwC,GAAe,EAAID,EAAYG,OAAO,EAAGF,GAAeD,EAClE/C,OAAQgD,GAAe,EAAID,EAAYG,OAAOF,GAAe,IAE3DG,EAAQ,EACRC,EAAQ,CAACH,GACTI,EAAS,CAAC,MACd,MAAO,CACDtD,eACF,OAAOqD,EAAMD,IAGfzB,iBAAkB,SAA0B4B,EAAMzB,KAClDF,oBAAqB,SAA6B2B,EAAMzB,KACxDf,QAAS,CACHyC,cACF,OAAOH,GAGLD,YACF,OAAOA,GAGLtC,YACF,OAAOwC,EAAOF,IAGhBX,UAAW,SAAmB3B,EAAO2C,EAAGC,GACtC,IAAIC,EAAaD,EAAIE,MAAM,KACvBnD,EAAWkD,EAAW,GACtBE,EAAcF,EAAW,GACzB1D,OAAyBiC,IAAhB2B,EAA4B,GAAKA,EAE9CT,IACAC,EAAM7B,KAAK,CACTf,SAAUA,EACVR,OAAQA,EAAOzB,OAAS,IAAMyB,EAASA,IAEzCqD,EAAO9B,KAAKV,IAEd0B,aAAc,SAAsB1B,EAAO2C,EAAGC,GAC5C,IAAII,EAAcJ,EAAIE,MAAM,KACxBnD,EAAWqD,EAAY,GACvBC,EAAeD,EAAY,GAC3B7D,OAA0BiC,IAAjB6B,EAA6B,GAAKA,EAE/CV,EAAMD,GAAS,CACb3C,SAAUA,EACVR,OAAQA,GAEVqD,EAAOF,GAAStC,GAElBuB,GAAI,SAAYL,GACd,IAAIgC,EAAWZ,EAAQpB,EAEnBgC,EAAW,GAAKA,EAAWV,EAAO9E,OAAS,IAI/C4E,EAAQY,OASZtD,IAAiC,oBAAXuD,SAA0BA,OAAOC,WAAYD,OAAOC,SAASC,eAMnFC,EAAgBpD,EAHXN,EAAYuD,OAASlB,KAI1B,EAAWqB,EAAcrC,SC7MzB,EAAW5D,OAAOC,QAAU,SAAUC,GACxC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAASF,UAAUD,GAEvB,IAAK,IAAII,KAAOD,EACVN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAC/CL,EAAOK,GAAOD,EAAOC,IAK3B,OAAOL,GAGT,SAAS+mD,EAAyB/lD,EAAKG,GACrC,IAAInB,EAAS,GAEb,IAAK,IAAIC,KAAKe,EACRG,EAAKC,QAAQnB,IAAM,GAClBH,OAAOQ,UAAUC,eAAeC,KAAKQ,EAAKf,KAC/CD,EAAOC,GAAKe,EAAIf,IAGlB,OAAOD,EAGT,SAASgnD,EAAgBtU,EAAUuU,GACjC,KAAMvU,aAAoBuU,GACxB,MAAM,IAAI5iC,UAAU,qCAIxB,SAAS6iC,EAA2BxnD,EAAMc,GACxC,IAAKd,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOa,GAAyB,iBAATA,GAAqC,mBAATA,EAA8Bd,EAAPc,EAG5E,SAAS2mD,EAAUvmD,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIwjB,UAAU,kEAAoExjB,GAG1FD,EAASN,UAAYR,OAAOgB,OAAOD,GAAcA,EAAWP,UAAW,CACrES,YAAa,CACXuH,MAAO1H,EACPid,YAAY,EACZupC,UAAU,EACVhd,cAAc,KAGdvpC,IAAYf,OAAOa,eAAiBb,OAAOa,eAAeC,EAAUC,GAAcD,EAASY,UAAYX,GAW7G,IAAIwmD,EAAqB,SAA4BniD,EAAM+tB,GACzD,IAAIq0B,GAAM,IAAApkB,eAAcjQ,GAExB,OADAq0B,EAAIxc,YAAc5lC,EACXoiD,GAKLC,EAAkBF,EAAmB,YAGrCrW,EAAW,SAAkBptC,GAC/B,IAAIyhC,EAAWzhC,EAAKyhC,SACpB,OAAO,gBAAoBkiB,EAAgBlkB,SAAU,MAAM,SAAUnmB,GACnE,OAAOA,EAAUmoB,EAASnoB,GAAW,gBAAoBsqC,EAAkB,KAAMniB,OAIjFmiB,EAAmB,SAAUpW,GAG/B,SAASoW,IACP,IAAIC,EAAOx4C,EAEX+3C,EAAgBtmD,KAAM8mD,GAEtB,IAAK,IAAIr+C,EAAOjJ,UAAUC,OAAQ6Y,EAAO3P,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3E0P,EAAK1P,GAAQpJ,UAAUoJ,GAGzB,OAAem+C,EAASx4C,EAAQi4C,EAA2BxmD,KAAM0wC,EAAiB5wC,KAAKC,MAAM2wC,EAAkB,CAAC1wC,MAAMqJ,OAAOiP,KAAiB/J,EAAMxM,MAAQ,CAC1Jya,QAASjO,EAAMy4C,aACfC,KAAM,CACJC,SAAU,OAEHV,EAA2Bj4C,EAAnCw4C,GAqEL,OArFAN,EAAUK,EAAkBpW,GAmB5BoW,EAAiBlnD,UAAUonD,WAAa,WACtC,IAAIG,EAAiBnnD,KAAK4jC,MAAM5hC,QAGhC,MAAO,CACLgB,SAHamkD,EAAenkD,SAI5B/B,SAHakmD,EAAelmD,WAOhC6lD,EAAiBlnD,UAAUwnD,kBAAoB,SAA2Bx5C,EAAO0E,GAC/E,IAAI+0C,EAAWz5C,GAOb,MAAMA,GAJN05C,EAFgBtnD,KAAK4jC,MAAM5hC,QAAQgB,UAEzB4K,EAAMjJ,IAAK,CACnBtB,SAAS,KAOfyjD,EAAiBlnD,UAAUmkC,mBAAqB,SAA4BC,EAAWkD,GACjFA,EAAU1qB,QAAQvb,WAAajB,KAAK+B,MAAMya,QAAQvb,UACpDjB,KAAK4jC,MAAM5hC,QAAQM,yBAIvBwkD,EAAiBlnD,UAAUy2C,kBAAoB,WAC7C,IAAIhE,EAASryC,KAETinD,EAAOjnD,KAAK+B,MAAMklD,KAClBjlD,EAAUhC,KAAK4jC,MAAM5hC,QAEzBA,EAAQM,wBAER2kD,EAAKC,SAAWllD,EAAQO,QAAO,WAC7BsB,QAAQ4B,UAAUoN,MAAK,WAErB6iC,uBAAsB,WACfrD,EAAOkV,WACVlV,EAAOvL,UAAS,WACd,MAAO,CACLtqB,QAAS61B,EAAO2U,2BAS9BF,EAAiBlnD,UAAUiyC,qBAAuB,WAChD,IAAIoV,EAAOjnD,KAAK+B,MAAMklD,KACtBjnD,KAAKunD,WAAY,EACjBN,EAAKC,YAGPJ,EAAiBlnD,UAAU8kC,OAAS,WAClC,IAAIloB,EAAUxc,KAAK+B,MAAMya,QACrBmoB,EAAW3kC,KAAK4jC,MAAMe,SAC1B,OAAO,gBAAoBkiB,EAAgBhkB,SAAU,CACnDj7B,MAAO4U,GACc,mBAAbmoB,EAA0BA,EAASnoB,GAAWmoB,GAAY,OAG/DmiB,EAtFc,CAuFrB,aAGFA,EAAiB3c,aAAe,CAC9BnoC,QAASqD,GAIX,IAAImiD,EAAiB,SAAwBjX,GAC3C,IAAIruB,EAAMquB,EAAMruB,IACZyiB,EAAW4L,EAAM5L,SACjBzgC,EAAcge,EAAIxhB,QAAQ,KAE1BgB,OAAW,EACXR,EAAS,GAUb,OAZmBgD,GAAe,GAMhCxC,EAAWwgB,EAAIgW,UAAU,EAAGh0B,GAC5BhD,EAASghB,EAAIgW,UAAUh0B,IAEvBxC,EAAWwgB,EAGN,gBAAoB2kC,EAAgBhkB,SAAU,CACnDj7B,MAAO,CACL3G,SAAU,CACRS,SAAUA,EACVR,OAAQA,EACRC,KAdK,IAgBP6B,SAAU,WACR,MAAM,IAAI4J,MAAM,6CAGnB+3B,IAKDqf,EAAc2C,EAAmB,OAAQ,CAC3C1C,QAAS,IACTC,SAAU,IACVlhD,SAAUqC,EAAcrC,WAItBshD,EAAS,SAAgB1gB,GAC3B,OAAO,gBAAoBogB,EAAYrhB,SAAU,MAAM,SAAU8kB,GAC/D,OAAO,gBAAoBnX,EAAU,MAAM,SAAUoX,GACnD,OAAO,gBAAoBC,EAAY,EAAS,GAAIF,EAAaC,EAAiB9jB,WAKpF+jB,EAAa,SAAUC,GAGzB,SAASD,IAGP,OAFArB,EAAgBtmD,KAAM2nD,GAEfnB,EAA2BxmD,KAAM4nD,EAAqB7nD,MAAMC,KAAMR,YA2E3E,OAhFAinD,EAAUkB,EAAYC,GAQtBD,EAAW/nD,UAAU8kC,OAAS,WAC5B,IAAImjB,EAAS7nD,KAAK4jC,MACd3iC,EAAW4mD,EAAO5mD,SAClB6mD,EAAaD,EAAO7kD,SACpBkhD,EAAW2D,EAAO3D,SAClB6D,EAAUF,EAAOE,QACjBpjB,EAAWkjB,EAAOljB,SAElBqjB,GADUH,EAAO5D,QACE4D,EAAO3c,WAC1BA,OAAiC/nC,IAArB6kD,EAAiC,MAAQA,EACrDC,EAAW5B,EAAyBwB,EAAQ,CAAC,WAAY,WAAY,WAAY,UAAW,WAAY,UAAW,cAEnH5hD,EAAS,mBAAuB0+B,GAAUz8B,QAAO,SAAUggD,EAAOngB,GACpE,IAAI9hC,EAASkiD,GAAYjE,EAAZiE,CAAsBpgB,GACnC,OAAOmgB,EAAM7+C,OAAOpD,KACnB,IACCvE,EAAWT,EAASS,SACpBgE,EAAQC,EAAKM,EAAQvE,GAEzB,GAAIgE,EAAO,CACT,IAAIkB,EAASlB,EAAMkB,OACfjC,EAAMe,EAAMf,IACZgC,EAAQjB,EAAMiB,MACd+vC,EAAUhxC,EAAMiB,MAAMiB,MAE1Bs8C,EAAWv9C,EAAMZ,QAAUm+C,EAAWv9C,EAAMG,KAAKzD,QAAQ,MAAO,IAEhE,IAAIugC,EAAQ,EAAS,GAAIh9B,EAAQ,CAC/BjC,IAAKA,EACL1D,SAAUA,EACV+B,SAAU,SAAkBC,EAAIf,GAC9B,OAAO4lD,EAAWriD,EAAQxC,EAAI0B,GAAMzC,MAIpCkmD,EAAQ,eAAmB1R,EAAS9S,EAAO8S,EAAQ9S,MAAMe,SAAW,gBAAoB2f,EAAQ,CAClGrjD,SAAUA,EACV8mD,QAASA,GACRrR,EAAQ9S,MAAMe,eAAYxhC,GAEzBklD,EAAeN,EAAUO,EAAepd,EAExCqd,EAAeR,EAAU,EAAS,CACpCpjD,IAAKA,EACL1D,SAAUA,EACViqC,UAAWA,GACV+c,GAAYA,EACf,OAAO,gBAAoBjE,EAAYnhB,SAAU,CAC/Cj7B,MAAO,CACLq8C,QAASt/C,EACTu/C,SAAUA,EACVlhD,SAAU4gC,EAAM5gC,WAEjB,gBAAoBqlD,EAAcE,EAAcH,IAenD,OAAO,MAIJT,EAjFQ,CAkFf,iBAEFA,EAAWxd,aAAe,CACxB4d,SAAS,GAEX,IAAIS,EAAe7B,EAAmB,SAElC2B,EAAe,SAAsB1X,GACvC,IAAIjsC,EAAMisC,EAAMjsC,IACZ1D,EAAW2vC,EAAM3vC,SACjBiqC,EAAY0F,EAAM1F,UAClB+c,EAAW5B,EAAyBzV,EAAO,CAAC,MAAO,WAAY,cAEnE,OAAO,gBAAoB4X,EAAa7lB,SAAU,MAAM,SAAU8lB,GAChE,OAAO,gBAAoBC,EAAkB,EAAS,GAAIT,EAAU,CAClE/c,UAAWA,EACXud,aAAcA,EACd9jD,IAAKA,EACL1D,SAAUA,SAMZ0nD,GAAgB,EAChBC,EAAoB,EAEpBF,EAAmB,SAAUG,GAG/B,SAASH,IACP,IAAII,EAAQC,EAEZzC,EAAgBtmD,KAAM0oD,GAEtB,IAAK,IAAIM,EAAQxpD,UAAUC,OAAQ6Y,EAAO3P,MAAMqgD,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAChF3wC,EAAK2wC,GAASzpD,UAAUypD,GAG1B,OAAgBH,EAAUC,EAASvC,EAA2BxmD,KAAM6oD,EAAkB/oD,KAAKC,MAAM8oD,EAAmB,CAAC7oD,MAAMqJ,OAAOiP,KAAkBywC,EAAOhnD,MAAQ,GAAIgnD,EAAON,aAAe,SAAU5uC,IAChMkvC,EAAOhnD,MAAMmnD,aAAervC,GAC/BA,EAAKsvC,SAEG3C,EAA2BuC,EAApCD,GAyFL,OAxGArC,EAAUiC,EAAkBG,GAkB5BH,EAAiBne,yBAA2B,SAAkCoY,EAAWzb,GAGvF,GAF+B,MAAjBA,EAAUviC,IAGtB,OAAO,EAAS,CACdukD,aAAa,GACZvG,GAEH,IAAIyG,EAAezG,EAAUh+C,MAAQuiC,EAAUviC,IAC3C0kD,EAAkBniB,EAAUjmC,SAASS,WAAaihD,EAAU1hD,SAASS,UAAYihD,EAAU1hD,SAASS,WAAaihD,EAAUh+C,IAC/H,OAAO,EAAS,CACdukD,YAAaE,GAAgBC,GAC5B1G,IAIP+F,EAAiB9oD,UAAUy2C,kBAAoB,WAC7CuS,IACA5oD,KAAKmpD,SAGPT,EAAiB9oD,UAAUiyC,qBAAuB,WAGtB,MAF1B+W,IAGED,GAAgB,IAIpBD,EAAiB9oD,UAAUmkC,mBAAqB,SAA4BC,EAAWkD,GACjFlD,EAAU/iC,WAAajB,KAAK4jC,MAAM3iC,UAAYjB,KAAK+B,MAAMmnD,aAC3DlpD,KAAKmpD,SAITT,EAAiB9oD,UAAUupD,MAAQ,WAQjC,IAAIV,EAAezoD,KAAK4jC,MAAM6kB,aAE1BA,EACFA,EAAazoD,KAAK6Z,MAEd8uC,EACFA,GAAgB,EACP3oD,KAAK6Z,OAGT7Z,KAAK6Z,KAAKpK,SAAStK,SAASmkD,gBAC/BtpD,KAAK6Z,KAAKsvC,UAMlBT,EAAiB9oD,UAAU8kC,OAAS,WAClC,IAAI6kB,EAASvpD,KAETwpD,EAAUxpD,KAAK4jC,MAEfqN,GADWuY,EAAQ7kB,SACX6kB,EAAQvY,OAEhBwY,GADeD,EAAQf,aACHe,EAAQte,WAC5Bwe,OAA6BvmD,IAAtBsmD,EAAkC,MAAQA,EAGjDxB,GAFMuB,EAAQ7kD,IACH6kD,EAAQvoD,SACRolD,EAAyBmD,EAAS,CAAC,WAAY,QAAS,eAAgB,YAAa,MAAO,cAE3G,OAAO,gBAAoBE,EAAM,EAAS,CACxCzY,MAAO,EAAS,CACd0Y,QAAS,QACR1Y,GACH2Y,SAAU,KACV3jB,IAAK,SAAaj3B,GAChB,OAAOu6C,EAAO1vC,KAAO7K,IAEtBi5C,GAAW,gBAAoBO,EAAa3lB,SAAU,CACvDj7B,MAAO5H,KAAKyoD,cACXzoD,KAAK4jC,MAAMe,YAGT+jB,EAzGc,CA0GrB,cAEF,OAASA,GAET,IAAIz0C,EAAI,aAGJkgC,EAAa,kBAES,IAAfA,IACTA,EAAa,SAAoB7kB,GAC/B,OAAOA,IAIX,IAAI+jB,EAAOc,GAAW,SAAU0V,EAAO5jB,GACrC,IAAIqM,EAAWuX,EAAMvX,SACjB1O,EAAQyiB,EAAyBwD,EAAO,CAAC,aAE7C,OAAO,gBAAoB7F,EAAYrhB,SAAU,MAAM,SAAUmnB,GAChDA,EAAM5F,SAArB,IACID,EAAU6F,EAAM7F,QACpB,OAAO,gBAAoB3T,EAAU,MAAM,SAAUyZ,GACnD,IAAI9oD,EAAW8oD,EAAM9oD,SACjB+B,EAAW+mD,EAAM/mD,SAEjBC,EAAK2gC,EAAM3gC,GACXlB,EAAQ6hC,EAAM7hC,MACdsB,EAAUugC,EAAMvgC,QAChB2mD,EAAkBpmB,EAAMkP,SACxBA,OAA+B3vC,IAApB6mD,EAAgC/1C,EAAI+1C,EAC/CC,EAAc5D,EAAyBziB,EAAO,CAAC,KAAM,QAAS,UAAW,aAEzExiC,EAAOqE,EAAQxC,EAAIghD,GACnBiG,EAAcroD,UAAUT,GACxB0vC,EAAY7vC,EAASS,WAAawoD,EAClCrZ,EAAqBjrC,EAAW3E,EAASS,SAAUwoD,GACvD,OAAO,gBAAoB,IAAK,EAAS,CACvCjkB,IAAKA,GAAOqM,EACZ,eAAgBxB,EAAY,YAAS3tC,GACpC8mD,EAAanX,EAAS,CACvBhC,UAAWA,EACXD,mBAAoBA,EACpBzvC,KAAMA,EACNH,SAAUA,IACR,CACFG,KAAMA,EACN4xC,QAAS,SAAiB13B,GAGxB,GAFI2uC,EAAYjX,SAASiX,EAAYjX,QAAQ13B,GAEzC6uC,GAAe7uC,GAAQ,CACzBA,EAAMu4B,iBACN,IAAIC,EAAgBzwC,EAEpB,GAAuB,kBAAZA,GAAyBytC,EAAW,CAC7C,IAAIsZ,EAAkB,EAAS,GAAInpD,EAASc,OAExCsoD,GADMD,EAAgBzqD,IACV0mD,EAAyB+D,EAAiB,CAAC,SF1N5BngD,EE4NA,EAAS,GAAIlI,GF5NPmI,EE4NemgD,EAApDvW,GF3NR3pC,EAAW/K,OAAOqB,KAAKwJ,IACXxK,SAAWL,OAAOqB,KAAKyJ,GAAMzK,QAAU0K,EAASC,OAAM,SAAUzK,GAC9E,OAAOuK,EAAKrK,eAAeF,IAAQsK,EAAKtK,KAASuK,EAAKvK,ME4N9CqD,EAAS5B,EAAM,CACbW,MAAOA,EACPsB,QAASywC,IFjOF,IAAwB7pC,EAAMC,EAC7CC,eE2ON,SAASmgD,EAAgB3lD,GACvB3E,KAAK2E,IAAMA,EAJb0uC,EAAKjJ,YAAc,OAOnB,IAAIid,EAAa,SAAoBzmD,GACnC,OAAOA,aAAa0pD,GAGlBC,EAAa,SAAoBtnD,GACnC,MAAM,IAAIqnD,EAAgBrnD,IAGxBunD,EAAe,SAAUC,GAG3B,SAASD,IAGP,OAFAlE,EAAgBtmD,KAAMwqD,GAEfhE,EAA2BxmD,KAAMyqD,EAAkB1qD,MAAMC,KAAMR,YAyCxE,OA9CAinD,EAAU+D,EAAcC,GASxBD,EAAa5qD,UAAUy2C,kBAAoB,WACzC,IAAIqU,EAAU1qD,KAAK4jC,MACf5gC,EAAW0nD,EAAQ1nD,SACnBC,EAAKynD,EAAQznD,GAEb0nD,GADOD,EAAQ1gD,KACG0gD,EAAQrnD,SAC1BA,OAA8BF,IAApBwnD,GAAuCA,EACjD5oD,EAAQ2oD,EAAQ3oD,MAEhBkiD,GADUyG,EAAQE,QACRF,EAAQzG,SAClBrgB,EAAQyiB,EAAyBqE,EAAS,CAAC,WAAY,KAAM,OAAQ,UAAW,QAAS,UAAW,YAExG7mD,QAAQ4B,UAAUoN,MAAK,WACrB,IAAIg4C,EAAaplD,EAAQxC,EAAIghD,GAC7BjhD,EAASwC,EAAaqlD,EAAYjnB,GAAQ,CACxCvgC,QAASA,EACTtB,MAAOA,QAKbyoD,EAAa5qD,UAAU8kC,OAAS,WAC9B,IAAIomB,EAAU9qD,KAAK4jC,MAEf3gC,GADW6nD,EAAQ9nD,SACd8nD,EAAQ7nD,IAIb2nD,GAHOE,EAAQ9gD,KACL8gD,EAAQznD,QACVynD,EAAQ/oD,MACN+oD,EAAQF,SAClB3G,EAAU6G,EAAQ7G,QAClBrgB,EAAQyiB,EAAyByE,EAAS,CAAC,WAAY,KAAM,OAAQ,UAAW,QAAS,UAAW,YAEpGD,EAAaplD,EAAQxC,EAAIghD,GAE7B,OADK2G,GAASL,EAAW/kD,EAAaqlD,EAAYjnB,IAC3C,MAGF4mB,EA/CU,CAgDjB,aAEEO,EAAW,SAAkBnnB,GAC/B,OAAO,gBAAoBogB,EAAYrhB,SAAU,MAAM,SAAUqoB,GAC/D,IAAI/G,EAAU+G,EAAM/G,QACpB,OAAO,gBAAoB3T,EAAU,MAAM,SAAUoX,GACnD,OAAO,gBAAoB8C,EAAc,EAAS,GAAI9C,EAAiB,CACrEzD,QAASA,GACRrgB,WAOLqnB,EAAQ,SAAeC,GACzB,IAAIpkD,EAAOokD,EAAMpkD,KACb69B,EAAWumB,EAAMvmB,SACrB,OAAO,gBAAoBqf,EAAYrhB,SAAU,MAAM,SAAUwoB,GAC/D,IAAIlH,EAAUkH,EAAMlH,QACpB,OAAO,gBAAoB3T,EAAU,MAAM,SAAU8a,GACnD,IAAIpoD,EAAWooD,EAAOpoD,SAClB/B,EAAWmqD,EAAOnqD,SAClBoqD,EAAe5lD,EAAQqB,EAAMm9C,GAC7B/nC,EAASxW,EAAM2lD,EAAcpqD,EAASS,UAC1C,OAAOijC,EAAS,CACd3hC,SAAUA,EACV/B,SAAUA,EACVyE,MAAOwW,EAAS,EAAS,GAAIA,EAAOtV,OAAQ,CAC1CjC,IAAKuX,EAAOvX,IACZmC,KAAMA,IACH,cAQTowC,GAAc,WAChB,IAAI16B,GAAU,IAAA8pB,YAAWugB,GAEzB,IAAKrqC,EACH,MAAM,IAAI5P,MAAM,8JAGlB,OAAO4P,EAAQvb,UAGbqqD,GAAc,WAChB,IAAI9uC,GAAU,IAAA8pB,YAAW0d,GAEzB,IAAKxnC,EACH,MAAM,IAAI5P,MAAM,0JAGlB,OAAO4P,EAAQxZ,UAGbuoD,GAAY,WACd,IAAI/uC,GAAU,IAAA8pB,YAAW0d,GAEzB,IAAKxnC,EACH,MAAM,IAAI5P,MAAM,4JAGlB,IAAI3L,EAAWi2C,KACXc,EAAUtyC,EAAM8W,EAAQ0nC,SAAUjjD,EAASS,UAC/C,OAAOs2C,EAAUA,EAAQpxC,OAAS,MAGhC4kD,GAAW,SAAkB1kD,GAC/B,IAAKA,EACH,MAAM,IAAI8F,MAAM,4EAGlB,IAAI4P,GAAU,IAAA8pB,YAAW0d,GAEzB,IAAKxnC,EACH,MAAM,IAAI5P,MAAM,2JAGlB,IAAI3L,EAAWi2C,KACXmU,EAAe5lD,EAAQqB,EAAM0V,EAAQynC,SACrC/nC,EAASxW,EAAM2lD,EAAcpqD,EAASS,UAC1C,OAAOwa,EAAS,EAAS,GAAIA,EAAOtV,OAAQ,CAC1CjC,IAAKuX,EAAOvX,IACZmC,KAAMA,IACH,MAKH2kD,GAAe,SAAsB3e,GACvC,OAAOA,EAAIzpC,QAAQ,eAAgB,KAGjC8kD,GAAc,SAASA,EAAYjE,GACrC,OAAO,SAAUxN,GACf,IAAKA,EACH,OAAO,KAGT,GAAIA,EAAQn+B,OAAS,YAAkBm+B,EAAQ9S,MAAMe,SACnD,OAAO,eAAmB+R,EAAQ9S,MAAMe,SAAUwjB,EAAYjE,IFzd7C,IAA0Bl6C,EAAM/G,EACjDH,EE+dF,GAJE4zC,EAAQ9S,MAAM98B,MAAQ4vC,EAAQ9S,MAAM79B,SAAW2wC,EAAQn+B,OAASwyC,GAAuN,KAAU,GAChSrU,EAAQn+B,OAASwyC,GAAcrU,EAAQ9S,MAAM55B,MAAS0sC,EAAQ9S,MAAM3gC,IAAqN,KAAU,GACnSyzC,EAAQn+B,OAASwyC,IF9dyB/gD,EE8dK0sC,EAAQ9S,MAAM55B,KF9db/G,EE8dmByzC,EAAQ9S,MAAM3gC,GF7dlFH,EAAS,SAAgBgF,GAC3B,OAAOD,EAAUC,IAGFzB,EAAW2D,GAAMlH,OAAOA,GAAQuF,OAAOd,KAAK,OAC9ClB,EAAWpD,GAAIH,OAAOA,GAAQuF,OAAOd,KAAK,OEwdyQ,KAAU,GAEtUmvC,EAAQ9S,MAAM79B,QAChB,MAAO,CACL6B,MAAO8uC,EACP3wC,SAAS,GAIb,IAAI2lD,EAAchV,EAAQn+B,OAASwyC,EAAWrU,EAAQ9S,MAAM55B,KAAO0sC,EAAQ9S,MAAM98B,KAC7EA,EAAuB,MAAhB4kD,EAAsBxH,EAAWuH,GAAavH,GAAY,IAAMuH,GAAaC,GACxF,MAAO,CACL9jD,MAAO8uC,EACP3wC,QAAS2wC,EAAQ9S,MAAM79B,QACvBe,KAAM4vC,EAAQ9S,MAAMe,SAAW8mB,GAAa3kD,GAAQ,KAAOA,KAK7DqjD,GAAiB,SAAwB7uC,GAC3C,OAAQA,EAAMk4B,kBAAqC,IAAjBl4B,EAAMi4B,UAAkBj4B,EAAMm4B,SAAWn4B,EAAMo4B,QAAUp4B,EAAMq4B,SAAWr4B,EAAMs4B,0CC/oBpH90C,EAAOC,QA5BS,SAAS4sD,EAAW/0C,EAAQtO,EAAGC,EAAG2jB,EAAGhhB,EAAGvH,EAAGof,GAOzD,IAAK4oC,EAAW,CACd,IAAI/9C,EACJ,QAAezK,IAAXyT,EACFhJ,EAAQ,IAAIhB,MACV,qIAGG,CACL,IAAI0L,EAAO,CAAChQ,EAAGC,EAAG2jB,EAAGhhB,EAAGvH,EAAGof,GACvB6oC,EAAW,GACfh+C,EAAQ,IAAIhB,MACVgK,EAAOvT,QAAQ,OAAO,WAAa,OAAOiV,EAAKszC,UAE3CpnD,KAAO,sBAIf,MADAoJ,EAAMi+C,YAAc,EACdj+C,sCC5CK,SAASjN,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBvB,OAAOa,gBAAkB,SAAyBW,EAAGC,GAErE,OADAD,EAAEE,UAAYD,EACPD,GAGFD,EAAgBC,EAAGC,GCLb,SAASirD,EAAe5rD,EAAUC,GAC/CD,EAASN,UAAYR,OAAOgB,OAAOD,EAAWP,WAC9CM,EAASN,UAAUS,YAAcH,EACjC,EAAeA,EAAUC","sources":["webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/extends.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://my-gatsby-site/./node_modules/@gatsbyjs/reach-router/lib/history.js","webpack://my-gatsby-site/./node_modules/@gatsbyjs/reach-router/lib/utils.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/backoffController.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserDatafileManager.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/browserRequest.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/config.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/eventEmitter.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/httpPollingDatafileManager.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/lib/index.browser.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/@optimizely/js-sdk-logging/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/@optimizely/js-sdk-logging/lib/logger.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/@optimizely/js-sdk-logging/lib/models.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/@optimizely/js-sdk-utils/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/uuid/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/uuid/lib/bytesToUuid.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/uuid/lib/rng-browser.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/uuid/v1.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-datafile-manager/node_modules/uuid/v4.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/eventDispatcher.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/eventProcessor.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/eventQueue.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/events.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/managed.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsDispatcher.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/pendingEventsStore.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/requestTracker.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/v1/buildEventV1.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/lib/v1/v1EventProcessor.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/@optimizely/js-sdk-logging/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/@optimizely/js-sdk-logging/lib/logger.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/@optimizely/js-sdk-logging/lib/models.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/@optimizely/js-sdk-utils/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/uuid/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/uuid/lib/bytesToUuid.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/uuid/lib/rng-browser.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/uuid/v1.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-event-processor/node_modules/uuid/v4.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-logging/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-logging/lib/logger.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-logging/lib/models.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/node_modules/uuid/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/node_modules/uuid/lib/bytesToUuid.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/node_modules/uuid/lib/rng-browser.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/node_modules/uuid/v1.js","webpack://my-gatsby-site/./node_modules/@optimizely/js-sdk-utils/node_modules/uuid/v4.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/dist/optimizely.browser.min.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/@optimizely/js-sdk-logging/lib/errorHandler.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/@optimizely/js-sdk-logging/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/@optimizely/js-sdk-logging/lib/logger.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/@optimizely/js-sdk-logging/lib/models.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/@optimizely/js-sdk-utils/lib/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/uuid/index.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/uuid/lib/bytesToUuid.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/uuid/lib/rng-browser.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/uuid/v1.js","webpack://my-gatsby-site/./node_modules/@optimizely/optimizely-sdk/node_modules/uuid/v4.js","webpack://my-gatsby-site/./node_modules/@optimizely/react-sdk/dist/react-sdk.js","webpack://my-gatsby-site/./node_modules/gatsby/dist/internal-plugins/bundle-optimisations/polyfills/object-assign.js","webpack://my-gatsby-site/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://my-gatsby-site/./node_modules/murmurhash/murmurhash.js","webpack://my-gatsby-site/./node_modules/react-is/cjs/react-is.production.min.js","webpack://my-gatsby-site/./node_modules/react-is/index.js","webpack://my-gatsby-site/./node_modules/gatsby-link/index.js","webpack://my-gatsby-site/./node_modules/gatsby-link/parse-path.js","webpack://my-gatsby-site/./node_modules/gatsby-react-router-scroll/index.js","webpack://my-gatsby-site/./node_modules/gatsby-react-router-scroll/scroll-handler.js","webpack://my-gatsby-site/./node_modules/gatsby-react-router-scroll/session-storage.js","webpack://my-gatsby-site/./node_modules/gatsby-react-router-scroll/use-scroll-restoration.js","webpack://my-gatsby-site/./.cache/_this_is_virtual_fs_path_/$virtual/async-requires.js","webpack://my-gatsby-site/./.cache/api-runner-browser-plugins.js","webpack://my-gatsby-site/./.cache/api-runner-browser.js","webpack://my-gatsby-site/./node_modules/mitt/dist/mitt.es.js","webpack://my-gatsby-site/./.cache/emitter.js","webpack://my-gatsby-site/./.cache/normalize-page-path.js","webpack://my-gatsby-site/./.cache/find-path.js","webpack://my-gatsby-site/./.cache/gatsby-browser-entry.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://my-gatsby-site/./.cache/prefetch.js","webpack://my-gatsby-site/./.cache/loader.js","webpack://my-gatsby-site/./.cache/page-renderer.js","webpack://my-gatsby-site/./.cache/route-announcer-props.js","webpack://my-gatsby-site/./.cache/navigation.js","webpack://my-gatsby-site/./node_modules/shallow-compare/es/index.js","webpack://my-gatsby-site/./.cache/ensure-resources.js","webpack://my-gatsby-site/./.cache/production-app.js","webpack://my-gatsby-site/./.cache/public-page-renderer-prod.js","webpack://my-gatsby-site/./.cache/public-page-renderer.js","webpack://my-gatsby-site/./.cache/react-lifecycles-compat.js","webpack://my-gatsby-site/./.cache/redirect-utils.js","webpack://my-gatsby-site/./.cache/register-service-worker.js","webpack://my-gatsby-site/./.cache/strip-prefix.js","webpack://my-gatsby-site/./src/mockDatafile.js","webpack://my-gatsby-site/./src/pageWrapper.jsx","webpack://my-gatsby-site/./gatsby-browser.js","webpack://my-gatsby-site/./node_modules/@gatsbyjs/reach-router/es/lib/utils.js","webpack://my-gatsby-site/./node_modules/@gatsbyjs/reach-router/es/lib/history.js","webpack://my-gatsby-site/./node_modules/@gatsbyjs/reach-router/es/index.js","webpack://my-gatsby-site/./node_modules/invariant/browser.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://my-gatsby-site/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"],"sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inheritsLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar getLocation = function getLocation(source) {\n  var _source$location = source.location,\n      search = _source$location.search,\n      hash = _source$location.hash,\n      href = _source$location.href,\n      origin = _source$location.origin,\n      protocol = _source$location.protocol,\n      host = _source$location.host,\n      hostname = _source$location.hostname,\n      port = _source$location.port;\n  var pathname = source.location.pathname;\n\n  if (!pathname && href && canUseDOM) {\n    var url = new URL(href);\n    pathname = url.pathname;\n  }\n\n  return {\n    pathname: encodeURI(decodeURI(pathname)),\n    search: search,\n    hash: hash,\n    href: href,\n    origin: origin,\n    protocol: protocol,\n    host: host,\n    hostname: hostname,\n    port: port,\n    state: source.history.state,\n    key: source.history.state && source.history.state.key || \"initial\"\n  };\n};\n\nvar createHistory = function createHistory(source, options) {\n  var listeners = [];\n  var location = getLocation(source);\n  var transitioning = false;\n\n  var resolveTransition = function resolveTransition() {};\n\n  return {\n    get location() {\n      return location;\n    },\n\n    get transitioning() {\n      return transitioning;\n    },\n\n    _onTransitionComplete: function _onTransitionComplete() {\n      transitioning = false;\n      resolveTransition();\n    },\n    listen: function listen(listener) {\n      listeners.push(listener);\n\n      var popstateListener = function popstateListener() {\n        location = getLocation(source);\n        listener({\n          location: location,\n          action: \"POP\"\n        });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n      return function () {\n        source.removeEventListener(\"popstate\", popstateListener);\n        listeners = listeners.filter(function (fn) {\n          return fn !== listener;\n        });\n      };\n    },\n    navigate: function navigate(to) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          state = _ref.state,\n          _ref$replace = _ref.replace,\n          replace = _ref$replace === undefined ? false : _ref$replace;\n\n      if (typeof to === \"number\") {\n        source.history.go(to);\n      } else {\n        state = _extends({}, state, {\n          key: Date.now() + \"\"\n        }); // try...catch iOS Safari limits to 100 pushState calls\n\n        try {\n          if (transitioning || replace) {\n            source.history.replaceState(state, null, to);\n          } else {\n            source.history.pushState(state, null, to);\n          }\n        } catch (e) {\n          source.location[replace ? \"replace\" : \"assign\"](to);\n        }\n      }\n\n      location = getLocation(source);\n      transitioning = true;\n      var transition = new Promise(function (res) {\n        return resolveTransition = res;\n      });\n      listeners.forEach(function (listener) {\n        return listener({\n          location: location,\n          action: \"PUSH\"\n        });\n      });\n      return transition;\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// Stores history entries in memory for testing or other platforms like Native\n\n\nvar createMemorySource = function createMemorySource() {\n  var initialPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var searchIndex = initialPath.indexOf(\"?\");\n  var initialLocation = {\n    pathname: searchIndex > -1 ? initialPath.substr(0, searchIndex) : initialPath,\n    search: searchIndex > -1 ? initialPath.substr(searchIndex) : \"\"\n  };\n  var index = 0;\n  var stack = [initialLocation];\n  var states = [null];\n  return {\n    get location() {\n      return stack[index];\n    },\n\n    addEventListener: function addEventListener(name, fn) {},\n    removeEventListener: function removeEventListener(name, fn) {},\n    history: {\n      get entries() {\n        return stack;\n      },\n\n      get index() {\n        return index;\n      },\n\n      get state() {\n        return states[index];\n      },\n\n      pushState: function pushState(state, _, uri) {\n        var _uri$split = uri.split(\"?\"),\n            pathname = _uri$split[0],\n            _uri$split$ = _uri$split[1],\n            search = _uri$split$ === undefined ? \"\" : _uri$split$;\n\n        index++;\n        stack.push({\n          pathname: pathname,\n          search: search.length ? \"?\" + search : search\n        });\n        states.push(state);\n      },\n      replaceState: function replaceState(state, _, uri) {\n        var _uri$split2 = uri.split(\"?\"),\n            pathname = _uri$split2[0],\n            _uri$split2$ = _uri$split2[1],\n            search = _uri$split2$ === undefined ? \"\" : _uri$split2$;\n\n        stack[index] = {\n          pathname: pathname,\n          search: search\n        };\n        states[index] = state;\n      },\n      go: function go(to) {\n        var newIndex = index + to;\n\n        if (newIndex < 0 || newIndex > states.length - 1) {\n          return;\n        }\n\n        index = newIndex;\n      }\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// global history - uses window.history as the source if available, otherwise a\n// memory history\n\n\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n\nvar getSource = function getSource() {\n  return canUseDOM ? window : createMemorySource();\n};\n\nvar globalHistory = createHistory(getSource());\nvar navigate = globalHistory.navigate; ////////////////////////////////////////////////////////////////////////////////\n\nexports.globalHistory = globalHistory;\nexports.navigate = navigate;\nexports.createHistory = createHistory;\nexports.createMemorySource = createMemorySource;","\"use strict\";\n\nexports.__esModule = true;\nexports.shallowCompare = exports.validateRedirect = exports.insertParams = exports.resolve = exports.match = exports.pick = exports.startsWith = undefined;\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// startsWith(string, search) - Check if `string` starts with `search`\n\n\nvar startsWith = function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n}; ////////////////////////////////////////////////////////////////////////////////\n// pick(routes, uri)\n//\n// Ranks and picks the best route to match. Each segment gets the highest\n// amount of points, then the type of segment gets an additional amount of\n// points where\n//\n//     static > dynamic > splat > root\n//\n// This way we don't have to worry about the order of our routes, let the\n// computers do it.\n//\n// A route looks like this\n//\n//     { path, default, value }\n//\n// And a returned match looks like:\n//\n//     { route, params, uri }\n//\n// I know, I should use TypeScript not comments for these types.\n\n\nvar pick = function pick(routes, uri) {\n  var match = void 0;\n  var default_ = void 0;\n\n  var _uri$split = uri.split(\"?\"),\n      uriPathname = _uri$split[0];\n\n  var uriSegments = segmentize(uriPathname);\n  var isRootUri = uriSegments[0] === \"\";\n  var ranked = rankRoutes(routes);\n\n  for (var i = 0, l = ranked.length; i < l; i++) {\n    var missed = false;\n    var route = ranked[i].route;\n\n    if (route.default) {\n      default_ = {\n        route: route,\n        params: {},\n        uri: uri\n      };\n      continue;\n    }\n\n    var routeSegments = segmentize(route.path);\n    var params = {};\n    var max = Math.max(uriSegments.length, routeSegments.length);\n    var index = 0;\n\n    for (; index < max; index++) {\n      var routeSegment = routeSegments[index];\n      var uriSegment = uriSegments[index];\n\n      if (isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/*\n        var param = routeSegment.slice(1) || \"*\";\n        params[param] = uriSegments.slice(index).map(decodeURIComponent).join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      var dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        var matchIsNotReserved = reservedNames.indexOf(dynamicMatch[1]) === -1;\n        !matchIsNotReserved ? process.env.NODE_ENV !== \"production\" ? (0, _invariant2.default)(false, \"<Router> dynamic segment \\\"\" + dynamicMatch[1] + \"\\\" is a reserved name. Please use a different name in path \\\"\" + route.path + \"\\\".\") : (0, _invariant2.default)(false) : void 0;\n        var value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route: route,\n        params: params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n}; ////////////////////////////////////////////////////////////////////////////////\n// match(path, uri) - Matches just one path to a uri, also lol\n\n\nvar match = function match(path, uri) {\n  return pick([{\n    path: path\n  }], uri);\n}; ////////////////////////////////////////////////////////////////////////////////\n// resolve(to, basepath)\n//\n// Resolves URIs as though every path is a directory, no files.  Relative URIs\n// in the browser can feel awkward because not only can you be \"in a directory\"\n// you can be \"at a file\", too. For example\n//\n//     browserSpecResolve('foo', '/bar/') => /bar/foo\n//     browserSpecResolve('foo', '/bar') => /foo\n//\n// But on the command line of a file system, it's not as complicated, you can't\n// `cd` from a file, only directories.  This way, links have to know less about\n// their current path. To go deeper you can do this:\n//\n//     <Link to=\"deeper\"/>\n//     // instead of\n//     <Link to=`{${props.uri}/deeper}`/>\n//\n// Just like `cd`, if you want to go deeper from the command line, you do this:\n//\n//     cd deeper\n//     # not\n//     cd $(pwd)/deeper\n//\n// By treating every path as a directory, linking to relative paths should\n// require less contextual information and (fingers crossed) be more intuitive.\n\n\nvar resolve = function resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  var _to$split = to.split(\"?\"),\n      toPathname = _to$split[0],\n      toQuery = _to$split[1];\n\n  var _base$split = base.split(\"?\"),\n      basePathname = _base$split[0];\n\n  var toSegments = segmentize(toPathname);\n  var baseSegments = segmentize(basePathname); // ?a=b, /users?b=c => /users?a=b\n\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  } // profile, /users/789 => /users/789/profile\n\n\n  if (!startsWith(toSegments[0], \".\")) {\n    var pathname = baseSegments.concat(toSegments).join(\"/\");\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  } // ./         /users/123  =>  /users/123\n  // ../        /users/123  =>  /users\n  // ../..      /users/123  =>  /\n  // ../../one  /a/b/c/d    =>  /a/b/one\n  // .././one   /a/b/c/d    =>  /a/b/c/one\n\n\n  var allSegments = baseSegments.concat(toSegments);\n  var segments = [];\n\n  for (var i = 0, l = allSegments.length; i < l; i++) {\n    var segment = allSegments[i];\n    if (segment === \"..\") segments.pop();else if (segment !== \".\") segments.push(segment);\n  }\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n}; ////////////////////////////////////////////////////////////////////////////////\n// insertParams(path, params)\n\n\nvar insertParams = function insertParams(path, params) {\n  var _path$split = path.split(\"?\"),\n      pathBase = _path$split[0],\n      _path$split$ = _path$split[1],\n      query = _path$split$ === undefined ? \"\" : _path$split$;\n\n  var segments = segmentize(pathBase);\n  var constructedPath = \"/\" + segments.map(function (segment) {\n    var match = paramRe.exec(segment);\n    return match ? params[match[1]] : segment;\n  }).join(\"/\");\n  var _params$location = params.location;\n  _params$location = _params$location === undefined ? {} : _params$location;\n  var _params$location$sear = _params$location.search,\n      search = _params$location$sear === undefined ? \"\" : _params$location$sear;\n  var searchSplit = search.split(\"?\")[1] || \"\";\n  constructedPath = addQuery(constructedPath, query, searchSplit);\n  return constructedPath;\n};\n\nvar validateRedirect = function validateRedirect(from, to) {\n  var filter = function filter(segment) {\n    return isDynamic(segment);\n  };\n\n  var fromString = segmentize(from).filter(filter).sort().join(\"/\");\n  var toString = segmentize(to).filter(filter).sort().join(\"/\");\n  return fromString === toString;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Junk\n\n\nvar paramRe = /^:(.+)/;\nvar SEGMENT_POINTS = 4;\nvar STATIC_POINTS = 3;\nvar DYNAMIC_POINTS = 2;\nvar SPLAT_PENALTY = 1;\nvar ROOT_POINTS = 1;\n\nvar isRootSegment = function isRootSegment(segment) {\n  return segment === \"\";\n};\n\nvar isDynamic = function isDynamic(segment) {\n  return paramRe.test(segment);\n};\n\nvar isSplat = function isSplat(segment) {\n  return segment && segment[0] === \"*\";\n};\n\nvar rankRoute = function rankRoute(route, index) {\n  var score = route.default ? 0 : segmentize(route.path).reduce(function (score, segment) {\n    score += SEGMENT_POINTS;\n    if (isRootSegment(segment)) score += ROOT_POINTS;else if (isDynamic(segment)) score += DYNAMIC_POINTS;else if (isSplat(segment)) score -= SEGMENT_POINTS + SPLAT_PENALTY;else score += STATIC_POINTS;\n    return score;\n  }, 0);\n  return {\n    route: route,\n    score: score,\n    index: index\n  };\n};\n\nvar rankRoutes = function rankRoutes(routes) {\n  return routes.map(rankRoute).sort(function (a, b) {\n    return a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index;\n  });\n};\n\nvar segmentize = function segmentize(uri) {\n  return uri // strip starting/ending slashes\n  .replace(/(^\\/+|\\/+$)/g, \"\").split(\"/\");\n};\n\nvar addQuery = function addQuery(pathname) {\n  for (var _len = arguments.length, query = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    query[_key - 1] = arguments[_key];\n  }\n\n  query = query.filter(function (q) {\n    return q && q.length > 0;\n  });\n  return pathname + (query && query.length > 0 ? \"?\" + query.join(\"&\") : \"\");\n};\n\nvar reservedNames = [\"uri\", \"path\"];\n/**\n * Shallow compares two objects.\n * @param {Object} obj1 The first object to compare.\n * @param {Object} obj2 The second object to compare.\n */\n\nvar shallowCompare = function shallowCompare(obj1, obj2) {\n  var obj1Keys = Object.keys(obj1);\n  return obj1Keys.length === Object.keys(obj2).length && obj1Keys.every(function (key) {\n    return obj2.hasOwnProperty(key) && obj1[key] === obj2[key];\n  });\n}; ////////////////////////////////////////////////////////////////////////////////\n\n\nexports.startsWith = startsWith;\nexports.pick = pick;\nexports.match = match;\nexports.resolve = resolve;\nexports.insertParams = insertParams;\nexports.validateRedirect = validateRedirect;\nexports.shallowCompare = shallowCompare;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar config_1 = require(\"./config\");\n\nfunction randomMilliseconds() {\n  return Math.round(Math.random() * 1000);\n}\n\nvar BackoffController =\n/** @class */\nfunction () {\n  function BackoffController() {\n    this.errorCount = 0;\n  }\n\n  BackoffController.prototype.getDelay = function () {\n    if (this.errorCount === 0) {\n      return 0;\n    }\n\n    var baseWaitSeconds = config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length - 1, this.errorCount)];\n    return baseWaitSeconds * 1000 + randomMilliseconds();\n  };\n\n  BackoffController.prototype.countError = function () {\n    if (this.errorCount < config_1.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length - 1) {\n      this.errorCount++;\n    }\n  };\n\n  BackoffController.prototype.reset = function () {\n    this.errorCount = 0;\n  };\n\n  return BackoffController;\n}();\n\nexports.default = BackoffController;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar browserRequest_1 = require(\"./browserRequest\");\n\nvar httpPollingDatafileManager_1 = __importDefault(require(\"./httpPollingDatafileManager\"));\n\nvar BrowserDatafileManager =\n/** @class */\nfunction (_super) {\n  __extends(BrowserDatafileManager, _super);\n\n  function BrowserDatafileManager() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  BrowserDatafileManager.prototype.makeGetRequest = function (reqUrl, headers) {\n    return browserRequest_1.makeGetRequest(reqUrl, headers);\n  };\n\n  BrowserDatafileManager.prototype.getConfigDefaults = function () {\n    return {\n      autoUpdate: false\n    };\n  };\n\n  return BrowserDatafileManager;\n}(httpPollingDatafileManager_1.default);\n\nexports.default = BrowserDatafileManager;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar config_1 = require(\"./config\");\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar logger = js_sdk_logging_1.getLogger('DatafileManager');\nvar GET_METHOD = 'GET';\nvar READY_STATE_DONE = 4;\n\nfunction parseHeadersFromXhr(req) {\n  var allHeadersString = req.getAllResponseHeaders();\n\n  if (allHeadersString === null) {\n    return {};\n  }\n\n  var headerLines = allHeadersString.split('\\r\\n');\n  var headers = {};\n  headerLines.forEach(function (headerLine) {\n    var separatorIndex = headerLine.indexOf(': ');\n\n    if (separatorIndex > -1) {\n      var headerName = headerLine.slice(0, separatorIndex);\n      var headerValue = headerLine.slice(separatorIndex + 2);\n\n      if (headerValue.length > 0) {\n        headers[headerName] = headerValue;\n      }\n    }\n  });\n  return headers;\n}\n\nfunction setHeadersInXhr(headers, req) {\n  Object.keys(headers).forEach(function (headerName) {\n    var header = headers[headerName];\n    req.setRequestHeader(headerName, header);\n  });\n}\n\nfunction makeGetRequest(reqUrl, headers) {\n  var req = new XMLHttpRequest();\n  var responsePromise = new Promise(function (resolve, reject) {\n    req.open(GET_METHOD, reqUrl, true);\n    setHeadersInXhr(headers, req);\n\n    req.onreadystatechange = function () {\n      if (req.readyState === READY_STATE_DONE) {\n        var statusCode = req.status;\n\n        if (statusCode === 0) {\n          reject(new Error('Request error'));\n          return;\n        }\n\n        var headers_1 = parseHeadersFromXhr(req);\n        var resp = {\n          statusCode: req.status,\n          body: req.responseText,\n          headers: headers_1\n        };\n        resolve(resp);\n      }\n    };\n\n    req.timeout = config_1.REQUEST_TIMEOUT_MS;\n\n    req.ontimeout = function () {\n      logger.error('Request timed out');\n    };\n\n    req.send();\n  });\n  return {\n    responsePromise: responsePromise,\n    abort: function abort() {\n      req.abort();\n    }\n  };\n}\n\nexports.makeGetRequest = makeGetRequest;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_UPDATE_INTERVAL = 5 * 60 * 1000; // 5 minutes\n\nexports.MIN_UPDATE_INTERVAL = 1000;\nexports.DEFAULT_URL_TEMPLATE = \"https://cdn.optimizely.com/datafiles/%s.json\";\nexports.DEFAULT_AUTHENTICATED_URL_TEMPLATE = \"https://config.optimizely.com/datafiles/auth/%s.json\";\nexports.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT = [0, 8, 16, 32, 64, 128, 256, 512];\nexports.REQUEST_TIMEOUT_MS = 60 * 1000; // 1 minute","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this.listeners = {};\n    this.listenerId = 1;\n  }\n\n  EventEmitter.prototype.on = function (eventName, listener) {\n    var _this = this;\n\n    if (!this.listeners[eventName]) {\n      this.listeners[eventName] = {};\n    }\n\n    var currentListenerId = String(this.listenerId);\n    this.listenerId++;\n    this.listeners[eventName][currentListenerId] = listener;\n    return function () {\n      if (_this.listeners[eventName]) {\n        delete _this.listeners[eventName][currentListenerId];\n      }\n    };\n  };\n\n  EventEmitter.prototype.emit = function (eventName, arg) {\n    var listeners = this.listeners[eventName];\n\n    if (listeners) {\n      Object.keys(listeners).forEach(function (listenerId) {\n        var listener = listeners[listenerId];\n        listener(arg);\n      });\n    }\n  };\n\n  EventEmitter.prototype.removeAllListeners = function () {\n    this.listeners = {};\n  };\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter; // TODO: Create a typed event emitter for use in TS only (not JS)","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar eventEmitter_1 = __importDefault(require(\"./eventEmitter\"));\n\nvar config_1 = require(\"./config\");\n\nvar backoffController_1 = __importDefault(require(\"./backoffController\"));\n\nvar logger = js_sdk_logging_1.getLogger('DatafileManager');\nvar UPDATE_EVT = 'update';\n\nfunction isValidUpdateInterval(updateInterval) {\n  return updateInterval >= config_1.MIN_UPDATE_INTERVAL;\n}\n\nfunction isSuccessStatusCode(statusCode) {\n  return statusCode >= 200 && statusCode < 400;\n}\n\nvar noOpKeyValueCache = {\n  get: function get() {\n    return Promise.resolve('');\n  },\n  set: function set() {\n    return Promise.resolve();\n  },\n  contains: function contains() {\n    return Promise.resolve(false);\n  },\n  remove: function remove() {\n    return Promise.resolve();\n  }\n};\n\nvar HttpPollingDatafileManager =\n/** @class */\nfunction () {\n  function HttpPollingDatafileManager(config) {\n    var _this = this;\n\n    var configWithDefaultsApplied = __assign(__assign({}, this.getConfigDefaults()), config);\n\n    var datafile = configWithDefaultsApplied.datafile,\n        _a = configWithDefaultsApplied.autoUpdate,\n        autoUpdate = _a === void 0 ? false : _a,\n        sdkKey = configWithDefaultsApplied.sdkKey,\n        _b = configWithDefaultsApplied.updateInterval,\n        updateInterval = _b === void 0 ? config_1.DEFAULT_UPDATE_INTERVAL : _b,\n        _c = configWithDefaultsApplied.urlTemplate,\n        urlTemplate = _c === void 0 ? config_1.DEFAULT_URL_TEMPLATE : _c,\n        _d = configWithDefaultsApplied.cache,\n        cache = _d === void 0 ? noOpKeyValueCache : _d;\n    this.cache = cache;\n    this.cacheKey = 'opt-datafile-' + sdkKey;\n    this.isReadyPromiseSettled = false;\n\n    this.readyPromiseResolver = function () {};\n\n    this.readyPromiseRejecter = function () {};\n\n    this.readyPromise = new Promise(function (resolve, reject) {\n      _this.readyPromiseResolver = resolve;\n      _this.readyPromiseRejecter = reject;\n    });\n\n    if (datafile) {\n      this.currentDatafile = datafile;\n\n      if (!sdkKey) {\n        this.resolveReadyPromise();\n      }\n    } else {\n      this.currentDatafile = '';\n    }\n\n    this.isStarted = false;\n    this.datafileUrl = js_sdk_utils_1.sprintf(urlTemplate, sdkKey);\n    this.emitter = new eventEmitter_1.default();\n    this.autoUpdate = autoUpdate;\n\n    if (isValidUpdateInterval(updateInterval)) {\n      this.updateInterval = updateInterval;\n    } else {\n      logger.warn('Invalid updateInterval %s, defaulting to %s', updateInterval, config_1.DEFAULT_UPDATE_INTERVAL);\n      this.updateInterval = config_1.DEFAULT_UPDATE_INTERVAL;\n    }\n\n    this.currentTimeout = null;\n    this.currentRequest = null;\n    this.backoffController = new backoffController_1.default();\n    this.syncOnCurrentRequestComplete = false;\n  }\n\n  HttpPollingDatafileManager.prototype.get = function () {\n    return this.currentDatafile;\n  };\n\n  HttpPollingDatafileManager.prototype.start = function () {\n    if (!this.isStarted) {\n      logger.debug('Datafile manager started');\n      this.isStarted = true;\n      this.backoffController.reset();\n      this.setDatafileFromCacheIfAvailable();\n      this.syncDatafile();\n    }\n  };\n\n  HttpPollingDatafileManager.prototype.stop = function () {\n    logger.debug('Datafile manager stopped');\n    this.isStarted = false;\n\n    if (this.currentTimeout) {\n      clearTimeout(this.currentTimeout);\n      this.currentTimeout = null;\n    }\n\n    this.emitter.removeAllListeners();\n\n    if (this.currentRequest) {\n      this.currentRequest.abort();\n      this.currentRequest = null;\n    }\n\n    return Promise.resolve();\n  };\n\n  HttpPollingDatafileManager.prototype.onReady = function () {\n    return this.readyPromise;\n  };\n\n  HttpPollingDatafileManager.prototype.on = function (eventName, listener) {\n    return this.emitter.on(eventName, listener);\n  };\n\n  HttpPollingDatafileManager.prototype.onRequestRejected = function (err) {\n    if (!this.isStarted) {\n      return;\n    }\n\n    this.backoffController.countError();\n\n    if (err instanceof Error) {\n      logger.error('Error fetching datafile: %s', err.message, err);\n    } else if (typeof err === 'string') {\n      logger.error('Error fetching datafile: %s', err);\n    } else {\n      logger.error('Error fetching datafile');\n    }\n  };\n\n  HttpPollingDatafileManager.prototype.onRequestResolved = function (response) {\n    if (!this.isStarted) {\n      return;\n    }\n\n    if (typeof response.statusCode !== 'undefined' && isSuccessStatusCode(response.statusCode)) {\n      this.backoffController.reset();\n    } else {\n      this.backoffController.countError();\n    }\n\n    this.trySavingLastModified(response.headers);\n    var datafile = this.getNextDatafileFromResponse(response);\n\n    if (datafile !== '') {\n      logger.info('Updating datafile from response');\n      this.currentDatafile = datafile;\n      this.cache.set(this.cacheKey, datafile);\n\n      if (!this.isReadyPromiseSettled) {\n        this.resolveReadyPromise();\n      } else {\n        var datafileUpdate = {\n          datafile: datafile\n        };\n        this.emitter.emit(UPDATE_EVT, datafileUpdate);\n      }\n    }\n  };\n\n  HttpPollingDatafileManager.prototype.onRequestComplete = function () {\n    if (!this.isStarted) {\n      return;\n    }\n\n    this.currentRequest = null;\n\n    if (!this.isReadyPromiseSettled && !this.autoUpdate) {\n      // We will never resolve ready, so reject it\n      this.rejectReadyPromise(new Error('Failed to become ready'));\n    }\n\n    if (this.autoUpdate && this.syncOnCurrentRequestComplete) {\n      this.syncDatafile();\n    }\n\n    this.syncOnCurrentRequestComplete = false;\n  };\n\n  HttpPollingDatafileManager.prototype.syncDatafile = function () {\n    var _this = this;\n\n    var headers = {};\n\n    if (this.lastResponseLastModified) {\n      headers['if-modified-since'] = this.lastResponseLastModified;\n    }\n\n    logger.debug('Making datafile request to url %s with headers: %s', this.datafileUrl, function () {\n      return JSON.stringify(headers);\n    });\n    this.currentRequest = this.makeGetRequest(this.datafileUrl, headers);\n\n    var onRequestComplete = function onRequestComplete() {\n      _this.onRequestComplete();\n    };\n\n    var onRequestResolved = function onRequestResolved(response) {\n      _this.onRequestResolved(response);\n    };\n\n    var onRequestRejected = function onRequestRejected(err) {\n      _this.onRequestRejected(err);\n    };\n\n    this.currentRequest.responsePromise.then(onRequestResolved, onRequestRejected).then(onRequestComplete, onRequestComplete);\n\n    if (this.autoUpdate) {\n      this.scheduleNextUpdate();\n    }\n  };\n\n  HttpPollingDatafileManager.prototype.resolveReadyPromise = function () {\n    this.readyPromiseResolver();\n    this.isReadyPromiseSettled = true;\n  };\n\n  HttpPollingDatafileManager.prototype.rejectReadyPromise = function (err) {\n    this.readyPromiseRejecter(err);\n    this.isReadyPromiseSettled = true;\n  };\n\n  HttpPollingDatafileManager.prototype.scheduleNextUpdate = function () {\n    var _this = this;\n\n    var currentBackoffDelay = this.backoffController.getDelay();\n    var nextUpdateDelay = Math.max(currentBackoffDelay, this.updateInterval);\n    logger.debug('Scheduling sync in %s ms', nextUpdateDelay);\n    this.currentTimeout = setTimeout(function () {\n      if (_this.currentRequest) {\n        _this.syncOnCurrentRequestComplete = true;\n      } else {\n        _this.syncDatafile();\n      }\n    }, nextUpdateDelay);\n  };\n\n  HttpPollingDatafileManager.prototype.getNextDatafileFromResponse = function (response) {\n    logger.debug('Response status code: %s', response.statusCode);\n\n    if (typeof response.statusCode === 'undefined') {\n      return '';\n    }\n\n    if (response.statusCode === 304) {\n      return '';\n    }\n\n    if (isSuccessStatusCode(response.statusCode)) {\n      return response.body;\n    }\n\n    return '';\n  };\n\n  HttpPollingDatafileManager.prototype.trySavingLastModified = function (headers) {\n    var lastModifiedHeader = headers['last-modified'] || headers['Last-Modified'];\n\n    if (typeof lastModifiedHeader !== 'undefined') {\n      this.lastResponseLastModified = lastModifiedHeader;\n      logger.debug('Saved last modified header value from response: %s', this.lastResponseLastModified);\n    }\n  };\n\n  HttpPollingDatafileManager.prototype.setDatafileFromCacheIfAvailable = function () {\n    var _this = this;\n\n    this.cache.get(this.cacheKey).then(function (datafile) {\n      if (_this.isStarted && !_this.isReadyPromiseSettled && datafile !== '') {\n        logger.debug('Using datafile from cache');\n        _this.currentDatafile = datafile;\n\n        _this.resolveReadyPromise();\n      }\n    });\n  };\n\n  return HttpPollingDatafileManager;\n}();\n\nexports.default = HttpPollingDatafileManager;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar browserDatafileManager_1 = require(\"./browserDatafileManager\");\n\nexports.HttpPollingDatafileManager = browserDatafileManager_1.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @export\n * @class NoopErrorHandler\n * @implements {ErrorHandler}\n */\n\nvar NoopErrorHandler =\n/** @class */\nfunction () {\n  function NoopErrorHandler() {}\n  /**\n   * @param {Error} exception\n   * @memberof NoopErrorHandler\n   */\n\n\n  NoopErrorHandler.prototype.handleError = function (exception) {\n    // no-op\n    return;\n  };\n\n  return NoopErrorHandler;\n}();\n\nexports.NoopErrorHandler = NoopErrorHandler;\nvar globalErrorHandler = new NoopErrorHandler();\n/**\n * @export\n * @param {ErrorHandler} handler\n */\n\nfunction setErrorHandler(handler) {\n  globalErrorHandler = handler;\n}\n\nexports.setErrorHandler = setErrorHandler;\n/**\n * @export\n * @returns {ErrorHandler}\n */\n\nfunction getErrorHandler() {\n  return globalErrorHandler;\n}\n\nexports.getErrorHandler = getErrorHandler;\n/**\n * @export\n */\n\nfunction resetErrorHandler() {\n  globalErrorHandler = new NoopErrorHandler();\n}\n\nexports.resetErrorHandler = resetErrorHandler;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n__export(require(\"./errorHandler\"));\n\n__export(require(\"./models\"));\n\n__export(require(\"./logger\"));","\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar errorHandler_1 = require(\"./errorHandler\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar models_1 = require(\"./models\");\n\nvar stringToLogLevel = {\n  NOTSET: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARNING: 3,\n  ERROR: 4\n};\n\nfunction coerceLogLevel(level) {\n  if (typeof level !== 'string') {\n    return level;\n  }\n\n  level = level.toUpperCase();\n\n  if (level === 'WARN') {\n    level = 'WARNING';\n  }\n\n  if (!stringToLogLevel[level]) {\n    return level;\n  }\n\n  return stringToLogLevel[level];\n}\n\nvar DefaultLogManager =\n/** @class */\nfunction () {\n  function DefaultLogManager() {\n    this.defaultLoggerFacade = new OptimizelyLogger();\n    this.loggers = {};\n  }\n\n  DefaultLogManager.prototype.getLogger = function (name) {\n    if (!name) {\n      return this.defaultLoggerFacade;\n    }\n\n    if (!this.loggers[name]) {\n      this.loggers[name] = new OptimizelyLogger({\n        messagePrefix: name\n      });\n    }\n\n    return this.loggers[name];\n  };\n\n  return DefaultLogManager;\n}();\n\nvar ConsoleLogHandler =\n/** @class */\nfunction () {\n  /**\n   * Creates an instance of ConsoleLogger.\n   * @param {ConsoleLogHandlerConfig} config\n   * @memberof ConsoleLogger\n   */\n  function ConsoleLogHandler(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.logLevel = models_1.LogLevel.NOTSET;\n\n    if (config.logLevel !== undefined && js_sdk_utils_1.isValidEnum(models_1.LogLevel, config.logLevel)) {\n      this.setLogLevel(config.logLevel);\n    }\n\n    this.logToConsole = config.logToConsole !== undefined ? !!config.logToConsole : true;\n    this.prefix = config.prefix !== undefined ? config.prefix : '[OPTIMIZELY]';\n  }\n  /**\n   * @param {LogLevel} level\n   * @param {string} message\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.log = function (level, message) {\n    if (!this.shouldLog(level) || !this.logToConsole) {\n      return;\n    }\n\n    var logMessage = this.prefix + \" - \" + this.getLogLevelName(level) + \" \" + this.getTime() + \" \" + message;\n    this.consoleLog(level, [logMessage]);\n  };\n  /**\n   * @param {LogLevel} level\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.setLogLevel = function (level) {\n    level = coerceLogLevel(level);\n\n    if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n      this.logLevel = models_1.LogLevel.ERROR;\n    } else {\n      this.logLevel = level;\n    }\n  };\n  /**\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getTime = function () {\n    return new Date().toISOString();\n  };\n  /**\n   * @private\n   * @param {LogLevel} targetLogLevel\n   * @returns {boolean}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.shouldLog = function (targetLogLevel) {\n    return targetLogLevel >= this.logLevel;\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getLogLevelName = function (logLevel) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        return 'DEBUG';\n\n      case models_1.LogLevel.INFO:\n        return 'INFO ';\n\n      case models_1.LogLevel.WARNING:\n        return 'WARN ';\n\n      case models_1.LogLevel.ERROR:\n        return 'ERROR';\n\n      default:\n        return 'NOTSET';\n    }\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @param {string[]} logArguments\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.consoleLog = function (logLevel, logArguments) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        console.log.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.INFO:\n        console.info.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.WARNING:\n        console.warn.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.ERROR:\n        console.error.apply(console, logArguments);\n        break;\n\n      default:\n        console.log.apply(console, logArguments);\n    }\n  };\n\n  return ConsoleLogHandler;\n}();\n\nexports.ConsoleLogHandler = ConsoleLogHandler;\nvar globalLogLevel = models_1.LogLevel.NOTSET;\nvar globalLogHandler = null;\n\nvar OptimizelyLogger =\n/** @class */\nfunction () {\n  function OptimizelyLogger(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.messagePrefix = '';\n\n    if (opts.messagePrefix) {\n      this.messagePrefix = opts.messagePrefix;\n    }\n  }\n  /**\n   * @param {(LogLevel | LogInputObject)} levelOrObj\n   * @param {string} [message]\n   * @memberof OptimizelyLogger\n   */\n\n\n  OptimizelyLogger.prototype.log = function (level, message) {\n    var splat = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      splat[_i - 2] = arguments[_i];\n    }\n\n    this.internalLog(coerceLogLevel(level), {\n      message: message,\n      splat: splat\n    });\n  };\n\n  OptimizelyLogger.prototype.info = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.INFO, message, splat);\n  };\n\n  OptimizelyLogger.prototype.debug = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.DEBUG, message, splat);\n  };\n\n  OptimizelyLogger.prototype.warn = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.WARNING, message, splat);\n  };\n\n  OptimizelyLogger.prototype.error = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.ERROR, message, splat);\n  };\n\n  OptimizelyLogger.prototype.format = function (data) {\n    return \"\" + (this.messagePrefix ? this.messagePrefix + ': ' : '') + js_sdk_utils_1.sprintf.apply(void 0, __spreadArrays([data.message], data.splat));\n  };\n\n  OptimizelyLogger.prototype.internalLog = function (level, data) {\n    if (!globalLogHandler) {\n      return;\n    }\n\n    if (level < globalLogLevel) {\n      return;\n    }\n\n    globalLogHandler.log(level, this.format(data));\n\n    if (data.error && data.error instanceof Error) {\n      errorHandler_1.getErrorHandler().handleError(data.error);\n    }\n  };\n\n  OptimizelyLogger.prototype.namedLog = function (level, message, splat) {\n    var error;\n\n    if (message instanceof Error) {\n      error = message;\n      message = error.message;\n      this.internalLog(level, {\n        error: error,\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    if (splat.length === 0) {\n      this.internalLog(level, {\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    var last = splat[splat.length - 1];\n\n    if (last instanceof Error) {\n      error = last;\n      splat.splice(-1);\n    }\n\n    this.internalLog(level, {\n      message: message,\n      error: error,\n      splat: splat\n    });\n  };\n\n  return OptimizelyLogger;\n}();\n\nvar globalLogManager = new DefaultLogManager();\n\nfunction getLogger(name) {\n  return globalLogManager.getLogger(name);\n}\n\nexports.getLogger = getLogger;\n\nfunction setLogHandler(logger) {\n  globalLogHandler = logger;\n}\n\nexports.setLogHandler = setLogHandler;\n\nfunction setLogLevel(level) {\n  level = coerceLogLevel(level);\n\n  if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n    globalLogLevel = models_1.LogLevel.ERROR;\n  } else {\n    globalLogLevel = level;\n  }\n}\n\nexports.setLogLevel = setLogLevel;\n\nfunction getLogLevel() {\n  return globalLogLevel;\n}\n\nexports.getLogLevel = getLogLevel;\n/**\n * Resets all global logger state to it's original\n */\n\nfunction resetLogger() {\n  globalLogManager = new DefaultLogManager();\n  globalLogLevel = models_1.LogLevel.NOTSET;\n}\n\nexports.resetLogger = resetLogger;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"NOTSET\"] = 0] = \"NOTSET\";\n  LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n  LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n  LogLevel[LogLevel[\"WARNING\"] = 3] = \"WARNING\";\n  LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar uuid_1 = require(\"uuid\");\n\nfunction generateUUID() {\n  return uuid_1.v4();\n}\n\nexports.generateUUID = generateUUID;\n\nfunction getTimestamp() {\n  return new Date().getTime();\n}\n\nexports.getTimestamp = getTimestamp;\n/**\n * Validates a value is a valid TypeScript enum\n *\n * @export\n * @param {object} enumToCheck\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isValidEnum(enumToCheck, value) {\n  var found = false;\n  var keys = Object.keys(enumToCheck);\n\n  for (var index = 0; index < keys.length; index++) {\n    if (value === enumToCheck[keys[index]]) {\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.isValidEnum = isValidEnum;\n\nfunction groupBy(arr, grouperFn) {\n  var grouper = {};\n  arr.forEach(function (item) {\n    var key = grouperFn(item);\n    grouper[key] = grouper[key] || [];\n    grouper[key].push(item);\n  });\n  return objectValues(grouper);\n}\n\nexports.groupBy = groupBy;\n\nfunction objectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nexports.objectValues = objectValues;\n\nfunction objectEntries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nexports.objectEntries = objectEntries;\n\nfunction find(arr, cond) {\n  var found;\n\n  for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n    var item = arr_1[_i];\n\n    if (cond(item)) {\n      found = item;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.find = find;\n\nfunction keyBy(arr, keyByFn) {\n  var map = {};\n  arr.forEach(function (item) {\n    var key = keyByFn(item);\n    map[key] = item;\n  });\n  return map;\n}\n\nexports.keyBy = keyBy;\n\nfunction sprintf(format) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  var i = 0;\n  return format.replace(/%s/g, function () {\n    var arg = args[i++];\n    var type = typeof arg;\n\n    if (type === 'function') {\n      return arg();\n    } else if (type === 'string') {\n      return arg;\n    } else {\n      return String(arg);\n    }\n  });\n}\n\nexports.sprintf = sprintf;\n/*\n * Notification types for use with NotificationCenter\n * Format is EVENT: <list of parameters to callback>\n *\n * SDK consumers can use these to register callbacks with the notification center.\n *\n *  @deprecated since 3.1.0\n *  ACTIVATE: An impression event will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - experiment {Object}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - variation {Object}\n *    - logEvent {Object}\n *\n *  DECISION: A decision is made in the system. i.e. user activation,\n *  feature access or feature-variable value retrieval\n *  Callbacks will receive an object argument with the following properties:\n *    - type {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - decisionInfo {Object|undefined}\n *\n *  LOG_EVENT: A batch of events, which could contain impressions and/or conversions,\n *  will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - url {string}\n *    - httpVerb {string}\n *    - params {Object}\n *\n *  OPTIMIZELY_CONFIG_UPDATE: This Optimizely instance has been updated with a new\n *  config\n *\n *  TRACK: A conversion event will be sent to Optimizely\n *  Callbacks will receive the an object argument with the following properties:\n *    - eventKey {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - eventTags {Object|undefined}\n *    - logEvent {Object}\n *\n */\n\nvar NOTIFICATION_TYPES;\n\n(function (NOTIFICATION_TYPES) {\n  NOTIFICATION_TYPES[\"ACTIVATE\"] = \"ACTIVATE:experiment, user_id,attributes, variation, event\";\n  NOTIFICATION_TYPES[\"DECISION\"] = \"DECISION:type, userId, attributes, decisionInfo\";\n  NOTIFICATION_TYPES[\"LOG_EVENT\"] = \"LOG_EVENT:logEvent\";\n  NOTIFICATION_TYPES[\"OPTIMIZELY_CONFIG_UPDATE\"] = \"OPTIMIZELY_CONFIG_UPDATE\";\n  NOTIFICATION_TYPES[\"TRACK\"] = \"TRACK:event_key, user_id, attributes, event_tags, event\";\n})(NOTIFICATION_TYPES = exports.NOTIFICATION_TYPES || (exports.NOTIFICATION_TYPES = {}));","var v1 = require('./v1');\n\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nmodule.exports = uuid;","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid'); // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sendEventNotification = exports.getQueue = exports.validateAndGetBatchSize = exports.validateAndGetFlushInterval = exports.DEFAULT_BATCH_SIZE = exports.DEFAULT_FLUSH_INTERVAL = void 0;\n\nvar eventQueue_1 = require(\"./eventQueue\");\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nexports.DEFAULT_FLUSH_INTERVAL = 30000; // Unit is ms - default flush interval is 30s\n\nexports.DEFAULT_BATCH_SIZE = 10;\nvar logger = js_sdk_logging_1.getLogger('EventProcessor');\n\nfunction validateAndGetFlushInterval(flushInterval) {\n  if (flushInterval <= 0) {\n    logger.warn(\"Invalid flushInterval \" + flushInterval + \", defaulting to \" + exports.DEFAULT_FLUSH_INTERVAL);\n    flushInterval = exports.DEFAULT_FLUSH_INTERVAL;\n  }\n\n  return flushInterval;\n}\n\nexports.validateAndGetFlushInterval = validateAndGetFlushInterval;\n\nfunction validateAndGetBatchSize(batchSize) {\n  batchSize = Math.floor(batchSize);\n\n  if (batchSize < 1) {\n    logger.warn(\"Invalid batchSize \" + batchSize + \", defaulting to \" + exports.DEFAULT_BATCH_SIZE);\n    batchSize = exports.DEFAULT_BATCH_SIZE;\n  }\n\n  batchSize = Math.max(1, batchSize);\n  return batchSize;\n}\n\nexports.validateAndGetBatchSize = validateAndGetBatchSize;\n\nfunction getQueue(batchSize, flushInterval, sink, batchComparator) {\n  var queue;\n\n  if (batchSize > 1) {\n    queue = new eventQueue_1.DefaultEventQueue({\n      flushInterval: flushInterval,\n      maxQueueSize: batchSize,\n      sink: sink,\n      batchComparator: batchComparator\n    });\n  } else {\n    queue = new eventQueue_1.SingleEventQueue({\n      sink: sink\n    });\n  }\n\n  return queue;\n}\n\nexports.getQueue = getQueue;\n\nfunction sendEventNotification(notificationCenter, event) {\n  if (notificationCenter) {\n    notificationCenter.sendNotifications(js_sdk_utils_1.NOTIFICATION_TYPES.LOG_EVENT, event);\n  }\n}\n\nexports.sendEventNotification = sendEventNotification;","\"use strict\";\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultEventQueue = exports.SingleEventQueue = void 0;\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar logger = js_sdk_logging_1.getLogger('EventProcessor');\n\nvar Timer =\n/** @class */\nfunction () {\n  function Timer(_a) {\n    var timeout = _a.timeout,\n        callback = _a.callback;\n    this.timeout = Math.max(timeout, 0);\n    this.callback = callback;\n  }\n\n  Timer.prototype.start = function () {\n    this.timeoutId = setTimeout(this.callback, this.timeout);\n  };\n\n  Timer.prototype.refresh = function () {\n    this.stop();\n    this.start();\n  };\n\n  Timer.prototype.stop = function () {\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n  };\n\n  return Timer;\n}();\n\nvar SingleEventQueue =\n/** @class */\nfunction () {\n  function SingleEventQueue(_a) {\n    var sink = _a.sink;\n    this.sink = sink;\n  }\n\n  SingleEventQueue.prototype.start = function () {// no-op\n  };\n\n  SingleEventQueue.prototype.stop = function () {\n    // no-op\n    return Promise.resolve();\n  };\n\n  SingleEventQueue.prototype.enqueue = function (event) {\n    this.sink([event]);\n  };\n\n  return SingleEventQueue;\n}();\n\nexports.SingleEventQueue = SingleEventQueue;\n\nvar DefaultEventQueue =\n/** @class */\nfunction () {\n  function DefaultEventQueue(_a) {\n    var flushInterval = _a.flushInterval,\n        maxQueueSize = _a.maxQueueSize,\n        sink = _a.sink,\n        batchComparator = _a.batchComparator;\n    this.buffer = [];\n    this.maxQueueSize = Math.max(maxQueueSize, 1);\n    this.sink = sink;\n    this.batchComparator = batchComparator;\n    this.timer = new Timer({\n      callback: this.flush.bind(this),\n      timeout: flushInterval\n    });\n    this.started = false;\n  }\n\n  DefaultEventQueue.prototype.start = function () {\n    this.started = true; // dont start the timer until the first event is enqueued\n  };\n\n  DefaultEventQueue.prototype.stop = function () {\n    this.started = false;\n    var result = this.sink(this.buffer);\n    this.buffer = [];\n    this.timer.stop();\n    return result;\n  };\n\n  DefaultEventQueue.prototype.enqueue = function (event) {\n    if (!this.started) {\n      logger.warn('Queue is stopped, not accepting event');\n      return;\n    } // If new event cannot be included into the current batch, flush so it can\n    // be in its own new batch.\n\n\n    var bufferedEvent = this.buffer[0];\n\n    if (bufferedEvent && !this.batchComparator(bufferedEvent, event)) {\n      this.flush();\n    } // start the timer when the first event is put in\n\n\n    if (this.buffer.length === 0) {\n      this.timer.refresh();\n    }\n\n    this.buffer.push(event);\n\n    if (this.buffer.length >= this.maxQueueSize) {\n      this.flush();\n    }\n  };\n\n  DefaultEventQueue.prototype.flush = function () {\n    this.sink(this.buffer);\n    this.buffer = [];\n    this.timer.stop();\n  };\n\n  return DefaultEventQueue;\n}();\n\nexports.DefaultEventQueue = DefaultEventQueue;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.areEventContextsEqual = void 0;\n\nfunction areEventContextsEqual(eventA, eventB) {\n  var contextA = eventA.context;\n  var contextB = eventB.context;\n  return contextA.accountId === contextB.accountId && contextA.projectId === contextB.projectId && contextA.clientName === contextB.clientName && contextA.clientVersion === contextB.clientVersion && contextA.revision === contextB.revision && contextA.anonymizeIP === contextB.anonymizeIP && contextA.botFiltering === contextB.botFiltering;\n}\n\nexports.areEventContextsEqual = areEventContextsEqual;","\"use strict\";\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__exportStar(require(\"./events\"), exports);\n\n__exportStar(require(\"./eventProcessor\"), exports);\n\n__exportStar(require(\"./eventDispatcher\"), exports);\n\n__exportStar(require(\"./managed\"), exports);\n\n__exportStar(require(\"./pendingEventsDispatcher\"), exports);\n\n__exportStar(require(\"./v1/buildEventV1\"), exports);\n\n__exportStar(require(\"./v1/v1EventProcessor\"), exports);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocalStoragePendingEventsDispatcher = exports.PendingEventsDispatcher = void 0;\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar pendingEventsStore_1 = require(\"./pendingEventsStore\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar logger = js_sdk_logging_1.getLogger('EventProcessor');\n\nvar PendingEventsDispatcher =\n/** @class */\nfunction () {\n  function PendingEventsDispatcher(_a) {\n    var eventDispatcher = _a.eventDispatcher,\n        store = _a.store;\n    this.dispatcher = eventDispatcher;\n    this.store = store;\n  }\n\n  PendingEventsDispatcher.prototype.dispatchEvent = function (request, callback) {\n    this.send({\n      uuid: js_sdk_utils_1.generateUUID(),\n      timestamp: js_sdk_utils_1.getTimestamp(),\n      request: request\n    }, callback);\n  };\n\n  PendingEventsDispatcher.prototype.sendPendingEvents = function () {\n    var _this = this;\n\n    var pendingEvents = this.store.values();\n    logger.debug('Sending %s pending events from previous page', pendingEvents.length);\n    pendingEvents.forEach(function (item) {\n      try {\n        _this.send(item, function () {});\n      } catch (e) {}\n    });\n  };\n\n  PendingEventsDispatcher.prototype.send = function (entry, callback) {\n    var _this = this;\n\n    this.store.set(entry.uuid, entry);\n    this.dispatcher.dispatchEvent(entry.request, function (response) {\n      _this.store.remove(entry.uuid);\n\n      callback(response);\n    });\n  };\n\n  return PendingEventsDispatcher;\n}();\n\nexports.PendingEventsDispatcher = PendingEventsDispatcher;\n\nvar LocalStoragePendingEventsDispatcher =\n/** @class */\nfunction (_super) {\n  __extends(LocalStoragePendingEventsDispatcher, _super);\n\n  function LocalStoragePendingEventsDispatcher(_a) {\n    var eventDispatcher = _a.eventDispatcher;\n    return _super.call(this, {\n      eventDispatcher: eventDispatcher,\n      store: new pendingEventsStore_1.LocalStorageStore({\n        // TODO make this configurable\n        maxValues: 100,\n        key: 'fs_optly_pending_events'\n      })\n    }) || this;\n  }\n\n  return LocalStoragePendingEventsDispatcher;\n}(PendingEventsDispatcher);\n\nexports.LocalStoragePendingEventsDispatcher = LocalStoragePendingEventsDispatcher;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocalStorageStore = void 0;\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar logger = js_sdk_logging_1.getLogger('EventProcessor');\n\nvar LocalStorageStore =\n/** @class */\nfunction () {\n  function LocalStorageStore(_a) {\n    var key = _a.key,\n        _b = _a.maxValues,\n        maxValues = _b === void 0 ? 1000 : _b;\n    this.LS_KEY = key;\n    this.maxValues = maxValues;\n  }\n\n  LocalStorageStore.prototype.get = function (key) {\n    return this.getMap()[key] || null;\n  };\n\n  LocalStorageStore.prototype.set = function (key, value) {\n    var map = this.getMap();\n    map[key] = value;\n    this.replace(map);\n  };\n\n  LocalStorageStore.prototype.remove = function (key) {\n    var map = this.getMap();\n    delete map[key];\n    this.replace(map);\n  };\n\n  LocalStorageStore.prototype.values = function () {\n    return js_sdk_utils_1.objectValues(this.getMap());\n  };\n\n  LocalStorageStore.prototype.clear = function () {\n    this.replace({});\n  };\n\n  LocalStorageStore.prototype.replace = function (map) {\n    try {\n      // This is a temporary fix to support React Native which does not have localStorage.\n      window.localStorage && localStorage.setItem(this.LS_KEY, JSON.stringify(map));\n      this.clean();\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n\n  LocalStorageStore.prototype.clean = function () {\n    var map = this.getMap();\n    var keys = Object.keys(map);\n    var toRemove = keys.length - this.maxValues;\n\n    if (toRemove < 1) {\n      return;\n    }\n\n    var entries = keys.map(function (key) {\n      return {\n        key: key,\n        value: map[key]\n      };\n    });\n    entries.sort(function (a, b) {\n      return a.value.timestamp - b.value.timestamp;\n    });\n\n    for (var i = 0; i < toRemove; i++) {\n      delete map[entries[i].key];\n    }\n\n    this.replace(map);\n  };\n\n  LocalStorageStore.prototype.getMap = function () {\n    try {\n      // This is a temporary fix to support React Native which does not have localStorage.\n      var data = window.localStorage && localStorage.getItem(this.LS_KEY);\n\n      if (data) {\n        return JSON.parse(data) || {};\n      }\n    } catch (e) {\n      logger.error(e);\n    }\n\n    return {};\n  };\n\n  return LocalStorageStore;\n}();\n\nexports.LocalStorageStore = LocalStorageStore;","\"use strict\";\n/**\n * Copyright 2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * RequestTracker keeps track of in-flight requests for EventProcessor using\n * an internal counter. It exposes methods for adding a new request to be\n * tracked, and getting a Promise representing the completion of currently\n * tracked requests.\n */\n\nvar RequestTracker =\n/** @class */\nfunction () {\n  function RequestTracker() {\n    this.reqsInFlightCount = 0;\n    this.reqsCompleteResolvers = [];\n  }\n  /**\n   * Track the argument request (represented by a Promise). reqPromise will feed\n   * into the state of Promises returned by onRequestsComplete.\n   * @param {Promise<void>} reqPromise\n   */\n\n\n  RequestTracker.prototype.trackRequest = function (reqPromise) {\n    var _this = this;\n\n    this.reqsInFlightCount++;\n\n    var onReqComplete = function onReqComplete() {\n      _this.reqsInFlightCount--;\n\n      if (_this.reqsInFlightCount === 0) {\n        _this.reqsCompleteResolvers.forEach(function (resolver) {\n          return resolver();\n        });\n\n        _this.reqsCompleteResolvers = [];\n      }\n    };\n\n    reqPromise.then(onReqComplete, onReqComplete);\n  };\n  /**\n   * Return a Promise that fulfills after all currently-tracked request promises\n   * are resolved.\n   * @return {Promise<void>}\n   */\n\n\n  RequestTracker.prototype.onRequestsComplete = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      if (_this.reqsInFlightCount === 0) {\n        resolve();\n      } else {\n        _this.reqsCompleteResolvers.push(resolve);\n      }\n    });\n  };\n\n  return RequestTracker;\n}();\n\nexports.default = RequestTracker;","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatEvents = exports.buildConversionEventV1 = exports.buildImpressionEventV1 = exports.makeBatchedEventV1 = void 0;\nvar ACTIVATE_EVENT_KEY = 'campaign_activated';\nvar CUSTOM_ATTRIBUTE_FEATURE_TYPE = 'custom';\nvar BOT_FILTERING_KEY = '$opt_bot_filtering';\n/**\n * Given an array of batchable Decision or ConversionEvent events it returns\n * a single EventV1 with proper batching\n *\n * @param {ProcessableEvent[]} events\n * @returns {EventV1}\n */\n\nfunction makeBatchedEventV1(events) {\n  var visitors = [];\n  var data = events[0];\n  events.forEach(function (event) {\n    if (event.type === 'conversion' || event.type === 'impression') {\n      var visitor = makeVisitor(event);\n\n      if (event.type === 'impression') {\n        visitor.snapshots.push(makeDecisionSnapshot(event));\n      } else if (event.type === 'conversion') {\n        visitor.snapshots.push(makeConversionSnapshot(event));\n      }\n\n      visitors.push(visitor);\n    }\n  });\n  return {\n    client_name: data.context.clientName,\n    client_version: data.context.clientVersion,\n    account_id: data.context.accountId,\n    project_id: data.context.projectId,\n    revision: data.context.revision,\n    anonymize_ip: data.context.anonymizeIP,\n    enrich_decisions: true,\n    visitors: visitors\n  };\n}\n\nexports.makeBatchedEventV1 = makeBatchedEventV1;\n\nfunction makeConversionSnapshot(conversion) {\n  var tags = __assign({}, conversion.tags);\n\n  delete tags['revenue'];\n  delete tags['value'];\n  var event = {\n    entity_id: conversion.event.id,\n    key: conversion.event.key,\n    timestamp: conversion.timestamp,\n    uuid: conversion.uuid\n  };\n\n  if (conversion.tags) {\n    event.tags = conversion.tags;\n  }\n\n  if (conversion.value != null) {\n    event.value = conversion.value;\n  }\n\n  if (conversion.revenue != null) {\n    event.revenue = conversion.revenue;\n  }\n\n  return {\n    events: [event]\n  };\n}\n\nfunction makeDecisionSnapshot(event) {\n  var _a, _b;\n\n  var layer = event.layer,\n      experiment = event.experiment,\n      variation = event.variation,\n      ruleKey = event.ruleKey,\n      flagKey = event.flagKey,\n      ruleType = event.ruleType,\n      enabled = event.enabled;\n  var layerId = layer ? layer.id : null;\n  var experimentId = (_a = experiment === null || experiment === void 0 ? void 0 : experiment.id) !== null && _a !== void 0 ? _a : '';\n  var variationId = (_b = variation === null || variation === void 0 ? void 0 : variation.id) !== null && _b !== void 0 ? _b : '';\n  var variationKey = variation ? variation.key : '';\n  return {\n    decisions: [{\n      campaign_id: layerId,\n      experiment_id: experimentId,\n      variation_id: variationId,\n      metadata: {\n        flag_key: flagKey,\n        rule_key: ruleKey,\n        rule_type: ruleType,\n        variation_key: variationKey,\n        enabled: enabled\n      }\n    }],\n    events: [{\n      entity_id: layerId,\n      timestamp: event.timestamp,\n      key: ACTIVATE_EVENT_KEY,\n      uuid: event.uuid\n    }]\n  };\n}\n\nfunction makeVisitor(data) {\n  var visitor = {\n    snapshots: [],\n    visitor_id: data.user.id,\n    attributes: []\n  };\n  data.user.attributes.forEach(function (attr) {\n    visitor.attributes.push({\n      entity_id: attr.entityId,\n      key: attr.key,\n      type: 'custom',\n      value: attr.value\n    });\n  });\n\n  if (typeof data.context.botFiltering === 'boolean') {\n    visitor.attributes.push({\n      entity_id: BOT_FILTERING_KEY,\n      key: BOT_FILTERING_KEY,\n      type: CUSTOM_ATTRIBUTE_FEATURE_TYPE,\n      value: data.context.botFiltering\n    });\n  }\n\n  return visitor;\n}\n/**\n * Event for usage with v1 logtier\n *\n * @export\n * @interface EventBuilderV1\n */\n\n\nfunction buildImpressionEventV1(data) {\n  var visitor = makeVisitor(data);\n  visitor.snapshots.push(makeDecisionSnapshot(data));\n  return {\n    client_name: data.context.clientName,\n    client_version: data.context.clientVersion,\n    account_id: data.context.accountId,\n    project_id: data.context.projectId,\n    revision: data.context.revision,\n    anonymize_ip: data.context.anonymizeIP,\n    enrich_decisions: true,\n    visitors: [visitor]\n  };\n}\n\nexports.buildImpressionEventV1 = buildImpressionEventV1;\n\nfunction buildConversionEventV1(data) {\n  var visitor = makeVisitor(data);\n  visitor.snapshots.push(makeConversionSnapshot(data));\n  return {\n    client_name: data.context.clientName,\n    client_version: data.context.clientVersion,\n    account_id: data.context.accountId,\n    project_id: data.context.projectId,\n    revision: data.context.revision,\n    anonymize_ip: data.context.anonymizeIP,\n    enrich_decisions: true,\n    visitors: [visitor]\n  };\n}\n\nexports.buildConversionEventV1 = buildConversionEventV1;\n\nfunction formatEvents(events) {\n  return {\n    url: 'https://logx.optimizely.com/v1/events',\n    httpVerb: 'POST',\n    params: makeBatchedEventV1(events)\n  };\n}\n\nexports.formatEvents = formatEvents;","\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LogTierV1EventProcessor = void 0;\n/**\n * Copyright 2019-2020, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar js_sdk_logging_1 = require(\"@optimizely/js-sdk-logging\");\n\nvar eventProcessor_1 = require(\"../eventProcessor\");\n\nvar requestTracker_1 = __importDefault(require(\"../requestTracker\"));\n\nvar events_1 = require(\"../events\");\n\nvar buildEventV1_1 = require(\"./buildEventV1\");\n\nvar logger = js_sdk_logging_1.getLogger('LogTierV1EventProcessor');\n\nvar LogTierV1EventProcessor =\n/** @class */\nfunction () {\n  function LogTierV1EventProcessor(_a) {\n    var dispatcher = _a.dispatcher,\n        _b = _a.flushInterval,\n        flushInterval = _b === void 0 ? eventProcessor_1.DEFAULT_FLUSH_INTERVAL : _b,\n        _c = _a.batchSize,\n        batchSize = _c === void 0 ? eventProcessor_1.DEFAULT_BATCH_SIZE : _c,\n        notificationCenter = _a.notificationCenter;\n    this.dispatcher = dispatcher;\n    this.notificationCenter = notificationCenter;\n    this.requestTracker = new requestTracker_1.default();\n    flushInterval = eventProcessor_1.validateAndGetFlushInterval(flushInterval);\n    batchSize = eventProcessor_1.validateAndGetBatchSize(batchSize);\n    this.queue = eventProcessor_1.getQueue(batchSize, flushInterval, this.drainQueue.bind(this), events_1.areEventContextsEqual);\n  }\n\n  LogTierV1EventProcessor.prototype.drainQueue = function (buffer) {\n    var _this = this;\n\n    var reqPromise = new Promise(function (resolve) {\n      logger.debug('draining queue with %s events', buffer.length);\n\n      if (buffer.length === 0) {\n        resolve();\n        return;\n      }\n\n      var formattedEvent = buildEventV1_1.formatEvents(buffer);\n\n      _this.dispatcher.dispatchEvent(formattedEvent, function () {\n        resolve();\n      });\n\n      eventProcessor_1.sendEventNotification(_this.notificationCenter, formattedEvent);\n    });\n    this.requestTracker.trackRequest(reqPromise);\n    return reqPromise;\n  };\n\n  LogTierV1EventProcessor.prototype.process = function (event) {\n    this.queue.enqueue(event);\n  };\n\n  LogTierV1EventProcessor.prototype.stop = function () {\n    // swallow - an error stopping this queue shouldn't prevent this from stopping\n    try {\n      this.queue.stop();\n      return this.requestTracker.onRequestsComplete();\n    } catch (e) {\n      logger.error('Error stopping EventProcessor: \"%s\"', e.message, e);\n    }\n\n    return Promise.resolve();\n  };\n\n  LogTierV1EventProcessor.prototype.start = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.queue.start();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return LogTierV1EventProcessor;\n}();\n\nexports.LogTierV1EventProcessor = LogTierV1EventProcessor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @export\n * @class NoopErrorHandler\n * @implements {ErrorHandler}\n */\n\nvar NoopErrorHandler =\n/** @class */\nfunction () {\n  function NoopErrorHandler() {}\n  /**\n   * @param {Error} exception\n   * @memberof NoopErrorHandler\n   */\n\n\n  NoopErrorHandler.prototype.handleError = function (exception) {\n    // no-op\n    return;\n  };\n\n  return NoopErrorHandler;\n}();\n\nexports.NoopErrorHandler = NoopErrorHandler;\nvar globalErrorHandler = new NoopErrorHandler();\n/**\n * @export\n * @param {ErrorHandler} handler\n */\n\nfunction setErrorHandler(handler) {\n  globalErrorHandler = handler;\n}\n\nexports.setErrorHandler = setErrorHandler;\n/**\n * @export\n * @returns {ErrorHandler}\n */\n\nfunction getErrorHandler() {\n  return globalErrorHandler;\n}\n\nexports.getErrorHandler = getErrorHandler;\n/**\n * @export\n */\n\nfunction resetErrorHandler() {\n  globalErrorHandler = new NoopErrorHandler();\n}\n\nexports.resetErrorHandler = resetErrorHandler;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n__export(require(\"./errorHandler\"));\n\n__export(require(\"./models\"));\n\n__export(require(\"./logger\"));","\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar errorHandler_1 = require(\"./errorHandler\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar models_1 = require(\"./models\");\n\nvar stringToLogLevel = {\n  NOTSET: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARNING: 3,\n  ERROR: 4\n};\n\nfunction coerceLogLevel(level) {\n  if (typeof level !== 'string') {\n    return level;\n  }\n\n  level = level.toUpperCase();\n\n  if (level === 'WARN') {\n    level = 'WARNING';\n  }\n\n  if (!stringToLogLevel[level]) {\n    return level;\n  }\n\n  return stringToLogLevel[level];\n}\n\nvar DefaultLogManager =\n/** @class */\nfunction () {\n  function DefaultLogManager() {\n    this.defaultLoggerFacade = new OptimizelyLogger();\n    this.loggers = {};\n  }\n\n  DefaultLogManager.prototype.getLogger = function (name) {\n    if (!name) {\n      return this.defaultLoggerFacade;\n    }\n\n    if (!this.loggers[name]) {\n      this.loggers[name] = new OptimizelyLogger({\n        messagePrefix: name\n      });\n    }\n\n    return this.loggers[name];\n  };\n\n  return DefaultLogManager;\n}();\n\nvar ConsoleLogHandler =\n/** @class */\nfunction () {\n  /**\n   * Creates an instance of ConsoleLogger.\n   * @param {ConsoleLogHandlerConfig} config\n   * @memberof ConsoleLogger\n   */\n  function ConsoleLogHandler(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.logLevel = models_1.LogLevel.NOTSET;\n\n    if (config.logLevel !== undefined && js_sdk_utils_1.isValidEnum(models_1.LogLevel, config.logLevel)) {\n      this.setLogLevel(config.logLevel);\n    }\n\n    this.logToConsole = config.logToConsole !== undefined ? !!config.logToConsole : true;\n    this.prefix = config.prefix !== undefined ? config.prefix : '[OPTIMIZELY]';\n  }\n  /**\n   * @param {LogLevel} level\n   * @param {string} message\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.log = function (level, message) {\n    if (!this.shouldLog(level) || !this.logToConsole) {\n      return;\n    }\n\n    var logMessage = this.prefix + \" - \" + this.getLogLevelName(level) + \" \" + this.getTime() + \" \" + message;\n    this.consoleLog(level, [logMessage]);\n  };\n  /**\n   * @param {LogLevel} level\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.setLogLevel = function (level) {\n    level = coerceLogLevel(level);\n\n    if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n      this.logLevel = models_1.LogLevel.ERROR;\n    } else {\n      this.logLevel = level;\n    }\n  };\n  /**\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getTime = function () {\n    return new Date().toISOString();\n  };\n  /**\n   * @private\n   * @param {LogLevel} targetLogLevel\n   * @returns {boolean}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.shouldLog = function (targetLogLevel) {\n    return targetLogLevel >= this.logLevel;\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getLogLevelName = function (logLevel) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        return 'DEBUG';\n\n      case models_1.LogLevel.INFO:\n        return 'INFO ';\n\n      case models_1.LogLevel.WARNING:\n        return 'WARN ';\n\n      case models_1.LogLevel.ERROR:\n        return 'ERROR';\n\n      default:\n        return 'NOTSET';\n    }\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @param {string[]} logArguments\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.consoleLog = function (logLevel, logArguments) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        console.log.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.INFO:\n        console.info.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.WARNING:\n        console.warn.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.ERROR:\n        console.error.apply(console, logArguments);\n        break;\n\n      default:\n        console.log.apply(console, logArguments);\n    }\n  };\n\n  return ConsoleLogHandler;\n}();\n\nexports.ConsoleLogHandler = ConsoleLogHandler;\nvar globalLogLevel = models_1.LogLevel.NOTSET;\nvar globalLogHandler = null;\n\nvar OptimizelyLogger =\n/** @class */\nfunction () {\n  function OptimizelyLogger(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.messagePrefix = '';\n\n    if (opts.messagePrefix) {\n      this.messagePrefix = opts.messagePrefix;\n    }\n  }\n  /**\n   * @param {(LogLevel | LogInputObject)} levelOrObj\n   * @param {string} [message]\n   * @memberof OptimizelyLogger\n   */\n\n\n  OptimizelyLogger.prototype.log = function (level, message) {\n    var splat = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      splat[_i - 2] = arguments[_i];\n    }\n\n    this.internalLog(coerceLogLevel(level), {\n      message: message,\n      splat: splat\n    });\n  };\n\n  OptimizelyLogger.prototype.info = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.INFO, message, splat);\n  };\n\n  OptimizelyLogger.prototype.debug = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.DEBUG, message, splat);\n  };\n\n  OptimizelyLogger.prototype.warn = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.WARNING, message, splat);\n  };\n\n  OptimizelyLogger.prototype.error = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.ERROR, message, splat);\n  };\n\n  OptimizelyLogger.prototype.format = function (data) {\n    return \"\" + (this.messagePrefix ? this.messagePrefix + ': ' : '') + js_sdk_utils_1.sprintf.apply(void 0, __spreadArrays([data.message], data.splat));\n  };\n\n  OptimizelyLogger.prototype.internalLog = function (level, data) {\n    if (!globalLogHandler) {\n      return;\n    }\n\n    if (level < globalLogLevel) {\n      return;\n    }\n\n    globalLogHandler.log(level, this.format(data));\n\n    if (data.error && data.error instanceof Error) {\n      errorHandler_1.getErrorHandler().handleError(data.error);\n    }\n  };\n\n  OptimizelyLogger.prototype.namedLog = function (level, message, splat) {\n    var error;\n\n    if (message instanceof Error) {\n      error = message;\n      message = error.message;\n      this.internalLog(level, {\n        error: error,\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    if (splat.length === 0) {\n      this.internalLog(level, {\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    var last = splat[splat.length - 1];\n\n    if (last instanceof Error) {\n      error = last;\n      splat.splice(-1);\n    }\n\n    this.internalLog(level, {\n      message: message,\n      error: error,\n      splat: splat\n    });\n  };\n\n  return OptimizelyLogger;\n}();\n\nvar globalLogManager = new DefaultLogManager();\n\nfunction getLogger(name) {\n  return globalLogManager.getLogger(name);\n}\n\nexports.getLogger = getLogger;\n\nfunction setLogHandler(logger) {\n  globalLogHandler = logger;\n}\n\nexports.setLogHandler = setLogHandler;\n\nfunction setLogLevel(level) {\n  level = coerceLogLevel(level);\n\n  if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n    globalLogLevel = models_1.LogLevel.ERROR;\n  } else {\n    globalLogLevel = level;\n  }\n}\n\nexports.setLogLevel = setLogLevel;\n\nfunction getLogLevel() {\n  return globalLogLevel;\n}\n\nexports.getLogLevel = getLogLevel;\n/**\n * Resets all global logger state to it's original\n */\n\nfunction resetLogger() {\n  globalLogManager = new DefaultLogManager();\n  globalLogLevel = models_1.LogLevel.NOTSET;\n}\n\nexports.resetLogger = resetLogger;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"NOTSET\"] = 0] = \"NOTSET\";\n  LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n  LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n  LogLevel[LogLevel[\"WARNING\"] = 3] = \"WARNING\";\n  LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar uuid_1 = require(\"uuid\");\n\nfunction generateUUID() {\n  return uuid_1.v4();\n}\n\nexports.generateUUID = generateUUID;\n\nfunction getTimestamp() {\n  return new Date().getTime();\n}\n\nexports.getTimestamp = getTimestamp;\n/**\n * Validates a value is a valid TypeScript enum\n *\n * @export\n * @param {object} enumToCheck\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isValidEnum(enumToCheck, value) {\n  var found = false;\n  var keys = Object.keys(enumToCheck);\n\n  for (var index = 0; index < keys.length; index++) {\n    if (value === enumToCheck[keys[index]]) {\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.isValidEnum = isValidEnum;\n\nfunction groupBy(arr, grouperFn) {\n  var grouper = {};\n  arr.forEach(function (item) {\n    var key = grouperFn(item);\n    grouper[key] = grouper[key] || [];\n    grouper[key].push(item);\n  });\n  return objectValues(grouper);\n}\n\nexports.groupBy = groupBy;\n\nfunction objectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nexports.objectValues = objectValues;\n\nfunction objectEntries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nexports.objectEntries = objectEntries;\n\nfunction find(arr, cond) {\n  var found;\n\n  for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n    var item = arr_1[_i];\n\n    if (cond(item)) {\n      found = item;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.find = find;\n\nfunction keyBy(arr, keyByFn) {\n  var map = {};\n  arr.forEach(function (item) {\n    var key = keyByFn(item);\n    map[key] = item;\n  });\n  return map;\n}\n\nexports.keyBy = keyBy;\n\nfunction sprintf(format) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  var i = 0;\n  return format.replace(/%s/g, function () {\n    var arg = args[i++];\n    var type = typeof arg;\n\n    if (type === 'function') {\n      return arg();\n    } else if (type === 'string') {\n      return arg;\n    } else {\n      return String(arg);\n    }\n  });\n}\n\nexports.sprintf = sprintf;\n/*\n * Notification types for use with NotificationCenter\n * Format is EVENT: <list of parameters to callback>\n *\n * SDK consumers can use these to register callbacks with the notification center.\n *\n *  @deprecated since 3.1.0\n *  ACTIVATE: An impression event will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - experiment {Object}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - variation {Object}\n *    - logEvent {Object}\n *\n *  DECISION: A decision is made in the system. i.e. user activation,\n *  feature access or feature-variable value retrieval\n *  Callbacks will receive an object argument with the following properties:\n *    - type {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - decisionInfo {Object|undefined}\n *\n *  LOG_EVENT: A batch of events, which could contain impressions and/or conversions,\n *  will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - url {string}\n *    - httpVerb {string}\n *    - params {Object}\n *\n *  OPTIMIZELY_CONFIG_UPDATE: This Optimizely instance has been updated with a new\n *  config\n *\n *  TRACK: A conversion event will be sent to Optimizely\n *  Callbacks will receive the an object argument with the following properties:\n *    - eventKey {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - eventTags {Object|undefined}\n *    - logEvent {Object}\n *\n */\n\nvar NOTIFICATION_TYPES;\n\n(function (NOTIFICATION_TYPES) {\n  NOTIFICATION_TYPES[\"ACTIVATE\"] = \"ACTIVATE:experiment, user_id,attributes, variation, event\";\n  NOTIFICATION_TYPES[\"DECISION\"] = \"DECISION:type, userId, attributes, decisionInfo\";\n  NOTIFICATION_TYPES[\"LOG_EVENT\"] = \"LOG_EVENT:logEvent\";\n  NOTIFICATION_TYPES[\"OPTIMIZELY_CONFIG_UPDATE\"] = \"OPTIMIZELY_CONFIG_UPDATE\";\n  NOTIFICATION_TYPES[\"TRACK\"] = \"TRACK:event_key, user_id, attributes, event_tags, event\";\n})(NOTIFICATION_TYPES = exports.NOTIFICATION_TYPES || (exports.NOTIFICATION_TYPES = {}));","var v1 = require('./v1');\n\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nmodule.exports = uuid;","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid'); // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @export\n * @class NoopErrorHandler\n * @implements {ErrorHandler}\n */\n\nvar NoopErrorHandler =\n/** @class */\nfunction () {\n  function NoopErrorHandler() {}\n  /**\n   * @param {Error} exception\n   * @memberof NoopErrorHandler\n   */\n\n\n  NoopErrorHandler.prototype.handleError = function (exception) {\n    // no-op\n    return;\n  };\n\n  return NoopErrorHandler;\n}();\n\nexports.NoopErrorHandler = NoopErrorHandler;\nvar globalErrorHandler = new NoopErrorHandler();\n/**\n * @export\n * @param {ErrorHandler} handler\n */\n\nfunction setErrorHandler(handler) {\n  globalErrorHandler = handler;\n}\n\nexports.setErrorHandler = setErrorHandler;\n/**\n * @export\n * @returns {ErrorHandler}\n */\n\nfunction getErrorHandler() {\n  return globalErrorHandler;\n}\n\nexports.getErrorHandler = getErrorHandler;\n/**\n * @export\n */\n\nfunction resetErrorHandler() {\n  globalErrorHandler = new NoopErrorHandler();\n}\n\nexports.resetErrorHandler = resetErrorHandler;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n__export(require(\"./errorHandler\"));\n\n__export(require(\"./models\"));\n\n__export(require(\"./logger\"));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar errorHandler_1 = require(\"./errorHandler\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar models_1 = require(\"./models\");\n\nvar stringToLogLevel = {\n  NOTSET: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARNING: 3,\n  ERROR: 4\n};\n\nfunction coerceLogLevel(level) {\n  if (typeof level !== 'string') {\n    return level;\n  }\n\n  level = level.toUpperCase();\n\n  if (level === 'WARN') {\n    level = 'WARNING';\n  }\n\n  if (!stringToLogLevel[level]) {\n    return level;\n  }\n\n  return stringToLogLevel[level];\n}\n\nvar DefaultLogManager =\n/** @class */\nfunction () {\n  function DefaultLogManager() {\n    this.defaultLoggerFacade = new OptimizelyLogger();\n    this.loggers = {};\n  }\n\n  DefaultLogManager.prototype.getLogger = function (name) {\n    if (!name) {\n      return this.defaultLoggerFacade;\n    }\n\n    if (!this.loggers[name]) {\n      this.loggers[name] = new OptimizelyLogger({\n        messagePrefix: name\n      });\n    }\n\n    return this.loggers[name];\n  };\n\n  return DefaultLogManager;\n}();\n\nvar ConsoleLogHandler =\n/** @class */\nfunction () {\n  /**\n   * Creates an instance of ConsoleLogger.\n   * @param {ConsoleLogHandlerConfig} config\n   * @memberof ConsoleLogger\n   */\n  function ConsoleLogHandler(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.logLevel = models_1.LogLevel.NOTSET;\n\n    if (config.logLevel !== undefined && js_sdk_utils_1.isValidEnum(models_1.LogLevel, config.logLevel)) {\n      this.setLogLevel(config.logLevel);\n    }\n\n    this.logToConsole = config.logToConsole !== undefined ? !!config.logToConsole : true;\n    this.prefix = config.prefix !== undefined ? config.prefix : '[OPTIMIZELY]';\n  }\n  /**\n   * @param {LogLevel} level\n   * @param {string} message\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.log = function (level, message) {\n    if (!this.shouldLog(level) || !this.logToConsole) {\n      return;\n    }\n\n    var logMessage = this.prefix + \" - \" + this.getLogLevelName(level) + \" \" + this.getTime() + \" \" + message;\n    this.consoleLog(level, [logMessage]);\n  };\n  /**\n   * @param {LogLevel} level\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.setLogLevel = function (level) {\n    level = coerceLogLevel(level);\n\n    if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n      this.logLevel = models_1.LogLevel.ERROR;\n    } else {\n      this.logLevel = level;\n    }\n  };\n  /**\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getTime = function () {\n    return new Date().toISOString();\n  };\n  /**\n   * @private\n   * @param {LogLevel} targetLogLevel\n   * @returns {boolean}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.shouldLog = function (targetLogLevel) {\n    return targetLogLevel >= this.logLevel;\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getLogLevelName = function (logLevel) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        return 'DEBUG';\n\n      case models_1.LogLevel.INFO:\n        return 'INFO ';\n\n      case models_1.LogLevel.WARNING:\n        return 'WARN ';\n\n      case models_1.LogLevel.ERROR:\n        return 'ERROR';\n\n      default:\n        return 'NOTSET';\n    }\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @param {string[]} logArguments\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.consoleLog = function (logLevel, logArguments) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        console.log.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.INFO:\n        console.info.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.WARNING:\n        console.warn.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.ERROR:\n        console.error.apply(console, logArguments);\n        break;\n\n      default:\n        console.log.apply(console, logArguments);\n    }\n  };\n\n  return ConsoleLogHandler;\n}();\n\nexports.ConsoleLogHandler = ConsoleLogHandler;\nvar globalLogLevel = models_1.LogLevel.NOTSET;\nvar globalLogHandler = null;\n\nvar OptimizelyLogger =\n/** @class */\nfunction () {\n  function OptimizelyLogger(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.messagePrefix = '';\n\n    if (opts.messagePrefix) {\n      this.messagePrefix = opts.messagePrefix;\n    }\n  }\n  /**\n   * @param {(LogLevel | LogInputObject)} levelOrObj\n   * @param {string} [message]\n   * @memberof OptimizelyLogger\n   */\n\n\n  OptimizelyLogger.prototype.log = function (level, message) {\n    this.internalLog(coerceLogLevel(level), {\n      message: message,\n      splat: []\n    });\n  };\n\n  OptimizelyLogger.prototype.info = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.INFO, message, splat);\n  };\n\n  OptimizelyLogger.prototype.debug = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.DEBUG, message, splat);\n  };\n\n  OptimizelyLogger.prototype.warn = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.WARNING, message, splat);\n  };\n\n  OptimizelyLogger.prototype.error = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.ERROR, message, splat);\n  };\n\n  OptimizelyLogger.prototype.format = function (data) {\n    return \"\" + (this.messagePrefix ? this.messagePrefix + ': ' : '') + js_sdk_utils_1.sprintf.apply(void 0, [data.message].concat(data.splat));\n  };\n\n  OptimizelyLogger.prototype.internalLog = function (level, data) {\n    if (!globalLogHandler) {\n      return;\n    }\n\n    if (level < globalLogLevel) {\n      return;\n    }\n\n    globalLogHandler.log(level, this.format(data));\n\n    if (data.error && data.error instanceof Error) {\n      errorHandler_1.getErrorHandler().handleError(data.error);\n    }\n  };\n\n  OptimizelyLogger.prototype.namedLog = function (level, message, splat) {\n    var error;\n\n    if (message instanceof Error) {\n      error = message;\n      message = error.message;\n      this.internalLog(level, {\n        error: error,\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    if (splat.length === 0) {\n      this.internalLog(level, {\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    var last = splat[splat.length - 1];\n\n    if (last instanceof Error) {\n      error = last;\n      splat.splice(-1);\n    }\n\n    this.internalLog(level, {\n      message: message,\n      error: error,\n      splat: splat\n    });\n  };\n\n  return OptimizelyLogger;\n}();\n\nvar globalLogManager = new DefaultLogManager();\n\nfunction getLogger(name) {\n  return globalLogManager.getLogger(name);\n}\n\nexports.getLogger = getLogger;\n\nfunction setLogHandler(logger) {\n  globalLogHandler = logger;\n}\n\nexports.setLogHandler = setLogHandler;\n\nfunction setLogLevel(level) {\n  level = coerceLogLevel(level);\n\n  if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n    globalLogLevel = models_1.LogLevel.ERROR;\n  } else {\n    globalLogLevel = level;\n  }\n}\n\nexports.setLogLevel = setLogLevel;\n\nfunction getLogLevel() {\n  return globalLogLevel;\n}\n\nexports.getLogLevel = getLogLevel;\n/**\n * Resets all global logger state to it's original\n */\n\nfunction resetLogger() {\n  globalLogManager = new DefaultLogManager();\n  globalLogLevel = models_1.LogLevel.NOTSET;\n}\n\nexports.resetLogger = resetLogger;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"NOTSET\"] = 0] = \"NOTSET\";\n  LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n  LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n  LogLevel[LogLevel[\"WARNING\"] = 3] = \"WARNING\";\n  LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar uuid_1 = require(\"uuid\");\n\nfunction getTimestamp() {\n  return new Date().getTime();\n}\n\nexports.getTimestamp = getTimestamp;\n\nfunction generateUUID() {\n  return uuid_1.v4();\n}\n\nexports.generateUUID = generateUUID;\n/**\n * Validates a value is a valid TypeScript enum\n *\n * @export\n * @param {object} enumToCheck\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isValidEnum(enumToCheck, value) {\n  var found = false;\n  var keys = Object.keys(enumToCheck);\n\n  for (var index = 0; index < keys.length; index++) {\n    if (value === enumToCheck[keys[index]]) {\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.isValidEnum = isValidEnum;\n\nfunction groupBy(arr, grouperFn) {\n  var grouper = {};\n  arr.forEach(function (item) {\n    var key = grouperFn(item);\n    grouper[key] = grouper[key] || [];\n    grouper[key].push(item);\n  });\n  return objectValues(grouper);\n}\n\nexports.groupBy = groupBy;\n\nfunction objectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nexports.objectValues = objectValues;\n\nfunction find(arr, cond) {\n  var found;\n\n  for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n    var item = arr_1[_i];\n\n    if (cond(item)) {\n      found = item;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.find = find;\n\nfunction keyBy(arr, keyByFn) {\n  var map = {};\n  arr.forEach(function (item) {\n    var key = keyByFn(item);\n    map[key] = item;\n  });\n  return map;\n}\n\nexports.keyBy = keyBy;\n\nfunction sprintf(format) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  var i = 0;\n  return format.replace(/%s/g, function () {\n    var arg = args[i++];\n    var type = typeof arg;\n\n    if (type === 'function') {\n      return arg();\n    } else if (type === 'string') {\n      return arg;\n    } else {\n      return String(arg);\n    }\n  });\n}\n\nexports.sprintf = sprintf;","var v1 = require('./v1');\n\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nmodule.exports = uuid;","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid'); // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar e,\n    t = require(\"@optimizely/js-sdk-logging\"),\n    r = require(\"@optimizely/js-sdk-event-processor\"),\n    i = require(\"@optimizely/js-sdk-utils\"),\n    n = (e = require(\"murmurhash\")) && \"object\" == typeof e && \"default\" in e ? e.default : e,\n    o = require(\"@optimizely/js-sdk-datafile-manager\"),\n    _a = function a() {\n  return (_a = Object.assign || function (e) {\n    for (var t, r = 1, i = arguments.length; r < i; r++) {\n      for (var n in t = arguments[r]) {\n        Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n      }\n    }\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction s() {\n  for (var e = 0, t = 0, r = arguments.length; t < r; t++) {\n    e += arguments[t].length;\n  }\n\n  var i = Array(e),\n      n = 0;\n\n  for (t = 0; t < r; t++) {\n    for (var o = arguments[t], a = 0, s = o.length; a < s; a++, n++) {\n      i[n] = o[a];\n    }\n  }\n\n  return i;\n}\n\nvar u = {\n  NOTSET: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARNING: 3,\n  ERROR: 4\n},\n    l = {\n  CONDITION_EVALUATOR_ERROR: \"%s: Error evaluating audience condition of type %s: %s\",\n  DATAFILE_AND_SDK_KEY_MISSING: \"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely\",\n  EXPERIMENT_KEY_NOT_IN_DATAFILE: \"%s: Experiment key %s is not in datafile.\",\n  FEATURE_NOT_IN_DATAFILE: \"%s: Feature key %s is not in datafile.\",\n  IMPROPERLY_FORMATTED_EXPERIMENT: \"%s: Experiment key %s is improperly formatted.\",\n  INVALID_ATTRIBUTES: \"%s: Provided attributes are in an invalid format.\",\n  INVALID_BUCKETING_ID: \"%s: Unable to generate hash for bucketing ID %s: %s\",\n  INVALID_DATAFILE: \"%s: Datafile is invalid - property %s: %s\",\n  INVALID_DATAFILE_MALFORMED: \"%s: Datafile is invalid because it is malformed.\",\n  INVALID_CONFIG: \"%s: Provided Optimizely config is in an invalid format.\",\n  INVALID_JSON: \"%s: JSON object is not valid.\",\n  INVALID_ERROR_HANDLER: '%s: Provided \"errorHandler\" is in an invalid format.',\n  INVALID_EVENT_DISPATCHER: '%s: Provided \"eventDispatcher\" is in an invalid format.',\n  INVALID_EVENT_TAGS: \"%s: Provided event tags are in an invalid format.\",\n  INVALID_EXPERIMENT_KEY: \"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.\",\n  INVALID_EXPERIMENT_ID: \"%s: Experiment ID %s is not in datafile.\",\n  INVALID_GROUP_ID: \"%s: Group ID %s is not in datafile.\",\n  INVALID_LOGGER: '%s: Provided \"logger\" is in an invalid format.',\n  INVALID_ROLLOUT_ID: \"%s: Invalid rollout ID %s attached to feature %s\",\n  INVALID_USER_ID: \"%s: Provided user ID is in an invalid format.\",\n  INVALID_USER_PROFILE_SERVICE: \"%s: Provided user profile service instance is in an invalid format: %s.\",\n  NO_DATAFILE_SPECIFIED: \"%s: No datafile specified. Cannot start optimizely.\",\n  NO_JSON_PROVIDED: \"%s: No JSON object to validate against schema.\",\n  NO_VARIATION_FOR_EXPERIMENT_KEY: \"%s: No variation key %s defined in datafile for experiment %s.\",\n  UNDEFINED_ATTRIBUTE: \"%s: Provided attribute: %s has an undefined value.\",\n  UNRECOGNIZED_ATTRIBUTE: \"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.\",\n  UNABLE_TO_CAST_VALUE: \"%s: Unable to cast value %s to type %s, returning null.\",\n  USER_NOT_IN_FORCED_VARIATION: \"%s: User %s is not in the forced variation map. Cannot remove their forced variation.\",\n  USER_PROFILE_LOOKUP_ERROR: '%s: Error while looking up user profile for user ID \"%s\": %s.',\n  USER_PROFILE_SAVE_ERROR: '%s: Error while saving user profile for user ID \"%s\": %s.',\n  VARIABLE_KEY_NOT_IN_DATAFILE: '%s: Variable with key \"%s\" associated with feature with key \"%s\" is not in datafile.',\n  VARIATION_ID_NOT_IN_DATAFILE: \"%s: No variation ID %s defined in datafile for experiment %s.\",\n  VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT: \"%s: Variation ID %s is not in the datafile.\",\n  INVALID_INPUT_FORMAT: \"%s: Provided %s is in an invalid format.\",\n  INVALID_DATAFILE_VERSION: \"%s: This version of the JavaScript SDK does not support the given datafile version: %s\",\n  INVALID_VARIATION_KEY: \"%s: Provided variation key is in an invalid format.\"\n},\n    E = {\n  ACTIVATE_USER: \"%s: Activating user %s in experiment %s.\",\n  DISPATCH_CONVERSION_EVENT: \"%s: Dispatching conversion event to URL %s with params %s.\",\n  DISPATCH_IMPRESSION_EVENT: \"%s: Dispatching impression event to URL %s with params %s.\",\n  DEPRECATED_EVENT_VALUE: \"%s: Event value is deprecated in %s call.\",\n  EVENT_KEY_NOT_FOUND: \"%s: Event key %s is not in datafile.\",\n  EXPERIMENT_NOT_RUNNING: \"%s: Experiment %s is not running.\",\n  FEATURE_ENABLED_FOR_USER: \"%s: Feature %s is enabled for user %s.\",\n  FEATURE_NOT_ENABLED_FOR_USER: \"%s: Feature %s is not enabled for user %s.\",\n  FEATURE_HAS_NO_EXPERIMENTS: \"%s: Feature %s is not attached to any experiments.\",\n  FAILED_TO_PARSE_VALUE: '%s: Failed to parse event value \"%s\" from event tags.',\n  FAILED_TO_PARSE_REVENUE: '%s: Failed to parse revenue value \"%s\" from event tags.',\n  FORCED_BUCKETING_FAILED: \"%s: Variation key %s is not in datafile. Not activating user %s.\",\n  INVALID_OBJECT: \"%s: Optimizely object is not valid. Failing %s.\",\n  INVALID_CLIENT_ENGINE: \"%s: Invalid client engine passed: %s. Defaulting to node-sdk.\",\n  INVALID_DEFAULT_DECIDE_OPTIONS: \"%s: Provided default decide options is not an array.\",\n  INVALID_DECIDE_OPTIONS: \"%s: Provided decide options is not an array. Using default decide options.\",\n  INVALID_VARIATION_ID: \"%s: Bucketed into an invalid variation ID. Returning null.\",\n  NOTIFICATION_LISTENER_EXCEPTION: \"%s: Notification listener for (%s) threw exception: %s\",\n  NO_ROLLOUT_EXISTS: \"%s: There is no rollout of feature %s.\",\n  NOT_ACTIVATING_USER: \"%s: Not activating user %s for experiment %s.\",\n  NOT_TRACKING_USER: \"%s: Not tracking user %s.\",\n  PARSED_REVENUE_VALUE: '%s: Parsed revenue value \"%s\" from event tags.',\n  PARSED_NUMERIC_VALUE: '%s: Parsed event value \"%s\" from event tags.',\n  RETURNING_STORED_VARIATION: '%s: Returning previously activated variation \"%s\" of experiment \"%s\" for user \"%s\" from user profile.',\n  ROLLOUT_HAS_NO_EXPERIMENTS: \"%s: Rollout of feature %s has no experiments\",\n  SAVED_VARIATION: '%s: Saved variation \"%s\" of experiment \"%s\" for user \"%s\".',\n  SAVED_VARIATION_NOT_FOUND: \"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.\",\n  SHOULD_NOT_DISPATCH_ACTIVATE: '%s: Experiment %s is not in \"Running\" state. Not activating user.',\n  SKIPPING_JSON_VALIDATION: \"%s: Skipping JSON schema validation.\",\n  TRACK_EVENT: \"%s: Tracking event %s for user %s.\",\n  UNRECOGNIZED_DECIDE_OPTION: \"%s: Unrecognized decide option %s provided.\",\n  USER_ASSIGNED_TO_EXPERIMENT_BUCKET: \"%s: Assigned bucket %s to user with bucketing ID %s.\",\n  USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP: \"%s: User %s is in experiment %s of group %s.\",\n  USER_BUCKETED_INTO_TARGETING_RULE: \"%s: User %s bucketed into targeting rule %s.\",\n  USER_IN_FEATURE_EXPERIMENT: \"%s: User %s is in variation %s of experiment %s on the feature %s.\",\n  USER_IN_ROLLOUT: \"%s: User %s is in rollout of feature %s.\",\n  USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE: \"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.\",\n  USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP: \"%s: User %s is not in experiment %s of group %s.\",\n  USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP: \"%s: User %s is not in any experiment of group %s.\",\n  USER_NOT_BUCKETED_INTO_TARGETING_RULE: \"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.\",\n  USER_NOT_IN_FEATURE_EXPERIMENT: \"%s: User %s is not in any experiment on the feature %s.\",\n  USER_NOT_IN_ROLLOUT: \"%s: User %s is not in rollout of feature %s.\",\n  USER_FORCED_IN_VARIATION: \"%s: User %s is forced in variation %s.\",\n  USER_MAPPED_TO_FORCED_VARIATION: \"%s: Set variation %s for experiment %s and user %s in the forced variation map.\",\n  USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE: \"%s: User %s does not meet conditions for targeting rule %s.\",\n  USER_MEETS_CONDITIONS_FOR_TARGETING_RULE: \"%s: User %s meets conditions for targeting rule %s.\",\n  USER_HAS_VARIATION: \"%s: User %s is in variation %s of experiment %s.\",\n  USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED: \"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.\",\n  USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED: \"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.\",\n  USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID: \"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.\",\n  USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID: \"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.\",\n  USER_HAS_FORCED_VARIATION: \"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.\",\n  USER_HAS_NO_VARIATION: \"%s: User %s is in no variation of experiment %s.\",\n  USER_HAS_NO_FORCED_VARIATION: \"%s: User %s is not in the forced variation map.\",\n  USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT: \"%s: No experiment %s mapped to user %s in the forced variation map.\",\n  USER_NOT_IN_ANY_EXPERIMENT: \"%s: User %s is not in any experiment of group %s.\",\n  USER_NOT_IN_EXPERIMENT: \"%s: User %s does not meet conditions to be in experiment %s.\",\n  USER_RECEIVED_DEFAULT_VARIABLE_VALUE: '%s: User \"%s\" is not in any variation or rollout rule. Returning default value for variable \"%s\" of feature flag \"%s\".',\n  FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE: '%s: Feature \"%s\" is not enabled for user %s. Returning the default variable value \"%s\".',\n  VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE: '%s: Variable \"%s\" is not used in variation \"%s\". Returning default value.',\n  USER_RECEIVED_VARIABLE_VALUE: '%s: Got variable value \"%s\" for variable \"%s\" of feature flag \"%s\"',\n  VALID_DATAFILE: \"%s: Datafile is valid.\",\n  VALID_USER_PROFILE_SERVICE: \"%s: Valid user profile service provided.\",\n  VARIATION_REMOVED_FOR_USER: \"%s: Variation mapped to experiment %s has been removed for user %s.\",\n  VARIABLE_REQUESTED_WITH_WRONG_TYPE: '%s: Requested variable type \"%s\", but variable is of type \"%s\". Use correct API to retrieve value. Returning None.',\n  VALID_BUCKETING_ID: '%s: BucketingId is valid: \"%s\"',\n  BUCKETING_ID_NOT_STRING: \"%s: BucketingID attribute is not a string. Defaulted to userId\",\n  EVALUATING_AUDIENCE: '%s: Starting to evaluate audience \"%s\" with conditions: %s.',\n  EVALUATING_AUDIENCES_COMBINED: '%s: Evaluating audiences for %s \"%s\": %s.',\n  AUDIENCE_EVALUATION_RESULT: '%s: Audience \"%s\" evaluated to %s.',\n  AUDIENCE_EVALUATION_RESULT_COMBINED: \"%s: Audiences for %s %s collectively evaluated to %s.\",\n  MISSING_ATTRIBUTE_VALUE: '%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute \"%s\".',\n  UNEXPECTED_CONDITION_VALUE: \"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.\",\n  UNEXPECTED_TYPE: '%s: Audience condition %s evaluated to UNKNOWN because a value of type \"%s\" was passed for user attribute \"%s\".',\n  UNEXPECTED_TYPE_NULL: '%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute \"%s\".',\n  UNKNOWN_CONDITION_TYPE: \"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.\",\n  UNKNOWN_MATCH_TYPE: \"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.\",\n  UPDATED_OPTIMIZELY_CONFIG: \"%s: Updated Optimizely config to revision %s (project id %s)\",\n  OUT_OF_BOUNDS: '%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute \"%s\" is not in the range [-2^53, +2^53].',\n  UNABLE_TO_ATTACH_UNLOAD: '%s: unable to bind optimizely.close() to page unload event: \"%s\"'\n},\n    I = {\n  BOT_FILTERING: \"$opt_bot_filtering\",\n  BUCKETING_ID: \"$opt_bucketing_id\",\n  STICKY_BUCKETING_KEY: \"$opt_experiment_bucket_map\",\n  USER_AGENT: \"$opt_user_agent\",\n  FORCED_DECISION_NULL_RULE_KEY: \"$opt_null_rule_key\"\n},\n    c = i.NOTIFICATION_TYPES,\n    f = {\n  AB_TEST: \"ab-test\",\n  FEATURE: \"feature\",\n  FEATURE_TEST: \"feature-test\",\n  FEATURE_VARIABLE: \"feature-variable\",\n  ALL_FEATURE_VARIABLES: \"all-feature-variables\",\n  FLAG: \"flag\"\n},\n    _ = {\n  FEATURE_TEST: \"feature-test\",\n  ROLLOUT: \"rollout\",\n  EXPERIMENT: \"experiment\"\n},\n    d = {\n  RULE: \"rule\",\n  EXPERIMENT: \"experiment\"\n},\n    g = {\n  BOOLEAN: \"boolean\",\n  DOUBLE: \"double\",\n  INTEGER: \"integer\",\n  STRING: \"string\",\n  JSON: \"json\"\n},\n    p = {\n  V2: \"2\",\n  V3: \"3\",\n  V4: \"4\"\n},\n    O = {\n  SDK_NOT_READY: \"Optimizely SDK not configured properly yet.\",\n  FLAG_KEY_INVALID: 'No flag was found for key \"%s\".',\n  VARIABLE_VALUE_INVALID: 'Variable value for key \"%s\" is invalid or wrong type.'\n},\n    N = Object.freeze({\n  __proto__: null,\n  LOG_LEVEL: u,\n  ERROR_MESSAGES: l,\n  LOG_MESSAGES: E,\n  CONTROL_ATTRIBUTES: I,\n  JAVASCRIPT_CLIENT_ENGINE: \"javascript-sdk\",\n  NODE_CLIENT_ENGINE: \"node-sdk\",\n  REACT_CLIENT_ENGINE: \"react-sdk\",\n  REACT_NATIVE_CLIENT_ENGINE: \"react-native-sdk\",\n  REACT_NATIVE_JS_CLIENT_ENGINE: \"react-native-js-sdk\",\n  NODE_CLIENT_VERSION: \"4.9.1\",\n  NOTIFICATION_TYPES: c,\n  DECISION_NOTIFICATION_TYPES: f,\n  DECISION_SOURCES: _,\n  AUDIENCE_EVALUATION_TYPES: d,\n  FEATURE_VARIABLE_TYPES: g,\n  DATAFILE_VERSIONS: p,\n  DECISION_MESSAGES: O\n}),\n    R = \"CONFIG_VALIDATOR\",\n    T = [p.V2, p.V3, p.V4],\n    v = function v(e) {\n  if (\"object\" == typeof e && null !== e) {\n    var t = e,\n        r = t.errorHandler,\n        n = t.eventDispatcher,\n        o = t.logger;\n    if (r && \"function\" != typeof r.handleError) throw new Error(i.sprintf(l.INVALID_ERROR_HANDLER, R));\n    if (n && \"function\" != typeof n.dispatchEvent) throw new Error(i.sprintf(l.INVALID_EVENT_DISPATCHER, R));\n    if (o && \"function\" != typeof o.log) throw new Error(i.sprintf(l.INVALID_LOGGER, R));\n    return !0;\n  }\n\n  throw new Error(i.sprintf(l.INVALID_CONFIG, R));\n},\n    h = function h(e) {\n  if (!e) throw new Error(i.sprintf(l.NO_DATAFILE_SPECIFIED, R));\n  if (\"string\" == typeof e) try {\n    e = JSON.parse(e);\n  } catch (e) {\n    throw new Error(i.sprintf(l.INVALID_DATAFILE_MALFORMED, R));\n  }\n  if (\"object\" == typeof e && !Array.isArray(e) && null !== e && -1 === T.indexOf(e.version)) throw new Error(i.sprintf(l.INVALID_DATAFILE_VERSION, R, e.version));\n  return e;\n};\n\nvar y = {\n  handleError: function handleError() {}\n},\n    A = function A(e) {\n  return Object.keys(e).map(function (t) {\n    return encodeURIComponent(t) + \"=\" + encodeURIComponent(e[t]);\n  }).join(\"&\");\n},\n    U = {\n  dispatchEvent: function dispatchEvent(e, t) {\n    var r,\n        i = e.params,\n        n = e.url;\n    \"POST\" === e.httpVerb ? ((r = new XMLHttpRequest()).open(\"POST\", n, !0), r.setRequestHeader(\"Content-Type\", \"application/json\"), r.onreadystatechange = function () {\n      if (4 === r.readyState && t && \"function\" == typeof t) try {\n        t({\n          statusCode: r.status\n        });\n      } catch (e) {}\n    }, r.send(JSON.stringify(i))) : (n += \"?wxhr=true\", i && (n += \"&\" + A(i)), (r = new XMLHttpRequest()).open(\"GET\", n, !0), r.onreadystatechange = function () {\n      if (4 === r.readyState && t && \"function\" == typeof t) try {\n        t({\n          statusCode: r.status\n        });\n      } catch (e) {}\n    }, r.send());\n  }\n},\n    D = function () {\n  function e() {}\n\n  return e.prototype.log = function () {}, e;\n}();\n\nfunction S(e) {\n  return new t.ConsoleLogHandler(e);\n}\n\nvar L,\n    m,\n    V = Object.freeze({\n  __proto__: null,\n  NoOpLogger: D,\n  createLogger: S,\n  createNoOpLogger: function createNoOpLogger() {\n    return new D();\n  }\n});\n\nfunction C(e, t, r) {\n  return {\n    variationKey: null,\n    enabled: !1,\n    variables: {},\n    ruleKey: null,\n    flagKey: e,\n    userContext: t,\n    reasons: r\n  };\n}\n\n!function (e) {\n  e.BOOLEAN = \"boolean\", e.DOUBLE = \"double\", e.INTEGER = \"integer\", e.STRING = \"string\", e.JSON = \"json\";\n}(L || (L = {})), (m = exports.OptimizelyDecideOption || (exports.OptimizelyDecideOption = {})).DISABLE_DECISION_EVENT = \"DISABLE_DECISION_EVENT\", m.ENABLED_FLAGS_ONLY = \"ENABLED_FLAGS_ONLY\", m.IGNORE_USER_PROFILE_SERVICE = \"IGNORE_USER_PROFILE_SERVICE\", m.INCLUDE_REASONS = \"INCLUDE_REASONS\", m.EXCLUDE_VARIABLES = \"EXCLUDE_VARIABLES\";\n\nvar F = function () {\n  function e(e) {\n    var t,\n        r = e.optimizely,\n        i = e.userId,\n        n = e.attributes;\n    this.optimizely = r, this.userId = i, this.attributes = null !== (t = _a({}, n)) && void 0 !== t ? t : {}, this.forcedDecisionsMap = {};\n  }\n\n  return e.prototype.setAttribute = function (e, t) {\n    this.attributes[e] = t;\n  }, e.prototype.getUserId = function () {\n    return this.userId;\n  }, e.prototype.getAttributes = function () {\n    return _a({}, this.attributes);\n  }, e.prototype.getOptimizely = function () {\n    return this.optimizely;\n  }, e.prototype.decide = function (e, t) {\n    return void 0 === t && (t = []), this.optimizely.decide(this.cloneUserContext(), e, t);\n  }, e.prototype.decideForKeys = function (e, t) {\n    return void 0 === t && (t = []), this.optimizely.decideForKeys(this.cloneUserContext(), e, t);\n  }, e.prototype.decideAll = function (e) {\n    return void 0 === e && (e = []), this.optimizely.decideAll(this.cloneUserContext(), e);\n  }, e.prototype.trackEvent = function (e, t) {\n    this.optimizely.track(e, this.userId, this.attributes, t);\n  }, e.prototype.setForcedDecision = function (e, t) {\n    var r,\n        i = e.flagKey,\n        n = null !== (r = e.ruleKey) && void 0 !== r ? r : I.FORCED_DECISION_NULL_RULE_KEY,\n        o = {\n      variationKey: t.variationKey\n    };\n    return this.forcedDecisionsMap[i] || (this.forcedDecisionsMap[i] = {}), this.forcedDecisionsMap[i][n] = o, !0;\n  }, e.prototype.getForcedDecision = function (e) {\n    return this.findForcedDecision(e);\n  }, e.prototype.removeForcedDecision = function (e) {\n    var t,\n        r = null !== (t = e.ruleKey) && void 0 !== t ? t : I.FORCED_DECISION_NULL_RULE_KEY,\n        i = e.flagKey,\n        n = !1;\n    this.forcedDecisionsMap.hasOwnProperty(i) && (this.forcedDecisionsMap[i].hasOwnProperty(r) && (delete this.forcedDecisionsMap[i][r], n = !0), 0 === Object.keys(this.forcedDecisionsMap[i]).length && delete this.forcedDecisionsMap[i]);\n    return n;\n  }, e.prototype.removeAllForcedDecisions = function () {\n    return this.forcedDecisionsMap = {}, !0;\n  }, e.prototype.findForcedDecision = function (e) {\n    var t,\n        r = null !== (t = e.ruleKey) && void 0 !== t ? t : I.FORCED_DECISION_NULL_RULE_KEY,\n        i = e.flagKey;\n\n    if (this.forcedDecisionsMap.hasOwnProperty(e.flagKey)) {\n      var n = this.forcedDecisionsMap[i];\n      if (n.hasOwnProperty(r)) return {\n        variationKey: n[r].variationKey\n      };\n    }\n\n    return null;\n  }, e.prototype.cloneUserContext = function () {\n    var t = new e({\n      optimizely: this.getOptimizely(),\n      userId: this.getUserId(),\n      attributes: this.getAttributes()\n    });\n    return Object.keys(this.forcedDecisionsMap).length > 0 && (t.forcedDecisionsMap = _a({}, this.forcedDecisionsMap)), t;\n  }, e;\n}(),\n    M = [\"and\", \"or\", \"not\"];\n\nfunction P(e, t) {\n  if (Array.isArray(e)) {\n    var r = e[0],\n        i = e.slice(1);\n\n    switch (\"string\" == typeof r && -1 === M.indexOf(r) && (r = \"or\", i = e), r) {\n      case \"and\":\n        return function (e, t) {\n          var r = !1;\n\n          if (Array.isArray(e)) {\n            for (var i = 0; i < e.length; i++) {\n              var n = P(e[i], t);\n              if (!1 === n) return !1;\n              null === n && (r = !0);\n            }\n\n            return !r || null;\n          }\n\n          return null;\n        }(i, t);\n\n      case \"not\":\n        return function (e, t) {\n          if (Array.isArray(e) && e.length > 0) {\n            var r = P(e[0], t);\n            return null === r ? null : !r;\n          }\n\n          return null;\n        }(i, t);\n\n      default:\n        return function (e, t) {\n          var r = !1;\n\n          if (Array.isArray(e)) {\n            for (var i = 0; i < e.length; i++) {\n              var n = P(e[i], t);\n              if (!0 === n) return !0;\n              null === n && (r = !0);\n            }\n\n            return !!r && null;\n          }\n\n          return null;\n        }(i, t);\n    }\n  }\n\n  return t(e);\n}\n\nvar b = function () {\n  function e(t, r) {\n    var i, n;\n    this.sdkKey = null !== (i = t.sdkKey) && void 0 !== i ? i : \"\", this.environmentKey = null !== (n = t.environmentKey) && void 0 !== n ? n : \"\", this.attributes = t.attributes, this.audiences = e.getAudiences(t), this.events = t.events, this.revision = t.revision;\n    var o = (t.featureFlags || []).reduce(function (e, t) {\n      return e[t.id] = t.variables, e;\n    }, {}),\n        a = e.getExperimentsMapById(t, o);\n    this.experimentsMap = e.getExperimentsKeyMap(a), this.featuresMap = e.getFeaturesMap(t, o, a), this.datafile = r;\n  }\n\n  return e.prototype.getDatafile = function () {\n    return this.datafile;\n  }, e.getAudiences = function (e) {\n    var t = [],\n        r = [];\n    return (e.typedAudiences || []).forEach(function (e) {\n      t.push({\n        id: e.id,\n        conditions: JSON.stringify(e.conditions),\n        name: e.name\n      }), r.push(e.id);\n    }), (e.audiences || []).forEach(function (e) {\n      -1 === r.indexOf(e.id) && \"$opt_dummy_audience\" != e.id && t.push({\n        id: e.id,\n        conditions: JSON.stringify(e.conditions),\n        name: e.name\n      });\n    }), t;\n  }, e.getSerializedAudiences = function (t, r) {\n    var i = \"\";\n\n    if (t) {\n      var n = \"\";\n      t.forEach(function (t) {\n        var o = \"\";\n        if (t instanceof Array) o = \"(\" + (o = e.getSerializedAudiences(t, r)) + \")\";else if (M.indexOf(t) > -1) n = t.toUpperCase();else {\n          var a = r[t] ? r[t].name : t;\n          i || \"NOT\" === n ? (n = \"\" === n ? \"OR\" : n, i = \"\" === i ? n + ' \"' + r[t].name + '\"' : i.concat(\" \" + n + ' \"' + a + '\"')) : i = '\"' + a + '\"';\n        }\n        \"\" !== o && (\"\" !== i || \"NOT\" === n ? (n = \"\" === n ? \"OR\" : n, i = \"\" === i ? n + \" \" + o : i.concat(\" \" + n + \" \" + o)) : i = i.concat(o));\n      });\n    }\n\n    return i;\n  }, e.getExperimentAudiences = function (t, r) {\n    return t.audienceConditions ? e.getSerializedAudiences(t.audienceConditions, r.audiencesById) : \"\";\n  }, e.mergeFeatureVariables = function (e, t, r, i, n) {\n    var o = (e[r] || []).reduce(function (e, t) {\n      return e[t.key] = {\n        id: t.id,\n        key: t.key,\n        type: t.type,\n        value: t.defaultValue\n      }, e;\n    }, {});\n    return (i || []).forEach(function (e) {\n      var r = t[e.id],\n          i = {\n        id: e.id,\n        key: r.key,\n        type: r.type,\n        value: n ? e.value : r.defaultValue\n      };\n      o[r.key] = i;\n    }), o;\n  }, e.getVariationsMap = function (t, r, i, n) {\n    return t.reduce(function (t, o) {\n      var a = e.mergeFeatureVariables(r, i, n, o.variables, o.featureEnabled);\n      return t[o.key] = {\n        id: o.id,\n        key: o.key,\n        featureEnabled: o.featureEnabled,\n        variablesMap: a\n      }, t;\n    }, {});\n  }, e.getVariableIdMap = function (e) {\n    return (e.featureFlags || []).reduce(function (e, t) {\n      return t.variables.forEach(function (t) {\n        e[t.id] = t;\n      }), e;\n    }, {});\n  }, e.getDeliveryRules = function (t, r, i, n) {\n    var o = e.getVariableIdMap(t);\n    return n.map(function (n) {\n      return {\n        id: n.id,\n        key: n.key,\n        audiences: e.getExperimentAudiences(n, t),\n        variationsMap: e.getVariationsMap(n.variations, r, o, i)\n      };\n    });\n  }, e.getRolloutExperimentIds = function (e) {\n    var t = [];\n    return (e || []).forEach(function (e) {\n      e.experiments.forEach(function (e) {\n        t.push(e.id);\n      });\n    }), t;\n  }, e.getExperimentsMapById = function (t, r) {\n    var i = e.getVariableIdMap(t),\n        n = this.getRolloutExperimentIds(t.rollouts);\n    return (t.experiments || []).reduce(function (o, a) {\n      if (-1 === n.indexOf(a.id)) {\n        var s = t.experimentFeatureMap[a.id],\n            u = \"\";\n        s && s.length > 0 && (u = s[0]);\n        var l = e.getVariationsMap(a.variations, r, i, u.toString());\n        o[a.id] = {\n          id: a.id,\n          key: a.key,\n          audiences: e.getExperimentAudiences(a, t),\n          variationsMap: l\n        };\n      }\n\n      return o;\n    }, {});\n  }, e.getExperimentsKeyMap = function (e) {\n    var t = {};\n\n    for (var r in e) {\n      var i = e[r];\n      t[i.key] = i;\n    }\n\n    return t;\n  }, e.getFeaturesMap = function (t, r, i) {\n    var n = {};\n    return t.featureFlags.forEach(function (o) {\n      var a = {},\n          s = [];\n      o.experimentIds.forEach(function (e) {\n        var t = i[e];\n        t && (a[t.key] = t), s.push(i[e]);\n      });\n      var u = (o.variables || []).reduce(function (e, t) {\n        return e[t.key] = {\n          id: t.id,\n          key: t.key,\n          type: t.type,\n          value: t.defaultValue\n        }, e;\n      }, {}),\n          l = [],\n          E = t.rolloutIdMap[o.rolloutId];\n      E && (l = e.getDeliveryRules(t, r, o.id, E.experiments)), n[o.key] = {\n        id: o.id,\n        key: o.key,\n        experimentRules: s,\n        deliveryRules: l,\n        experimentsMap: a,\n        variablesMap: u\n      };\n    }), n;\n  }, e;\n}();\n\nvar k = Math.pow(2, 53);\nvar B = {\n  assign: function assign(e) {\n    for (var t = [], r = 1; r < arguments.length; r++) {\n      t[r - 1] = arguments[r];\n    }\n\n    if (!e) return {};\n    if (\"function\" == typeof Object.assign) return Object.assign.apply(Object, s([e], t));\n\n    for (var i = Object(e), n = 0; n < t.length; n++) {\n      var o = t[n];\n      if (null != o) for (var a in o) {\n        Object.prototype.hasOwnProperty.call(o, a) && (i[a] = o[a]);\n      }\n    }\n\n    return i;\n  },\n  currentTimestamp: function currentTimestamp() {\n    return Math.round(new Date().getTime());\n  },\n  isSafeInteger: function isSafeInteger(e) {\n    return \"number\" == typeof e && Math.abs(e) <= k;\n  },\n  keyBy: function keyBy(e, t) {\n    return e ? i.keyBy(e, function (e) {\n      return e[t];\n    }) : {};\n  },\n  uuid: i.generateUUID,\n  isNumber: function isNumber(e) {\n    return \"number\" == typeof e;\n  }\n},\n    K = \"PROJECT_CONFIG\";\n\nvar x = function x(e, t) {\n  void 0 === t && (t = null);\n  var r,\n      n,\n      o,\n      a,\n      s = (r = e, (a = B.assign({}, r)).audiences = (r.audiences || []).map(function (e) {\n    return B.assign({}, e);\n  }), a.experiments = (r.experiments || []).map(function (e) {\n    return B.assign({}, e);\n  }), a.featureFlags = (r.featureFlags || []).map(function (e) {\n    return B.assign({}, e);\n  }), a.groups = (r.groups || []).map(function (e) {\n    var t = B.assign({}, e);\n    return t.experiments = (e.experiments || []).map(function (e) {\n      return B.assign({}, e);\n    }), t;\n  }), a.rollouts = (r.rollouts || []).map(function (e) {\n    var t = B.assign({}, e);\n    return t.experiments = (e.experiments || []).map(function (e) {\n      return B.assign({}, e);\n    }), t;\n  }), a.environmentKey = null !== (n = r.environmentKey) && void 0 !== n ? n : \"\", a.sdkKey = null !== (o = r.sdkKey) && void 0 !== o ? o : \"\", a);\n  return s.__datafileStr = null === t ? JSON.stringify(e) : t, (s.audiences || []).forEach(function (e) {\n    e.conditions = JSON.parse(e.conditions);\n  }), s.audiencesById = B.keyBy(s.audiences, \"id\"), B.assign(s.audiencesById, B.keyBy(s.typedAudiences, \"id\")), s.attributeKeyMap = B.keyBy(s.attributes, \"key\"), s.eventKeyMap = B.keyBy(s.events, \"key\"), s.groupIdMap = B.keyBy(s.groups, \"id\"), Object.keys(s.groupIdMap || {}).forEach(function (e) {\n    (s.groupIdMap[e].experiments || []).forEach(function (t) {\n      s.experiments.push(B.assign(t, {\n        groupId: e\n      }));\n    });\n  }), s.rolloutIdMap = B.keyBy(s.rollouts || [], \"id\"), i.objectValues(s.rolloutIdMap || {}).forEach(function (e) {\n    (e.experiments || []).forEach(function (e) {\n      s.experiments.push(e), e.variationKeyMap = B.keyBy(e.variations, \"key\");\n    });\n  }), s.experimentKeyMap = B.keyBy(s.experiments, \"key\"), s.experimentIdMap = B.keyBy(s.experiments, \"id\"), s.variationIdMap = {}, s.variationVariableUsageMap = {}, (s.experiments || []).forEach(function (e) {\n    e.variationKeyMap = B.keyBy(e.variations, \"key\"), B.assign(s.variationIdMap, B.keyBy(e.variations, \"id\")), i.objectValues(e.variationKeyMap || {}).forEach(function (e) {\n      e.variables && (s.variationVariableUsageMap[e.id] = B.keyBy(e.variables, \"id\"));\n    });\n  }), s.experimentFeatureMap = {}, s.featureKeyMap = B.keyBy(s.featureFlags || [], \"key\"), i.objectValues(s.featureKeyMap || {}).forEach(function (e) {\n    e.variables.forEach(function (e) {\n      e.type === g.STRING && e.subType === g.JSON && (e.type = g.JSON, delete e.subType);\n    }), e.variableKeyMap = B.keyBy(e.variables, \"key\"), (e.experimentIds || []).forEach(function (t) {\n      s.experimentFeatureMap[t] ? s.experimentFeatureMap[t].push(e.id) : s.experimentFeatureMap[t] = [e.id];\n    });\n  }), s.flagRulesMap = {}, (s.featureFlags || []).forEach(function (e) {\n    var t = [];\n    e.experimentIds.forEach(function (e) {\n      var r = s.experimentIdMap[e];\n      r && t.push(r);\n    });\n    var r = s.rolloutIdMap[e.rolloutId];\n    r && t.push.apply(t, r.experiments), s.flagRulesMap[e.key] = t;\n  }), s.flagVariationsMap = {}, i.objectEntries(s.flagRulesMap || {}).forEach(function (e) {\n    var t = e[0],\n        r = e[1],\n        n = [];\n    r.forEach(function (e) {\n      e.variations.forEach(function (e) {\n        i.find(n, function (t) {\n          return t.id === e.id;\n        }) || n.push(e);\n      });\n    }), s.flagVariationsMap[t] = n;\n  }), s;\n},\n    G = function G(e, t) {\n  var r = e.experimentIdMap[t];\n  if (!r) throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID, K, t));\n  return r.layerId;\n},\n    w = function w(e, t, r) {\n  var i = e.attributeKeyMap[t],\n      n = 0 === t.indexOf(\"$opt_\");\n  return i ? (n && r.log(u.WARNING, \"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.\", t, \"$opt_\"), i.id) : n ? t : (r.log(u.DEBUG, l.UNRECOGNIZED_ATTRIBUTE, K, t), null);\n},\n    j = function j(e, t) {\n  var r = e.eventKeyMap[t];\n  return r ? r.id : null;\n},\n    H = function H(e, t) {\n  var r = e.experimentKeyMap[t];\n  if (!r) throw new Error(i.sprintf(l.INVALID_EXPERIMENT_KEY, K, t));\n  return r.status;\n},\n    Y = function Y(e, t) {\n  return e.variationIdMap.hasOwnProperty(t) ? e.variationIdMap[t].key : null;\n},\n    X = function X(e, t) {\n  if (e.experimentKeyMap.hasOwnProperty(t)) {\n    var r = e.experimentKeyMap[t];\n    if (r) return r;\n  }\n\n  throw new Error(i.sprintf(l.EXPERIMENT_KEY_NOT_IN_DATAFILE, K, t));\n},\n    z = function z(e, t) {\n  var r = e.experimentIdMap[t];\n  if (!r) throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID, K, t));\n  return r.trafficAllocation;\n},\n    J = function J(e, t, r) {\n  if (e.experimentIdMap.hasOwnProperty(t)) {\n    var i = e.experimentIdMap[t];\n    if (i) return i;\n  }\n\n  return r.log(u.ERROR, l.INVALID_EXPERIMENT_ID, K, t), null;\n},\n    Z = function Z(e, t, r) {\n  if (!e) return null;\n  var n = e.flagVariationsMap[t],\n      o = i.find(n, function (e) {\n    return e.key === r;\n  });\n  return o || null;\n},\n    W = function W(e, t, r) {\n  if (e.featureKeyMap.hasOwnProperty(t)) {\n    var i = e.featureKeyMap[t];\n    if (i) return i;\n  }\n\n  return r.log(u.ERROR, l.FEATURE_NOT_IN_DATAFILE, K, t), null;\n},\n    q = function q(e) {\n  return e.__datafileStr;\n},\n    $ = function $(e) {\n  var t;\n\n  try {\n    t = h(e.datafile);\n  } catch (e) {\n    return {\n      configObj: null,\n      error: e\n    };\n  }\n\n  if (e.jsonSchemaValidator) try {\n    e.jsonSchemaValidator.validate(t), e.logger.log(u.INFO, E.VALID_DATAFILE, K);\n  } catch (e) {\n    return {\n      configObj: null,\n      error: e\n    };\n  } else e.logger.log(u.INFO, E.SKIPPING_JSON_VALIDATION, K);\n  var r = [t];\n  return \"string\" == typeof e.datafile && r.push(e.datafile), {\n    configObj: x.apply(void 0, r),\n    error: null\n  };\n},\n    Q = function Q(e) {\n  return !!e.sendFlagDecisions;\n},\n    ee = t.getLogger();\n\nfunction te(e, t) {\n  return e instanceof Error ? e.message : t || \"Unknown error\";\n}\n\nvar re = function () {\n  function e(e) {\n    this.updateListeners = [], this.configObj = null, this.optimizelyConfigObj = null, this.datafileManager = null;\n\n    try {\n      if (this.jsonSchemaValidator = e.jsonSchemaValidator, !e.datafile && !e.sdkKey) {\n        var t = new Error(i.sprintf(l.DATAFILE_AND_SDK_KEY_MISSING, \"PROJECT_CONFIG_MANAGER\"));\n        return this.readyPromise = Promise.resolve({\n          success: !1,\n          reason: te(t)\n        }), void ee.error(t);\n      }\n\n      var r = null;\n      e.datafile && (r = this.handleNewDatafile(e.datafile)), e.sdkKey && e.datafileManager ? (this.datafileManager = e.datafileManager, this.datafileManager.start(), this.readyPromise = this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this), this.onDatafileManagerReadyReject.bind(this)), this.datafileManager.on(\"update\", this.onDatafileManagerUpdate.bind(this))) : this.configObj ? this.readyPromise = Promise.resolve({\n        success: !0\n      }) : this.readyPromise = Promise.resolve({\n        success: !1,\n        reason: te(r, \"Invalid datafile\")\n      });\n    } catch (e) {\n      ee.error(e), this.readyPromise = Promise.resolve({\n        success: !1,\n        reason: te(e, \"Error in initialize\")\n      });\n    }\n  }\n\n  return e.prototype.onDatafileManagerReadyFulfill = function () {\n    if (this.datafileManager) {\n      var e = this.handleNewDatafile(this.datafileManager.get());\n      return e ? {\n        success: !1,\n        reason: te(e)\n      } : {\n        success: !0\n      };\n    }\n\n    return {\n      success: !1,\n      reason: te(null, \"Datafile manager is not provided\")\n    };\n  }, e.prototype.onDatafileManagerReadyReject = function (e) {\n    return {\n      success: !1,\n      reason: te(e, \"Failed to become ready\")\n    };\n  }, e.prototype.onDatafileManagerUpdate = function () {\n    this.datafileManager && this.handleNewDatafile(this.datafileManager.get());\n  }, e.prototype.handleNewDatafile = function (e) {\n    var t = $({\n      datafile: e,\n      jsonSchemaValidator: this.jsonSchemaValidator,\n      logger: ee\n    }),\n        r = t.configObj,\n        i = t.error;\n    if (i) ee.error(i);else {\n      var n = this.configObj ? this.configObj.revision : \"null\";\n      r && n !== r.revision && (this.configObj = r, this.optimizelyConfigObj = null, this.updateListeners.forEach(function (e) {\n        return e(r);\n      }));\n    }\n    return i;\n  }, e.prototype.getConfig = function () {\n    return this.configObj;\n  }, e.prototype.getOptimizelyConfig = function () {\n    var e, t;\n    return !this.optimizelyConfigObj && this.configObj && (this.optimizelyConfigObj = (e = this.configObj, t = q(this.configObj), new b(e, t))), this.optimizelyConfigObj;\n  }, e.prototype.onReady = function () {\n    return this.readyPromise;\n  }, e.prototype.onUpdate = function (e) {\n    var t = this;\n    return this.updateListeners.push(e), function () {\n      var r = t.updateListeners.indexOf(e);\n      r > -1 && t.updateListeners.splice(r, 1);\n    };\n  }, e.prototype.stop = function () {\n    this.datafileManager && this.datafileManager.stop(), this.updateListeners = [];\n  }, e;\n}();\n\nvar ie = Math.pow(2, 32),\n    ne = function ne(e) {\n  var t = [],\n      r = e.experimentIdMap[e.experimentId].groupId;\n\n  if (r) {\n    var n = e.groupIdMap[r];\n    if (!n) throw new Error(i.sprintf(l.INVALID_GROUP_ID, \"BUCKETER\", r));\n\n    if (\"random\" === n.policy) {\n      var o = oe(n, e.bucketingId, e.userId, e.logger);\n      if (null === o) return e.logger.log(u.INFO, E.USER_NOT_IN_ANY_EXPERIMENT, \"BUCKETER\", e.userId, r), t.push([E.USER_NOT_IN_ANY_EXPERIMENT, \"BUCKETER\", e.userId, r]), {\n        result: null,\n        reasons: t\n      };\n      if (o !== e.experimentId) return e.logger.log(u.INFO, E.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP, \"BUCKETER\", e.userId, e.experimentKey, r), t.push([E.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP, \"BUCKETER\", e.userId, e.experimentKey, r]), {\n        result: null,\n        reasons: t\n      };\n      e.logger.log(u.INFO, E.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP, \"BUCKETER\", e.userId, e.experimentKey, r), t.push([E.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP, \"BUCKETER\", e.userId, e.experimentKey, r]);\n    }\n  }\n\n  var a = \"\" + e.bucketingId + e.experimentId,\n      s = se(a);\n  e.logger.log(u.DEBUG, E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET, \"BUCKETER\", s, e.userId), t.push([E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET, \"BUCKETER\", s, e.userId]);\n  var I = ae(s, e.trafficAllocationConfig);\n  return null === I || e.variationIdMap[I] ? {\n    result: I,\n    reasons: t\n  } : (I && (e.logger.log(u.WARNING, E.INVALID_VARIATION_ID, \"BUCKETER\"), t.push([E.INVALID_VARIATION_ID, \"BUCKETER\"])), {\n    result: null,\n    reasons: t\n  });\n},\n    oe = function oe(e, t, r, i) {\n  var n = \"\" + t + e.id,\n      o = se(n);\n  i.log(u.DEBUG, E.USER_ASSIGNED_TO_EXPERIMENT_BUCKET, \"BUCKETER\", o, r);\n  var a = e.trafficAllocation;\n  return ae(o, a);\n},\n    ae = function ae(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    if (e < t[r].endOfRange) return t[r].entityId;\n  }\n\n  return null;\n},\n    se = function se(e) {\n  try {\n    var t = n.v3(e, 1) / ie;\n    return Math.floor(1e4 * t);\n  } catch (t) {\n    throw new Error(i.sprintf(l.INVALID_BUCKETING_ID, \"BUCKETER\", e, t.message));\n  }\n},\n    ue = t.getLogger();\n\nfunction le(e) {\n  return /^\\d+$/.test(e);\n}\n\nfunction Ee(e) {\n  var t = e.indexOf(\"-\"),\n      r = e.indexOf(\"+\");\n  return !(t < 0) && (r < 0 || t < r);\n}\n\nfunction Ie(e) {\n  var t = e.indexOf(\"-\"),\n      r = e.indexOf(\"+\");\n  return !(r < 0) && (t < 0 || r < t);\n}\n\nfunction ce(e) {\n  var t = e,\n      r = \"\";\n  if (function (e) {\n    return /\\s/.test(e);\n  }(e)) return ue.warn(E.UNKNOWN_MATCH_TYPE, \"SEMANTIC VERSION\", e), null;\n  if (Ee(e) ? (t = e.substring(0, e.indexOf(\"-\")), r = e.substring(e.indexOf(\"-\") + 1)) : Ie(e) && (t = e.substring(0, e.indexOf(\"+\")), r = e.substring(e.indexOf(\"+\") + 1)), \"string\" != typeof t || \"string\" != typeof r) return null;\n  var i = t.split(\".\").length - 1;\n  if (i > 2) return ue.warn(E.UNKNOWN_MATCH_TYPE, \"SEMANTIC VERSION\", e), null;\n  var n = t.split(\".\");\n  if (n.length != i + 1) return ue.warn(E.UNKNOWN_MATCH_TYPE, \"SEMANTIC VERSION\", e), null;\n\n  for (var o = 0, a = n; o < a.length; o++) {\n    if (!le(a[o])) return ue.warn(E.UNKNOWN_MATCH_TYPE, \"SEMANTIC VERSION\", e), null;\n  }\n\n  return r && n.push(r), n;\n}\n\nvar fe = \"CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR\",\n    _e = t.getLogger(),\n    de = [\"exact\", \"exists\", \"gt\", \"ge\", \"lt\", \"le\", \"substring\", \"semver_eq\", \"semver_lt\", \"semver_le\", \"semver_gt\", \"semver_ge\"],\n    ge = {};\n\nfunction pe(e) {\n  return \"string\" == typeof e || \"boolean\" == typeof e || B.isNumber(e);\n}\n\nfunction Oe(e, t) {\n  var r = e.value,\n      i = typeof r,\n      n = e.name,\n      o = t[n],\n      a = typeof o;\n  return !pe(r) || B.isNumber(r) && !B.isSafeInteger(r) ? (_e.warn(E.UNEXPECTED_CONDITION_VALUE, fe, JSON.stringify(e)), null) : null === o ? (_e.debug(E.UNEXPECTED_TYPE_NULL, fe, JSON.stringify(e), n), null) : pe(o) && i === a ? B.isNumber(o) && !B.isSafeInteger(o) ? (_e.warn(E.OUT_OF_BOUNDS, fe, JSON.stringify(e), n), null) : r === o : (_e.warn(E.UNEXPECTED_TYPE, fe, JSON.stringify(e), a, n), null);\n}\n\nfunction Ne(e, t) {\n  var r = e.name,\n      i = t[r],\n      n = typeof i,\n      o = e.value;\n  return null !== o && B.isSafeInteger(o) ? null === i ? (_e.debug(E.UNEXPECTED_TYPE_NULL, fe, JSON.stringify(e), r), !1) : B.isNumber(i) ? !!B.isSafeInteger(i) || (_e.warn(E.OUT_OF_BOUNDS, fe, JSON.stringify(e), r), !1) : (_e.warn(E.UNEXPECTED_TYPE, fe, JSON.stringify(e), n, r), !1) : (_e.warn(E.UNEXPECTED_CONDITION_VALUE, fe, JSON.stringify(e)), !1);\n}\n\nfunction Re(e, t) {\n  var r = e.name,\n      i = t[r],\n      n = typeof i,\n      o = e.value;\n  return \"string\" != typeof o ? (_e.warn(E.UNEXPECTED_CONDITION_VALUE, fe, JSON.stringify(e)), null) : null === i ? (_e.debug(E.UNEXPECTED_TYPE_NULL, fe, JSON.stringify(e), r), null) : \"string\" != typeof i ? (_e.warn(E.UNEXPECTED_TYPE, fe, JSON.stringify(e), n, r), null) : function (e, t) {\n    var r = ce(t),\n        i = ce(e);\n    if (!r || !i) return null;\n\n    for (var n = r.length, o = 0; o < i.length; o++) {\n      if (n <= o) return Ee(e) || Ie(e) ? 1 : -1;\n\n      if (le(r[o])) {\n        var a = parseInt(r[o]),\n            s = parseInt(i[o]);\n        if (a > s) return 1;\n        if (a < s) return -1;\n      } else {\n        if (r[o] < i[o]) return Ee(e) && !Ee(t) ? 1 : -1;\n        if (r[o] > i[o]) return !Ee(e) && Ee(t) ? -1 : 1;\n      }\n    }\n\n    return Ee(t) && !Ee(e) ? -1 : 0;\n  }(o, i);\n}\n\nge.exact = Oe, ge.exists = function (e, t) {\n  var r = t[e.name];\n  return null != r;\n}, ge.gt = function (e, t) {\n  var r = t[e.name],\n      i = e.value;\n  if (!Ne(e, t) || null === i) return null;\n  return r > i;\n}, ge.ge = function (e, t) {\n  var r = t[e.name],\n      i = e.value;\n  if (!Ne(e, t) || null === i) return null;\n  return r >= i;\n}, ge.lt = function (e, t) {\n  var r = t[e.name],\n      i = e.value;\n  if (!Ne(e, t) || null === i) return null;\n  return r < i;\n}, ge.le = function (e, t) {\n  var r = t[e.name],\n      i = e.value;\n  if (!Ne(e, t) || null === i) return null;\n  return r <= i;\n}, ge.substring = function (e, t) {\n  var r = e.name,\n      i = t[e.name],\n      n = typeof i,\n      o = e.value;\n  if (\"string\" != typeof o) return _e.warn(E.UNEXPECTED_CONDITION_VALUE, fe, JSON.stringify(e)), null;\n  if (null === i) return _e.debug(E.UNEXPECTED_TYPE_NULL, fe, JSON.stringify(e), r), null;\n  if (\"string\" != typeof i) return _e.warn(E.UNEXPECTED_TYPE, fe, JSON.stringify(e), n, r), null;\n  return -1 !== i.indexOf(o);\n}, ge.semver_eq = function (e, t) {\n  var r = Re(e, t);\n  if (null === r) return null;\n  return 0 === r;\n}, ge.semver_gt = function (e, t) {\n  var r = Re(e, t);\n  if (null === r) return null;\n  return r > 0;\n}, ge.semver_ge = function (e, t) {\n  var r = Re(e, t);\n  if (null === r) return null;\n  return r >= 0;\n}, ge.semver_lt = function (e, t) {\n  var r = Re(e, t);\n  if (null === r) return null;\n  return r < 0;\n}, ge.semver_le = function (e, t) {\n  var r = Re(e, t);\n  if (null === r) return null;\n  return r <= 0;\n};\n\nvar Te = Object.freeze({\n  __proto__: null,\n  evaluate: function evaluate(e, t) {\n    var r = e.match;\n    if (void 0 !== r && -1 === de.indexOf(r)) return _e.warn(E.UNKNOWN_MATCH_TYPE, fe, JSON.stringify(e)), null;\n    var i = e.name;\n    return t.hasOwnProperty(i) || \"exists\" == r ? (r && ge[r] || Oe)(e, t) : (_e.debug(E.MISSING_ATTRIBUTE_VALUE, fe, JSON.stringify(e), i), null);\n  }\n}),\n    ve = t.getLogger(),\n    he = function () {\n  function e(e) {\n    this.typeToEvaluatorMap = B.assign({}, e, {\n      custom_attribute: Te\n    });\n  }\n\n  return e.prototype.evaluate = function (e, t, r) {\n    var i = this;\n    if (void 0 === r && (r = {}), !e || 0 === e.length) return !0;\n    return !!P(e, function (e) {\n      var n = t[e];\n\n      if (n) {\n        ve.log(u.DEBUG, E.EVALUATING_AUDIENCE, \"AUDIENCE_EVALUATOR\", e, JSON.stringify(n.conditions));\n        var o = P(n.conditions, i.evaluateConditionWithUserAttributes.bind(i, r)),\n            a = null === o ? \"UNKNOWN\" : o.toString().toUpperCase();\n        return ve.log(u.DEBUG, E.AUDIENCE_EVALUATION_RESULT, \"AUDIENCE_EVALUATOR\", e, a), o;\n      }\n\n      return null;\n    });\n  }, e.prototype.evaluateConditionWithUserAttributes = function (e, t) {\n    var r = this.typeToEvaluatorMap[t.type];\n    if (!r) return ve.log(u.WARNING, E.UNKNOWN_CONDITION_TYPE, \"AUDIENCE_EVALUATOR\", JSON.stringify(t)), null;\n\n    try {\n      return r.evaluate(t, e);\n    } catch (e) {\n      ve.log(u.ERROR, l.CONDITION_EVALUATOR_ERROR, \"AUDIENCE_EVALUATOR\", t.type, e.message);\n    }\n\n    return null;\n  }, e;\n}();\n\nfunction ye(e) {\n  return \"string\" == typeof e && \"\" !== e;\n}\n\nvar Ae = \"DECISION_SERVICE\",\n    Ue = function () {\n  function e(e) {\n    var t;\n    this.audienceEvaluator = (t = e.UNSTABLE_conditionEvaluators, new he(t)), this.forcedVariationMap = {}, this.logger = e.logger, this.userProfileService = e.userProfileService || null;\n  }\n\n  return e.prototype.getVariation = function (e, t, r, i) {\n    void 0 === i && (i = {});\n    var n = r.getUserId(),\n        o = r.getAttributes(),\n        a = this.getBucketingId(n, o),\n        s = [],\n        l = t.key;\n    if (!this.checkIfExperimentIsActive(e, l)) return this.logger.log(u.INFO, E.EXPERIMENT_NOT_RUNNING, Ae, l), s.push([E.EXPERIMENT_NOT_RUNNING, Ae, l]), {\n      result: null,\n      reasons: s\n    };\n    var I = this.getForcedVariation(e, l, n);\n    s.push.apply(s, I.reasons);\n    var c = I.result;\n    if (c) return {\n      result: c,\n      reasons: s\n    };\n    var f = this.getWhitelistedVariation(t, n);\n    s.push.apply(s, f.reasons);\n    var _ = f.result;\n    if (_) return {\n      result: _.key,\n      reasons: s\n    };\n    var g = i[exports.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],\n        p = this.resolveExperimentBucketMap(n, o);\n    if (!g && (_ = this.getStoredVariation(e, t, n, p))) return this.logger.log(u.INFO, E.RETURNING_STORED_VARIATION, Ae, _.key, l, n), s.push([E.RETURNING_STORED_VARIATION, Ae, _.key, l, n]), {\n      result: _.key,\n      reasons: s\n    };\n    var O = this.checkIfUserIsInAudience(e, t, d.EXPERIMENT, o, \"\");\n    if (s.push.apply(s, O.reasons), !O.result) return this.logger.log(u.INFO, E.USER_NOT_IN_EXPERIMENT, Ae, n, l), s.push([E.USER_NOT_IN_EXPERIMENT, Ae, n, l]), {\n      result: null,\n      reasons: s\n    };\n    var N = this.buildBucketerParams(e, t, a, n),\n        R = ne(N);\n    s.push.apply(s, R.reasons);\n    var T = R.result;\n    return T && (_ = e.variationIdMap[T]), _ ? (this.logger.log(u.INFO, E.USER_HAS_VARIATION, Ae, n, _.key, l), s.push([E.USER_HAS_VARIATION, Ae, n, _.key, l]), g || this.saveUserProfile(t, _, n, p), {\n      result: _.key,\n      reasons: s\n    }) : (this.logger.log(u.DEBUG, E.USER_HAS_NO_VARIATION, Ae, n, l), s.push([E.USER_HAS_NO_VARIATION, Ae, n, l]), {\n      result: null,\n      reasons: s\n    });\n  }, e.prototype.resolveExperimentBucketMap = function (e, t) {\n    t = t || {};\n    var r = this.getUserProfile(e) || {},\n        i = t[I.STICKY_BUCKETING_KEY];\n    return B.assign({}, r.experiment_bucket_map, i);\n  }, e.prototype.checkIfExperimentIsActive = function (e, t) {\n    return function (e, t) {\n      return \"Running\" === H(e, t);\n    }(e, t);\n  }, e.prototype.getWhitelistedVariation = function (e, t) {\n    var r = [];\n\n    if (e.forcedVariations && e.forcedVariations.hasOwnProperty(t)) {\n      var i = e.forcedVariations[t];\n      return e.variationKeyMap.hasOwnProperty(i) ? (this.logger.log(u.INFO, E.USER_FORCED_IN_VARIATION, Ae, t, i), r.push([E.USER_FORCED_IN_VARIATION, Ae, t, i]), {\n        result: e.variationKeyMap[i],\n        reasons: r\n      }) : (this.logger.log(u.ERROR, E.FORCED_BUCKETING_FAILED, Ae, i, t), r.push([E.FORCED_BUCKETING_FAILED, Ae, i, t]), {\n        result: null,\n        reasons: r\n      });\n    }\n\n    return {\n      result: null,\n      reasons: r\n    };\n  }, e.prototype.checkIfUserIsInAudience = function (e, t, r, n, o) {\n    var a = [],\n        s = function (e, t) {\n      var r = e.experimentIdMap[t];\n      if (!r) throw new Error(i.sprintf(l.INVALID_EXPERIMENT_ID, K, t));\n      return r.audienceConditions || r.audienceIds;\n    }(e, t.id),\n        I = e.audiencesById;\n\n    this.logger.log(u.DEBUG, E.EVALUATING_AUDIENCES_COMBINED, Ae, r, o || t.key, JSON.stringify(s)), a.push([E.EVALUATING_AUDIENCES_COMBINED, Ae, r, o || t.key, JSON.stringify(s)]);\n    var c = this.audienceEvaluator.evaluate(s, I, n);\n    return this.logger.log(u.INFO, E.AUDIENCE_EVALUATION_RESULT_COMBINED, Ae, r, o || t.key, c.toString().toUpperCase()), a.push([E.AUDIENCE_EVALUATION_RESULT_COMBINED, Ae, r, o || t.key, c.toString().toUpperCase()]), {\n      result: c,\n      reasons: a\n    };\n  }, e.prototype.buildBucketerParams = function (e, t, r, i) {\n    return {\n      bucketingId: r,\n      experimentId: t.id,\n      experimentKey: t.key,\n      experimentIdMap: e.experimentIdMap,\n      experimentKeyMap: e.experimentKeyMap,\n      groupIdMap: e.groupIdMap,\n      logger: this.logger,\n      trafficAllocationConfig: z(e, t.id),\n      userId: i,\n      variationIdMap: e.variationIdMap\n    };\n  }, e.prototype.getStoredVariation = function (e, t, r, i) {\n    if (i.hasOwnProperty(t.id)) {\n      var n = i[t.id],\n          o = n.variation_id;\n      if (e.variationIdMap.hasOwnProperty(o)) return e.variationIdMap[n.variation_id];\n      this.logger.log(u.INFO, E.SAVED_VARIATION_NOT_FOUND, Ae, r, o, t.key);\n    }\n\n    return null;\n  }, e.prototype.getUserProfile = function (e) {\n    var t = {\n      user_id: e,\n      experiment_bucket_map: {}\n    };\n    if (!this.userProfileService) return t;\n\n    try {\n      return this.userProfileService.lookup(e);\n    } catch (t) {\n      this.logger.log(u.ERROR, l.USER_PROFILE_LOOKUP_ERROR, Ae, e, t.message);\n    }\n\n    return null;\n  }, e.prototype.saveUserProfile = function (e, t, r, i) {\n    if (this.userProfileService) try {\n      i[e.id] = {\n        variation_id: t.id\n      }, this.userProfileService.save({\n        user_id: r,\n        experiment_bucket_map: i\n      }), this.logger.log(u.INFO, E.SAVED_VARIATION, Ae, t.key, e.key, r);\n    } catch (e) {\n      this.logger.log(u.ERROR, l.USER_PROFILE_SAVE_ERROR, Ae, r, e.message);\n    }\n  }, e.prototype.getVariationForFeature = function (e, t, r, i) {\n    void 0 === i && (i = {});\n    var n = [],\n        o = this.getVariationForFeatureExperiment(e, t, r, i);\n    n.push.apply(n, o.reasons);\n    var a = o.result;\n    if (null !== a.variation) return {\n      result: a,\n      reasons: n\n    };\n    var s = this.getVariationForRollout(e, t, r);\n    n.push.apply(n, s.reasons);\n    var l = s.result,\n        I = r.getUserId();\n    return l.variation ? (this.logger.log(u.DEBUG, E.USER_IN_ROLLOUT, Ae, I, t.key), n.push([E.USER_IN_ROLLOUT, Ae, I, t.key]), {\n      result: l,\n      reasons: n\n    }) : (this.logger.log(u.DEBUG, E.USER_NOT_IN_ROLLOUT, Ae, I, t.key), n.push([E.USER_NOT_IN_ROLLOUT, Ae, I, t.key]), {\n      result: l,\n      reasons: n\n    });\n  }, e.prototype.getVariationForFeatureExperiment = function (e, t, r, i) {\n    void 0 === i && (i = {});\n    var n,\n        o,\n        a = [],\n        s = null;\n    if (t.experimentIds.length > 0) for (o = 0; o < t.experimentIds.length; o++) {\n      var l = J(e, t.experimentIds[o], this.logger);\n\n      if (l && (n = this.getVariationFromExperimentRule(e, t.key, l, r, i), a.push.apply(a, n.reasons), s = n.result)) {\n        var I = null;\n        return (I = l.variationKeyMap[s]) || (I = Z(e, t.key, s)), {\n          result: {\n            experiment: l,\n            variation: I,\n            decisionSource: _.FEATURE_TEST\n          },\n          reasons: a\n        };\n      }\n    } else this.logger.log(u.DEBUG, E.FEATURE_HAS_NO_EXPERIMENTS, Ae, t.key), a.push([E.FEATURE_HAS_NO_EXPERIMENTS, Ae, t.key]);\n    return {\n      result: {\n        experiment: null,\n        variation: null,\n        decisionSource: _.FEATURE_TEST\n      },\n      reasons: a\n    };\n  }, e.prototype.getVariationForRollout = function (e, t, r) {\n    var i = [];\n    if (!t.rolloutId) return this.logger.log(u.DEBUG, E.NO_ROLLOUT_EXISTS, Ae, t.key), i.push([E.NO_ROLLOUT_EXISTS, Ae, t.key]), {\n      result: {\n        experiment: null,\n        variation: null,\n        decisionSource: _.ROLLOUT\n      },\n      reasons: i\n    };\n    var n = e.rolloutIdMap[t.rolloutId];\n    if (!n) return this.logger.log(u.ERROR, l.INVALID_ROLLOUT_ID, Ae, t.rolloutId, t.key), i.push([l.INVALID_ROLLOUT_ID, Ae, t.rolloutId, t.key]), {\n      result: {\n        experiment: null,\n        variation: null,\n        decisionSource: _.ROLLOUT\n      },\n      reasons: i\n    };\n    var o,\n        a,\n        s,\n        I = n.experiments;\n    if (0 === I.length) return this.logger.log(u.ERROR, E.ROLLOUT_HAS_NO_EXPERIMENTS, Ae, t.rolloutId), i.push([E.ROLLOUT_HAS_NO_EXPERIMENTS, Ae, t.rolloutId]), {\n      result: {\n        experiment: null,\n        variation: null,\n        decisionSource: _.ROLLOUT\n      },\n      reasons: i\n    };\n\n    for (var c = 0; c < I.length;) {\n      if (o = this.getVariationFromDeliveryRule(e, t.key, I, c, r), i.push.apply(i, o.reasons), s = o.result, a = o.skipToEveryoneElse, s) return {\n        result: {\n          experiment: e.experimentIdMap[I[c].id],\n          variation: s,\n          decisionSource: _.ROLLOUT\n        },\n        reasons: i\n      };\n      c = a ? I.length - 1 : c + 1;\n    }\n\n    return {\n      result: {\n        experiment: null,\n        variation: null,\n        decisionSource: _.ROLLOUT\n      },\n      reasons: i\n    };\n  }, e.prototype.getBucketingId = function (e, t) {\n    var r = e;\n    return null != t && \"object\" == typeof t && t.hasOwnProperty(I.BUCKETING_ID) && (\"string\" == typeof t[I.BUCKETING_ID] ? (r = t[I.BUCKETING_ID], this.logger.log(u.DEBUG, E.VALID_BUCKETING_ID, Ae, r)) : this.logger.log(u.WARNING, E.BUCKETING_ID_NOT_STRING, Ae)), r;\n  }, e.prototype.findValidatedForcedDecision = function (e, t, r, i) {\n    var n,\n        o = [],\n        a = t.getForcedDecision({\n      flagKey: r,\n      ruleKey: i\n    }),\n        s = null,\n        l = t.getUserId();\n    return e && a && (n = a.variationKey, (s = Z(e, r, n)) ? i ? (this.logger.log(u.INFO, E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED, n, r, i, l), o.push([E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED, n, r, i, l])) : (this.logger.log(u.INFO, E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED, n, r, l), o.push([E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED, n, r, l])) : i ? (this.logger.log(u.INFO, E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID, r, i, l), o.push([E.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID, r, i, l])) : (this.logger.log(u.INFO, E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID, r, l), o.push([E.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID, r, l]))), {\n      result: s,\n      reasons: o\n    };\n  }, e.prototype.removeForcedVariation = function (e, t, r) {\n    if (!e) throw new Error(i.sprintf(l.INVALID_USER_ID, Ae));\n    if (!this.forcedVariationMap.hasOwnProperty(e)) throw new Error(i.sprintf(l.USER_NOT_IN_FORCED_VARIATION, Ae, e));\n    delete this.forcedVariationMap[e][t], this.logger.log(u.DEBUG, E.VARIATION_REMOVED_FOR_USER, Ae, r, e);\n  }, e.prototype.setInForcedVariationMap = function (e, t, r) {\n    this.forcedVariationMap.hasOwnProperty(e) || (this.forcedVariationMap[e] = {}), this.forcedVariationMap[e][t] = r, this.logger.log(u.DEBUG, E.USER_MAPPED_TO_FORCED_VARIATION, Ae, r, t, e);\n  }, e.prototype.getForcedVariation = function (e, t, r) {\n    var i,\n        n = [],\n        o = this.forcedVariationMap[r];\n    if (!o) return this.logger.log(u.DEBUG, E.USER_HAS_NO_FORCED_VARIATION, Ae, r), {\n      result: null,\n      reasons: n\n    };\n\n    try {\n      var a = X(e, t);\n      if (!a.hasOwnProperty(\"id\")) return this.logger.log(u.ERROR, l.IMPROPERLY_FORMATTED_EXPERIMENT, Ae, t), n.push([l.IMPROPERLY_FORMATTED_EXPERIMENT, Ae, t]), {\n        result: null,\n        reasons: n\n      };\n      i = a.id;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), n.push(e.message), {\n        result: null,\n        reasons: n\n      };\n    }\n\n    var s = o[i];\n    if (!s) return this.logger.log(u.DEBUG, E.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT, Ae, t, r), {\n      result: null,\n      reasons: n\n    };\n    var I = Y(e, s);\n    return I ? (this.logger.log(u.DEBUG, E.USER_HAS_FORCED_VARIATION, Ae, I, t, r), n.push([E.USER_HAS_FORCED_VARIATION, Ae, I, t, r])) : this.logger.log(u.DEBUG, E.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT, Ae, t, r), {\n      result: I,\n      reasons: n\n    };\n  }, e.prototype.setForcedVariation = function (e, t, r, i) {\n    if (null != i && !ye(i)) return this.logger.log(u.ERROR, l.INVALID_VARIATION_KEY, Ae), !1;\n    var n;\n\n    try {\n      var o = X(e, t);\n      if (!o.hasOwnProperty(\"id\")) return this.logger.log(u.ERROR, l.IMPROPERLY_FORMATTED_EXPERIMENT, Ae, t), !1;\n      n = o.id;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), !1;\n    }\n\n    if (null == i) try {\n      return this.removeForcedVariation(r, n, t), !0;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), !1;\n    }\n\n    var a = function (e, t, r) {\n      var i = e.experimentKeyMap[t];\n      return i.variationKeyMap.hasOwnProperty(r) ? i.variationKeyMap[r].id : null;\n    }(e, t, i);\n\n    if (!a) return this.logger.log(u.ERROR, l.NO_VARIATION_FOR_EXPERIMENT_KEY, Ae, i, t), !1;\n\n    try {\n      return this.setInForcedVariationMap(r, n, a), !0;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), !1;\n    }\n  }, e.prototype.getVariationFromExperimentRule = function (e, t, r, i, n) {\n    void 0 === n && (n = {});\n    var o = [],\n        a = this.findValidatedForcedDecision(e, i, t, r.key);\n    o.push.apply(o, a.reasons);\n    var s = a.result;\n    if (s) return {\n      result: s.key,\n      reasons: o\n    };\n    var u = this.getVariation(e, r, i, n);\n    return o.push.apply(o, u.reasons), {\n      result: u.result,\n      reasons: o\n    };\n  }, e.prototype.getVariationFromDeliveryRule = function (e, t, r, i, n) {\n    var o = [],\n        a = !1,\n        s = r[i],\n        l = this.findValidatedForcedDecision(e, n, t, s.key);\n    o.push.apply(o, l.reasons);\n    var I = l.result;\n    if (I) return {\n      result: I,\n      reasons: o,\n      skipToEveryoneElse: a\n    };\n\n    var c,\n        f,\n        _,\n        g,\n        p,\n        O = n.getUserId(),\n        N = n.getAttributes(),\n        R = this.getBucketingId(O, N),\n        T = i === r.length - 1,\n        v = T ? \"Everyone Else\" : i + 1,\n        h = null,\n        y = this.checkIfUserIsInAudience(e, s, d.RULE, N, v);\n\n    return o.push.apply(o, y.reasons), y.result ? (this.logger.log(u.DEBUG, E.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE, Ae, O, v), o.push([E.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE, Ae, O, v]), f = this.buildBucketerParams(e, s, R, O), _ = ne(f), o.push.apply(o, _.reasons), (c = _.result) && (p = c, h = (g = e).variationIdMap.hasOwnProperty(p) ? g.variationIdMap[p] : null), h ? (this.logger.log(u.DEBUG, E.USER_BUCKETED_INTO_TARGETING_RULE, Ae, O, v), o.push([E.USER_BUCKETED_INTO_TARGETING_RULE, Ae, O, v])) : T || (this.logger.log(u.DEBUG, E.USER_NOT_BUCKETED_INTO_TARGETING_RULE, Ae, O, v), o.push([E.USER_NOT_BUCKETED_INTO_TARGETING_RULE, Ae, O, v]), a = !0)) : (this.logger.log(u.DEBUG, E.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE, Ae, O, v), o.push([E.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE, Ae, O, v])), {\n      result: h,\n      reasons: o,\n      skipToEveryoneElse: a\n    };\n  }, e;\n}();\n\nfunction De(e, t) {\n  if (e.hasOwnProperty(\"revenue\")) {\n    var r = e.revenue,\n        i = void 0;\n    return \"string\" == typeof r ? (i = parseInt(r), isNaN(i) ? (t.log(u.INFO, E.FAILED_TO_PARSE_REVENUE, \"EVENT_TAG_UTILS\", r), null) : (t.log(u.INFO, E.PARSED_REVENUE_VALUE, \"EVENT_TAG_UTILS\", i), i)) : \"number\" == typeof r ? (i = r, t.log(u.INFO, E.PARSED_REVENUE_VALUE, \"EVENT_TAG_UTILS\", i), i) : null;\n  }\n\n  return null;\n}\n\nfunction Se(e, t) {\n  if (e.hasOwnProperty(\"value\")) {\n    var r = e.value,\n        i = void 0;\n    return \"string\" == typeof r ? (i = parseFloat(r), isNaN(i) ? (t.log(u.INFO, E.FAILED_TO_PARSE_VALUE, \"EVENT_TAG_UTILS\", r), null) : (t.log(u.INFO, E.PARSED_NUMERIC_VALUE, \"EVENT_TAG_UTILS\", i), i)) : \"number\" == typeof r ? (i = r, t.log(u.INFO, E.PARSED_NUMERIC_VALUE, \"EVENT_TAG_UTILS\", i), i) : null;\n  }\n\n  return null;\n}\n\nfunction Le(e, t) {\n  return \"string\" == typeof e && (\"string\" == typeof t || \"boolean\" == typeof t || B.isNumber(t) && B.isSafeInteger(t));\n}\n\nvar me = \"https://logx.optimizely.com/v1/events\";\n\nfunction Ve(e) {\n  var t = e.attributes,\n      r = e.userId,\n      i = e.clientEngine,\n      n = e.clientVersion,\n      o = e.configObj,\n      a = e.logger,\n      s = !!o.anonymizeIP && o.anonymizeIP,\n      u = o.botFiltering,\n      l = {\n    snapshots: [],\n    visitor_id: r,\n    attributes: []\n  },\n      E = {\n    account_id: o.accountId,\n    project_id: o.projectId,\n    visitors: [l],\n    revision: o.revision,\n    client_name: i,\n    client_version: n,\n    anonymize_ip: s,\n    enrich_decisions: !0\n  };\n  return t && Object.keys(t || {}).forEach(function (e) {\n    if (Le(e, t[e])) {\n      var r = w(o, e, a);\n      r && E.visitors[0].attributes.push({\n        entity_id: r,\n        key: e,\n        type: \"custom\",\n        value: t[e]\n      });\n    }\n  }), \"boolean\" == typeof u && E.visitors[0].attributes.push({\n    entity_id: I.BOT_FILTERING,\n    key: I.BOT_FILTERING,\n    type: \"custom\",\n    value: u\n  }), E;\n}\n\nfunction Ce(e) {\n  var t,\n      r,\n      i,\n      n,\n      o,\n      a,\n      s,\n      u,\n      l,\n      E = Ve(e),\n      I = (t = e.configObj, r = e.experimentId, i = e.variationId, n = e.ruleKey, o = e.ruleType, a = e.flagKey, s = e.enabled, u = r ? G(t, r) : null, l = i ? Y(t, i) : null, {\n    decisions: [{\n      campaign_id: u,\n      experiment_id: r,\n      variation_id: i,\n      metadata: {\n        flag_key: a,\n        rule_key: n,\n        rule_type: o,\n        variation_key: l = l || \"\",\n        enabled: s\n      }\n    }],\n    events: [{\n      entity_id: u,\n      timestamp: B.currentTimestamp(),\n      key: \"campaign_activated\",\n      uuid: B.uuid()\n    }]\n  });\n  return E.visitors[0].snapshots.push(I), {\n    httpVerb: \"POST\",\n    url: me,\n    params: E\n  };\n}\n\nfunction Fe(e) {\n  var t = Ve(e),\n      r = function (e, t, r, i) {\n    var n = {\n      events: []\n    },\n        o = {\n      entity_id: j(e, t),\n      timestamp: B.currentTimestamp(),\n      uuid: B.uuid(),\n      key: t\n    };\n\n    if (i) {\n      var a = De(i, r);\n      null !== a && (o.revenue = a);\n      var s = Se(i, r);\n      null !== s && (o.value = s), o.tags = i;\n    }\n\n    return n.events.push(o), n;\n  }(e.configObj, e.eventKey, e.logger, e.eventTags);\n\n  return t.visitors[0].snapshots = [r], {\n    httpVerb: \"POST\",\n    url: me,\n    params: t\n  };\n}\n\nfunction Me(e) {\n  var t, r;\n  return null !== (r = null === (t = e.experiment) || void 0 === t ? void 0 : t.key) && void 0 !== r ? r : \"\";\n}\n\nfunction Pe(e) {\n  var t, r;\n  return null !== (r = null === (t = e.variation) || void 0 === t ? void 0 : t.key) && void 0 !== r ? r : \"\";\n}\n\nfunction be(e) {\n  var t, r;\n  return null !== (r = null === (t = e.variation) || void 0 === t ? void 0 : t.featureEnabled) && void 0 !== r && r;\n}\n\nfunction ke(e) {\n  var t, r;\n  return null !== (r = null === (t = e.experiment) || void 0 === t ? void 0 : t.id) && void 0 !== r ? r : null;\n}\n\nfunction Be(e) {\n  var t, r;\n  return null !== (r = null === (t = e.variation) || void 0 === t ? void 0 : t.id) && void 0 !== r ? r : null;\n}\n\nvar Ke = t.getLogger(\"EVENT_BUILDER\");\n\nfunction xe(e, t) {\n  var r = [];\n  return t && Object.keys(t || {}).forEach(function (i) {\n    if (Le(i, t[i])) {\n      var n = w(e, i, Ke);\n      n && r.push({\n        entityId: n,\n        key: i,\n        value: t[i]\n      });\n    }\n  }), r;\n}\n\nvar Ge = \"USER_PROFILE_SERVICE_VALIDATOR\";\n\nvar we = function () {\n  function e(e) {\n    var t,\n        r = this,\n        n = e.clientEngine;\n    n || (e.logger.log(u.INFO, E.INVALID_CLIENT_ENGINE, \"OPTIMIZELY\", n), n = \"node-sdk\"), this.clientEngine = n, this.clientVersion = e.clientVersion || \"4.9.1\", this.errorHandler = e.errorHandler, this.isOptimizelyConfigValid = e.isValidInstance, this.logger = e.logger;\n    var o = null !== (t = e.defaultDecideOptions) && void 0 !== t ? t : [];\n    Array.isArray(o) || (this.logger.log(u.DEBUG, E.INVALID_DEFAULT_DECIDE_OPTIONS, \"OPTIMIZELY\"), o = []);\n    var a = {};\n    o.forEach(function (e) {\n      exports.OptimizelyDecideOption[e] ? a[e] = !0 : r.logger.log(u.WARNING, E.UNRECOGNIZED_DECIDE_OPTION, \"OPTIMIZELY\", e);\n    }), this.defaultDecideOptions = a, this.projectConfigManager = function (e) {\n      return new re(e);\n    }({\n      datafile: e.datafile,\n      jsonSchemaValidator: e.jsonSchemaValidator,\n      sdkKey: e.sdkKey,\n      datafileManager: e.datafileManager\n    }), this.disposeOnUpdate = this.projectConfigManager.onUpdate(function (e) {\n      r.logger.log(u.INFO, E.UPDATED_OPTIMIZELY_CONFIG, \"OPTIMIZELY\", e.revision, e.projectId), r.notificationCenter.sendNotifications(c.OPTIMIZELY_CONFIG_UPDATE);\n    });\n    var s,\n        I = this.projectConfigManager.onReady(),\n        f = null;\n    if (e.userProfileService) try {\n      (function (e) {\n        if (\"object\" == typeof e && null !== e) {\n          if (\"function\" != typeof e.lookup) throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE, Ge, \"Missing function 'lookup'\"));\n          if (\"function\" != typeof e.save) throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE, Ge, \"Missing function 'save'\"));\n          return !0;\n        }\n\n        throw new Error(i.sprintf(l.INVALID_USER_PROFILE_SERVICE, Ge));\n      })(e.userProfileService) && (f = e.userProfileService, this.logger.log(u.INFO, E.VALID_USER_PROFILE_SERVICE, \"OPTIMIZELY\"));\n    } catch (e) {\n      this.logger.log(u.WARNING, e.message);\n    }\n    this.decisionService = (s = {\n      userProfileService: f,\n      logger: this.logger,\n      UNSTABLE_conditionEvaluators: e.UNSTABLE_conditionEvaluators\n    }, new Ue(s)), this.notificationCenter = e.notificationCenter, this.eventProcessor = e.eventProcessor;\n\n    var _ = this.eventProcessor.start();\n\n    this.readyPromise = Promise.all([I, _]).then(function (e) {\n      return e[0];\n    }), this.readyTimeouts = {}, this.nextReadyTimeoutId = 0;\n  }\n\n  return e.prototype.isValidInstance = function () {\n    return this.isOptimizelyConfigValid && !!this.projectConfigManager.getConfig();\n  }, e.prototype.activate = function (e, t, r) {\n    try {\n      if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"activate\"), null;\n      if (!this.validateInputs({\n        experiment_key: e,\n        user_id: t\n      }, r)) return this.notActivatingExperiment(e, t);\n      var i = this.projectConfigManager.getConfig();\n      if (!i) return null;\n\n      try {\n        var n = this.getVariation(e, t, r);\n        if (null === n) return this.notActivatingExperiment(e, t);\n        if (!function (e, t) {\n          return \"Running\" === H(e, t);\n        }(i, e)) return this.logger.log(u.DEBUG, E.SHOULD_NOT_DISPATCH_ACTIVATE, \"OPTIMIZELY\", e), n;\n        var o = X(i, e),\n            a = {\n          experiment: o,\n          variation: o.variationKeyMap[n],\n          decisionSource: _.EXPERIMENT\n        };\n        return this.sendImpressionEvent(a, \"\", t, !0, r), n;\n      } catch (r) {\n        return this.logger.log(u.ERROR, r.message), this.logger.log(u.INFO, E.NOT_ACTIVATING_USER, \"OPTIMIZELY\", t, e), this.errorHandler.handleError(r), null;\n      }\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.sendImpressionEvent = function (e, t, r, i, n) {\n    var o = this.projectConfigManager.getConfig();\n\n    if (o) {\n      var a = function (e) {\n        var t = e.configObj,\n            r = e.decisionObj,\n            i = e.userId,\n            n = e.flagKey,\n            o = e.enabled,\n            a = e.userAttributes,\n            s = e.clientEngine,\n            u = e.clientVersion,\n            l = r.decisionSource,\n            E = Me(r),\n            I = ke(r),\n            c = Pe(r),\n            f = Be(r),\n            _ = null !== I ? G(t, I) : null;\n\n        return {\n          type: \"impression\",\n          timestamp: B.currentTimestamp(),\n          uuid: B.uuid(),\n          user: {\n            id: i,\n            attributes: xe(t, a)\n          },\n          context: {\n            accountId: t.accountId,\n            projectId: t.projectId,\n            revision: t.revision,\n            clientName: s,\n            clientVersion: u,\n            anonymizeIP: t.anonymizeIP || !1,\n            botFiltering: t.botFiltering\n          },\n          layer: {\n            id: _\n          },\n          experiment: {\n            id: I,\n            key: E\n          },\n          variation: {\n            id: f,\n            key: c\n          },\n          ruleKey: E,\n          flagKey: n,\n          ruleType: l,\n          enabled: o\n        };\n      }({\n        decisionObj: e,\n        flagKey: t,\n        enabled: i,\n        userId: r,\n        userAttributes: n,\n        clientEngine: this.clientEngine,\n        clientVersion: this.clientVersion,\n        configObj: o\n      });\n\n      this.eventProcessor.process(a), this.emitNotificationCenterActivate(e, t, r, i, n);\n    }\n  }, e.prototype.emitNotificationCenterActivate = function (e, t, r, i, n) {\n    var o = this.projectConfigManager.getConfig();\n\n    if (o) {\n      var a,\n          s = e.decisionSource,\n          u = Me(e),\n          l = ke(e),\n          E = Pe(e),\n          I = Be(e);\n      null !== l && \"\" !== E && (a = o.experimentIdMap[l]);\n\n      var f,\n          _ = Ce({\n        attributes: n,\n        clientEngine: this.clientEngine,\n        clientVersion: this.clientVersion,\n        configObj: o,\n        experimentId: l,\n        ruleKey: u,\n        flagKey: t,\n        ruleType: s,\n        userId: r,\n        enabled: i,\n        variationId: I,\n        logger: this.logger\n      });\n\n      a && a.variationKeyMap && \"\" !== E && (f = a.variationKeyMap[E]), this.notificationCenter.sendNotifications(c.ACTIVATE, {\n        experiment: a,\n        userId: r,\n        attributes: n,\n        variation: f,\n        logEvent: _\n      });\n    }\n  }, e.prototype.track = function (e, t, r, i) {\n    try {\n      if (!this.isValidInstance()) return void this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"track\");\n      if (!this.validateInputs({\n        user_id: t,\n        event_key: e\n      }, r, i)) return;\n      var n = this.projectConfigManager.getConfig();\n      if (!n) return;\n      if (!function (e, t) {\n        return e.eventKeyMap.hasOwnProperty(t);\n      }(n, e)) return this.logger.log(u.WARNING, E.EVENT_KEY_NOT_FOUND, \"OPTIMIZELY\", e), void this.logger.log(u.WARNING, E.NOT_TRACKING_USER, \"OPTIMIZELY\", t);\n\n      var o = function (e) {\n        var t = e.configObj,\n            r = e.userId,\n            i = e.userAttributes,\n            n = e.clientEngine,\n            o = e.clientVersion,\n            a = e.eventKey,\n            s = e.eventTags,\n            u = j(t, a),\n            l = s ? De(s, Ke) : null,\n            E = s ? Se(s, Ke) : null;\n        return {\n          type: \"conversion\",\n          timestamp: B.currentTimestamp(),\n          uuid: B.uuid(),\n          user: {\n            id: r,\n            attributes: xe(t, i)\n          },\n          context: {\n            accountId: t.accountId,\n            projectId: t.projectId,\n            revision: t.revision,\n            clientName: n,\n            clientVersion: o,\n            anonymizeIP: t.anonymizeIP || !1,\n            botFiltering: t.botFiltering\n          },\n          event: {\n            id: u,\n            key: a\n          },\n          revenue: l,\n          value: E,\n          tags: s\n        };\n      }({\n        eventKey: e,\n        eventTags: i = this.filterEmptyValues(i),\n        userId: t,\n        userAttributes: r,\n        clientEngine: this.clientEngine,\n        clientVersion: this.clientVersion,\n        configObj: n\n      });\n\n      this.logger.log(u.INFO, E.TRACK_EVENT, \"OPTIMIZELY\", e, t), this.eventProcessor.process(o), this.emitNotificationCenterTrack(e, t, r, i);\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), this.logger.log(u.ERROR, E.NOT_TRACKING_USER, \"OPTIMIZELY\", t);\n    }\n  }, e.prototype.emitNotificationCenterTrack = function (e, t, r, i) {\n    try {\n      var n = this.projectConfigManager.getConfig();\n      if (!n) return;\n      var o = Fe({\n        attributes: r,\n        clientEngine: this.clientEngine,\n        clientVersion: this.clientVersion,\n        configObj: n,\n        eventKey: e,\n        eventTags: i,\n        logger: this.logger,\n        userId: t\n      });\n      this.notificationCenter.sendNotifications(c.TRACK, {\n        eventKey: e,\n        userId: t,\n        attributes: r,\n        eventTags: i,\n        logEvent: o\n      });\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e);\n    }\n  }, e.prototype.getVariation = function (e, t, r) {\n    try {\n      if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getVariation\"), null;\n\n      try {\n        if (!this.validateInputs({\n          experiment_key: e,\n          user_id: t\n        }, r)) return null;\n        var i = this.projectConfigManager.getConfig();\n        if (!i) return null;\n        var n = i.experimentKeyMap[e];\n        if (!n) return this.logger.log(u.DEBUG, l.INVALID_EXPERIMENT_KEY, \"OPTIMIZELY\", e), null;\n        var o = this.decisionService.getVariation(i, n, this.createUserContext(t, r)).result,\n            a = (s = i, I = n.id, s.experimentFeatureMap.hasOwnProperty(I) ? f.FEATURE_TEST : f.AB_TEST);\n        return this.notificationCenter.sendNotifications(c.DECISION, {\n          type: a,\n          userId: t,\n          attributes: r || {},\n          decisionInfo: {\n            experimentKey: e,\n            variationKey: o\n          }\n        }), o;\n      } catch (e) {\n        return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n      }\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n\n    var s, I;\n  }, e.prototype.setForcedVariation = function (e, t, r) {\n    if (!this.validateInputs({\n      experiment_key: e,\n      user_id: t\n    })) return !1;\n    var i = this.projectConfigManager.getConfig();\n    if (!i) return !1;\n\n    try {\n      return this.decisionService.setForcedVariation(i, e, t, r);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), !1;\n    }\n  }, e.prototype.getForcedVariation = function (e, t) {\n    if (!this.validateInputs({\n      experiment_key: e,\n      user_id: t\n    })) return null;\n    var r = this.projectConfigManager.getConfig();\n    if (!r) return null;\n\n    try {\n      return this.decisionService.getForcedVariation(r, e, t).result;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.validateInputs = function (e, t, r) {\n    try {\n      if (e.hasOwnProperty(\"user_id\")) {\n        var n = e.user_id;\n        if (\"string\" != typeof n || null === n || \"undefined\" === n) throw new Error(i.sprintf(l.INVALID_INPUT_FORMAT, \"OPTIMIZELY\", \"user_id\"));\n        delete e.user_id;\n      }\n\n      return Object.keys(e).forEach(function (t) {\n        if (!ye(e[t])) throw new Error(i.sprintf(l.INVALID_INPUT_FORMAT, \"OPTIMIZELY\", t));\n      }), t && function (e) {\n        if (\"object\" != typeof e || Array.isArray(e) || null === e) throw new Error(i.sprintf(l.INVALID_ATTRIBUTES, \"ATTRIBUTES_VALIDATOR\"));\n        Object.keys(e).forEach(function (t) {\n          if (void 0 === e[t]) throw new Error(i.sprintf(l.UNDEFINED_ATTRIBUTE, \"ATTRIBUTES_VALIDATOR\", t));\n        });\n      }(t), r && function (e) {\n        if (\"object\" != typeof e || Array.isArray(e) || null === e) throw new Error(i.sprintf(l.INVALID_EVENT_TAGS, \"EVENT_TAGS_VALIDATOR\"));\n      }(r), !0;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), !1;\n    }\n  }, e.prototype.notActivatingExperiment = function (e, t) {\n    return this.logger.log(u.INFO, E.NOT_ACTIVATING_USER, \"OPTIMIZELY\", t, e), null;\n  }, e.prototype.filterEmptyValues = function (e) {\n    for (var t in e) {\n      !e.hasOwnProperty(t) || null !== e[t] && void 0 !== e[t] || delete e[t];\n    }\n\n    return e;\n  }, e.prototype.isFeatureEnabled = function (e, t, r) {\n    try {\n      if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"isFeatureEnabled\"), !1;\n      if (!this.validateInputs({\n        feature_key: e,\n        user_id: t\n      }, r)) return !1;\n      var i = this.projectConfigManager.getConfig();\n      if (!i) return !1;\n      var n = W(i, e, this.logger);\n      if (!n) return !1;\n      var o = {},\n          a = this.createUserContext(t, r),\n          s = this.decisionService.getVariationForFeature(i, n, a).result,\n          l = s.decisionSource,\n          I = Me(s),\n          d = Pe(s),\n          g = be(s);\n      l === _.FEATURE_TEST && (o = {\n        experimentKey: I,\n        variationKey: d\n      }), (l === _.FEATURE_TEST || l === _.ROLLOUT && Q(i)) && this.sendImpressionEvent(s, n.key, t, g, r), !0 === g ? this.logger.log(u.INFO, E.FEATURE_ENABLED_FOR_USER, \"OPTIMIZELY\", e, t) : (this.logger.log(u.INFO, E.FEATURE_NOT_ENABLED_FOR_USER, \"OPTIMIZELY\", e, t), g = !1);\n      var p = {\n        featureKey: e,\n        featureEnabled: g,\n        source: s.decisionSource,\n        sourceInfo: o\n      };\n      return this.notificationCenter.sendNotifications(c.DECISION, {\n        type: f.FEATURE,\n        userId: t,\n        attributes: r || {},\n        decisionInfo: p\n      }), g;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), !1;\n    }\n  }, e.prototype.getEnabledFeatures = function (e, t) {\n    var r = this;\n\n    try {\n      var n = [];\n      if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getEnabledFeatures\"), n;\n      if (!this.validateInputs({\n        user_id: e\n      })) return n;\n      var o = this.projectConfigManager.getConfig();\n      return o ? (i.objectValues(o.featureKeyMap).forEach(function (i) {\n        r.isFeatureEnabled(i.key, e, t) && n.push(i.key);\n      }), n) : n;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), [];\n    }\n  }, e.prototype.getFeatureVariable = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, null, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariable\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getFeatureVariableForType = function (e, t, r, i, n) {\n    if (!this.validateInputs({\n      feature_key: e,\n      variable_key: t,\n      user_id: i\n    }, n)) return null;\n    var o = this.projectConfigManager.getConfig();\n    if (!o) return null;\n    var a = W(o, e, this.logger);\n    if (!a) return null;\n\n    var s = function (e, t, r, i) {\n      var n = e.featureKeyMap[t];\n      if (!n) return i.log(u.ERROR, l.FEATURE_NOT_IN_DATAFILE, K, t), null;\n      var o = n.variableKeyMap[r];\n      return o || (i.log(u.ERROR, l.VARIABLE_KEY_NOT_IN_DATAFILE, K, r, t), null);\n    }(o, e, t, this.logger);\n\n    if (!s) return null;\n    if (r && s.type !== r) return this.logger.log(u.WARNING, E.VARIABLE_REQUESTED_WITH_WRONG_TYPE, \"OPTIMIZELY\", r, s.type), null;\n    var I = this.createUserContext(i, n),\n        d = this.decisionService.getVariationForFeature(o, a, I).result,\n        g = be(d),\n        p = this.getFeatureVariableValueFromVariation(e, g, d.variation, s, i),\n        O = {};\n    return d.decisionSource === _.FEATURE_TEST && null !== d.experiment && null !== d.variation && (O = {\n      experimentKey: d.experiment.key,\n      variationKey: d.variation.key\n    }), this.notificationCenter.sendNotifications(c.DECISION, {\n      type: f.FEATURE_VARIABLE,\n      userId: i,\n      attributes: n || {},\n      decisionInfo: {\n        featureKey: e,\n        featureEnabled: g,\n        source: d.decisionSource,\n        variableKey: t,\n        variableValue: p,\n        variableType: s.type,\n        sourceInfo: O\n      }\n    }), p;\n  }, e.prototype.getFeatureVariableValueFromVariation = function (e, t, r, i, n) {\n    var o = this.projectConfigManager.getConfig();\n    if (!o) return null;\n    var a = i.defaultValue;\n\n    if (null !== r) {\n      var s = function (e, t, r, i) {\n        if (!t || !r) return null;\n        if (!e.variationVariableUsageMap.hasOwnProperty(r.id)) return i.log(u.ERROR, l.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT, K, r.id), null;\n        var n = e.variationVariableUsageMap[r.id][t.id];\n        return n ? n.value : null;\n      }(o, i, r, this.logger);\n\n      null !== s ? t ? (a = s, this.logger.log(u.INFO, E.USER_RECEIVED_VARIABLE_VALUE, \"OPTIMIZELY\", a, i.key, e)) : this.logger.log(u.INFO, E.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE, \"OPTIMIZELY\", e, n, a) : this.logger.log(u.INFO, E.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE, \"OPTIMIZELY\", i.key, r.key);\n    } else this.logger.log(u.INFO, E.USER_RECEIVED_DEFAULT_VARIABLE_VALUE, \"OPTIMIZELY\", n, i.key, e);\n\n    return function (e, t, r) {\n      var i;\n\n      switch (t) {\n        case g.BOOLEAN:\n          \"true\" !== e && \"false\" !== e ? (r.log(u.ERROR, l.UNABLE_TO_CAST_VALUE, K, e, t), i = null) : i = \"true\" === e;\n          break;\n\n        case g.INTEGER:\n          i = parseInt(e, 10), isNaN(i) && (r.log(u.ERROR, l.UNABLE_TO_CAST_VALUE, K, e, t), i = null);\n          break;\n\n        case g.DOUBLE:\n          i = parseFloat(e), isNaN(i) && (r.log(u.ERROR, l.UNABLE_TO_CAST_VALUE, K, e, t), i = null);\n          break;\n\n        case g.JSON:\n          try {\n            i = JSON.parse(e);\n          } catch (n) {\n            r.log(u.ERROR, l.UNABLE_TO_CAST_VALUE, K, e, t), i = null;\n          }\n\n          break;\n\n        default:\n          i = e;\n      }\n\n      return i;\n    }(a, i.type, this.logger);\n  }, e.prototype.getFeatureVariableBoolean = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, g.BOOLEAN, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariableBoolean\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getFeatureVariableDouble = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, g.DOUBLE, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariableDouble\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getFeatureVariableInteger = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, g.INTEGER, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariableInteger\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getFeatureVariableString = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, g.STRING, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariableString\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getFeatureVariableJSON = function (e, t, r, i) {\n    try {\n      return this.isValidInstance() ? this.getFeatureVariableForType(e, t, g.JSON, r, i) : (this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getFeatureVariableJSON\"), null);\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getAllFeatureVariables = function (e, t, r) {\n    var i = this;\n\n    try {\n      if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"getAllFeatureVariables\"), null;\n      if (!this.validateInputs({\n        feature_key: e,\n        user_id: t\n      }, r)) return null;\n      var n = this.projectConfigManager.getConfig();\n      if (!n) return null;\n      var o = W(n, e, this.logger);\n      if (!o) return null;\n      var a = this.createUserContext(t, r),\n          s = this.decisionService.getVariationForFeature(n, o, a).result,\n          l = be(s),\n          I = {};\n      o.variables.forEach(function (r) {\n        I[r.key] = i.getFeatureVariableValueFromVariation(e, l, s.variation, r, t);\n      });\n      var d = {};\n      return s.decisionSource === _.FEATURE_TEST && null !== s.experiment && null !== s.variation && (d = {\n        experimentKey: s.experiment.key,\n        variationKey: s.variation.key\n      }), this.notificationCenter.sendNotifications(c.DECISION, {\n        type: f.ALL_FEATURE_VARIABLES,\n        userId: t,\n        attributes: r || {},\n        decisionInfo: {\n          featureKey: e,\n          featureEnabled: l,\n          source: s.decisionSource,\n          variableValues: I,\n          sourceInfo: d\n        }\n      }), I;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.getOptimizelyConfig = function () {\n    try {\n      return this.projectConfigManager.getConfig() ? this.projectConfigManager.getOptimizelyConfig() : null;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), null;\n    }\n  }, e.prototype.close = function () {\n    var e = this;\n\n    try {\n      var t = this.eventProcessor.stop();\n      return this.disposeOnUpdate && (this.disposeOnUpdate(), this.disposeOnUpdate = null), this.projectConfigManager && this.projectConfigManager.stop(), Object.keys(this.readyTimeouts).forEach(function (t) {\n        var r = e.readyTimeouts[t];\n        clearTimeout(r.readyTimeout), r.onClose();\n      }), this.readyTimeouts = {}, t.then(function () {\n        return {\n          success: !0\n        };\n      }, function (e) {\n        return {\n          success: !1,\n          reason: String(e)\n        };\n      });\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), Promise.resolve({\n        success: !1,\n        reason: String(e)\n      });\n    }\n  }, e.prototype.onReady = function (e) {\n    var t,\n        r,\n        n = this;\n    \"object\" == typeof e && null !== e && void 0 !== e.timeout && (t = e.timeout), B.isSafeInteger(t) || (t = 3e4);\n    var o = new Promise(function (e) {\n      r = e;\n    }),\n        a = this.nextReadyTimeoutId;\n    this.nextReadyTimeoutId++;\n    var s = setTimeout(function () {\n      delete n.readyTimeouts[a], r({\n        success: !1,\n        reason: i.sprintf(\"onReady timeout expired after %s ms\", t)\n      });\n    }, t);\n    return this.readyTimeouts[a] = {\n      readyTimeout: s,\n      onClose: function onClose() {\n        r({\n          success: !1,\n          reason: \"Instance closed\"\n        });\n      }\n    }, this.readyPromise.then(function () {\n      clearTimeout(s), delete n.readyTimeouts[a], r({\n        success: !0\n      });\n    }), Promise.race([this.readyPromise, o]);\n  }, e.prototype.createUserContext = function (e, t) {\n    return this.validateInputs({\n      user_id: e\n    }, t) ? new F({\n      optimizely: this,\n      userId: e,\n      attributes: t\n    }) : null;\n  }, e.prototype.decide = function (e, t, r) {\n    var n,\n        o,\n        a,\n        I,\n        d = this;\n    void 0 === r && (r = []);\n    var g,\n        p = e.getUserId(),\n        N = e.getAttributes(),\n        R = this.projectConfigManager.getConfig(),\n        T = [];\n    if (!this.isValidInstance() || !R) return this.logger.log(u.INFO, E.INVALID_OBJECT, \"OPTIMIZELY\", \"decide\"), C(t, e, [O.SDK_NOT_READY]);\n    var v = R.featureKeyMap[t];\n    if (!v) return this.logger.log(u.ERROR, l.FEATURE_NOT_IN_DATAFILE, \"OPTIMIZELY\", t), C(t, e, [i.sprintf(O.FLAG_KEY_INVALID, t)]);\n    var h = this.getAllDecideOptions(r),\n        y = this.decisionService.findValidatedForcedDecision(R, e, t);\n    T.push.apply(T, y.reasons);\n    var A = y.result;\n    if (A) g = {\n      experiment: null,\n      variation: A,\n      decisionSource: _.FEATURE_TEST\n    };else {\n      var U = this.decisionService.getVariationForFeature(R, v, e, h);\n      T.push.apply(T, U.reasons), g = U.result;\n    }\n    var D = g.decisionSource,\n        S = null !== (o = null === (n = g.experiment) || void 0 === n ? void 0 : n.key) && void 0 !== o ? o : null,\n        L = null !== (I = null === (a = g.variation) || void 0 === a ? void 0 : a.key) && void 0 !== I ? I : null,\n        m = be(g);\n    !0 === m ? this.logger.log(u.INFO, E.FEATURE_ENABLED_FOR_USER, \"OPTIMIZELY\", t, p) : this.logger.log(u.INFO, E.FEATURE_NOT_ENABLED_FOR_USER, \"OPTIMIZELY\", t, p);\n    var V = {},\n        F = !1;\n    h[exports.OptimizelyDecideOption.EXCLUDE_VARIABLES] || v.variables.forEach(function (e) {\n      V[e.key] = d.getFeatureVariableValueFromVariation(t, m, g.variation, e, p);\n    }), !h[exports.OptimizelyDecideOption.DISABLE_DECISION_EVENT] && (D === _.FEATURE_TEST || D === _.ROLLOUT && Q(R)) && (this.sendImpressionEvent(g, t, p, m, N), F = !0);\n    var M = [];\n    h[exports.OptimizelyDecideOption.INCLUDE_REASONS] && (M = T.map(function (e) {\n      return i.sprintf.apply(void 0, s([e[0]], e.slice(1)));\n    }));\n    var P = {\n      flagKey: t,\n      enabled: m,\n      variationKey: L,\n      ruleKey: S,\n      variables: V,\n      reasons: M,\n      decisionEventDispatched: F\n    };\n    return this.notificationCenter.sendNotifications(c.DECISION, {\n      type: f.FLAG,\n      userId: p,\n      attributes: N,\n      decisionInfo: P\n    }), {\n      variationKey: L,\n      enabled: m,\n      variables: V,\n      ruleKey: S,\n      flagKey: t,\n      userContext: e,\n      reasons: M\n    };\n  }, e.prototype.getAllDecideOptions = function (e) {\n    var t = this,\n        r = _a({}, this.defaultDecideOptions);\n\n    return Array.isArray(e) ? e.forEach(function (e) {\n      exports.OptimizelyDecideOption[e] ? r[e] = !0 : t.logger.log(u.WARNING, E.UNRECOGNIZED_DECIDE_OPTION, \"OPTIMIZELY\", e);\n    }) : this.logger.log(u.DEBUG, E.INVALID_DECIDE_OPTIONS, \"OPTIMIZELY\"), r;\n  }, e.prototype.decideForKeys = function (e, t, r) {\n    var i = this;\n    void 0 === r && (r = []);\n    var n = {};\n    if (!this.isValidInstance()) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"decideForKeys\"), n;\n    if (0 === t.length) return n;\n    var o = this.getAllDecideOptions(r);\n    return t.forEach(function (t) {\n      var a = i.decide(e, t, r);\n      o[exports.OptimizelyDecideOption.ENABLED_FLAGS_ONLY] && !a.enabled || (n[t] = a);\n    }), n;\n  }, e.prototype.decideAll = function (e, t) {\n    void 0 === t && (t = []);\n    var r = this.projectConfigManager.getConfig();\n    if (!this.isValidInstance() || !r) return this.logger.log(u.ERROR, E.INVALID_OBJECT, \"OPTIMIZELY\", \"decideAll\"), {};\n    var i = Object.keys(r.featureKeyMap);\n    return this.decideForKeys(e, i, t);\n  }, e;\n}(),\n    je = function je(e) {\n  return !(\"number\" != typeof e || !B.isSafeInteger(e)) && e >= 1;\n},\n    He = function He(e) {\n  return !(\"number\" != typeof e || !B.isSafeInteger(e)) && e > 0;\n},\n    Ye = function () {\n  function e(e) {\n    var t = this;\n    this.logger = e.logger, this.errorHandler = e.errorHandler, this.notificationListeners = {}, i.objectValues(c).forEach(function (e) {\n      t.notificationListeners[e] = [];\n    }), this.listenerId = 1;\n  }\n\n  return e.prototype.addNotificationListener = function (e, t) {\n    try {\n      if (!(i.objectValues(c).indexOf(e) > -1)) return -1;\n      this.notificationListeners[e] || (this.notificationListeners[e] = []);\n      var r = !1;\n      if ((this.notificationListeners[e] || []).forEach(function (e) {\n        e.callback !== t || (r = !0);\n      }), r) return -1;\n      this.notificationListeners[e].push({\n        id: this.listenerId,\n        callback: t\n      });\n      var n = this.listenerId;\n      return this.listenerId += 1, n;\n    } catch (e) {\n      return this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e), -1;\n    }\n  }, e.prototype.removeNotificationListener = function (e) {\n    var t = this;\n\n    try {\n      var r, i;\n      if (Object.keys(this.notificationListeners).some(function (n) {\n        return (t.notificationListeners[n] || []).every(function (t, o) {\n          return t.id !== e || (r = o, i = n, !1);\n        }), void 0 !== r && void 0 !== i;\n      }), void 0 !== r && void 0 !== i) return this.notificationListeners[i].splice(r, 1), !0;\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e);\n    }\n\n    return !1;\n  }, e.prototype.clearAllNotificationListeners = function () {\n    var e = this;\n\n    try {\n      i.objectValues(c).forEach(function (t) {\n        e.notificationListeners[t] = [];\n      });\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e);\n    }\n  }, e.prototype.clearNotificationListeners = function (e) {\n    try {\n      this.notificationListeners[e] = [];\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e);\n    }\n  }, e.prototype.sendNotifications = function (e, t) {\n    var r = this;\n\n    try {\n      (this.notificationListeners[e] || []).forEach(function (i) {\n        var n = i.callback;\n\n        try {\n          n(t);\n        } catch (t) {\n          r.logger.log(u.ERROR, E.NOTIFICATION_LISTENER_EXCEPTION, \"NOTIFICATION_CENTER\", e, t.message);\n        }\n      });\n    } catch (e) {\n      this.logger.log(u.ERROR, e.message), this.errorHandler.handleError(e);\n    }\n  }, e;\n}();\n\nvar Xe = {\n  createEventProcessor: function createEventProcessor() {\n    for (var e = [], t = 0; t < arguments.length; t++) {\n      e[t] = arguments[t];\n    }\n\n    return new (r.LogTierV1EventProcessor.bind.apply(r.LogTierV1EventProcessor, s([void 0], e)))();\n  },\n  LocalStoragePendingEventsDispatcher: r.LocalStoragePendingEventsDispatcher\n};\n\nfunction ze(e, t, r, i) {\n  var n = {\n    sdkKey: e\n  };\n\n  if ((void 0 === i || \"object\" == typeof i && null !== i) && B.assign(n, i), r) {\n    var a = $({\n      datafile: r,\n      jsonSchemaValidator: void 0,\n      logger: t\n    }),\n        s = a.configObj,\n        u = a.error;\n    u && t.error(u), s && (n.datafile = q(s));\n  }\n\n  return new o.HttpPollingDatafileManager(n);\n}\n\nvar Je = t.getLogger();\nt.setLogHandler(S()), t.setLogLevel(t.LogLevel.INFO);\n\nvar Ze = !1,\n    We = function We(e) {\n  try {\n    e.errorHandler && t.setErrorHandler(e.errorHandler), e.logger && (t.setLogHandler(e.logger), t.setLogLevel(t.LogLevel.NOTSET)), void 0 !== e.logLevel && t.setLogLevel(e.logLevel);\n\n    try {\n      v(e), e.isValidInstance = !0;\n    } catch (t) {\n      Je.error(t), e.isValidInstance = !1;\n    }\n\n    var i = void 0;\n    null == e.eventDispatcher ? (i = new r.LocalStoragePendingEventsDispatcher({\n      eventDispatcher: U\n    }), Ze || (i.sendPendingEvents(), Ze = !0)) : i = e.eventDispatcher;\n    var n = e.eventBatchSize,\n        o = e.eventFlushInterval;\n    je(e.eventBatchSize) || (Je.warn(\"Invalid eventBatchSize %s, defaulting to %s\", e.eventBatchSize, 10), n = 10), He(e.eventFlushInterval) || (Je.warn(\"Invalid eventFlushInterval %s, defaulting to %s\", e.eventFlushInterval, 1e3), o = 1e3);\n\n    var s = t.getErrorHandler(),\n        u = new Ye({\n      logger: Je,\n      errorHandler: s\n    }),\n        l = {\n      dispatcher: i,\n      flushInterval: o,\n      batchSize: n,\n      maxQueueSize: e.eventMaxQueueSize || 1e4,\n      notificationCenter: u\n    },\n        I = _a(_a({\n      clientEngine: \"javascript-sdk\"\n    }, e), {\n      eventProcessor: Xe.createEventProcessor(l),\n      logger: Je,\n      errorHandler: s,\n      datafileManager: e.sdkKey ? ze(e.sdkKey, Je, e.datafile, e.datafileOptions) : void 0,\n      notificationCenter: u\n    }),\n        c = new we(I);\n\n    try {\n      if (\"function\" == typeof window.addEventListener) {\n        var f = \"onpagehide\" in window ? \"pagehide\" : \"unload\";\n        window.addEventListener(f, function () {\n          c.close();\n        }, !1);\n      }\n    } catch (e) {\n      Je.error(E.UNABLE_TO_ATTACH_UNLOAD, \"INDEX_BROWSER\", e.message);\n    }\n\n    return c;\n  } catch (e) {\n    return Je.error(e), null;\n  }\n},\n    qe = function qe() {\n  Ze = !1;\n},\n    $e = {\n  logging: V,\n  errorHandler: y,\n  eventDispatcher: U,\n  enums: N,\n  setLogger: t.setLogHandler,\n  setLogLevel: t.setLogLevel,\n  createInstance: We,\n  __internalResetRetryState: qe,\n  OptimizelyDecideOption: exports.OptimizelyDecideOption\n};\n\nObject.defineProperty(exports, \"setLogLevel\", {\n  enumerable: !0,\n  get: function get() {\n    return t.setLogLevel;\n  }\n}), Object.defineProperty(exports, \"setLogger\", {\n  enumerable: !0,\n  get: function get() {\n    return t.setLogHandler;\n  }\n}), exports.__internalResetRetryState = qe, exports.createInstance = We, exports.default = $e, exports.enums = N, exports.errorHandler = y, exports.eventDispatcher = U, exports.logging = V;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @export\n * @class NoopErrorHandler\n * @implements {ErrorHandler}\n */\n\nvar NoopErrorHandler =\n/** @class */\nfunction () {\n  function NoopErrorHandler() {}\n  /**\n   * @param {Error} exception\n   * @memberof NoopErrorHandler\n   */\n\n\n  NoopErrorHandler.prototype.handleError = function (exception) {\n    // no-op\n    return;\n  };\n\n  return NoopErrorHandler;\n}();\n\nexports.NoopErrorHandler = NoopErrorHandler;\nvar globalErrorHandler = new NoopErrorHandler();\n/**\n * @export\n * @param {ErrorHandler} handler\n */\n\nfunction setErrorHandler(handler) {\n  globalErrorHandler = handler;\n}\n\nexports.setErrorHandler = setErrorHandler;\n/**\n * @export\n * @returns {ErrorHandler}\n */\n\nfunction getErrorHandler() {\n  return globalErrorHandler;\n}\n\nexports.getErrorHandler = getErrorHandler;\n/**\n * @export\n */\n\nfunction resetErrorHandler() {\n  globalErrorHandler = new NoopErrorHandler();\n}\n\nexports.resetErrorHandler = resetErrorHandler;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n__export(require(\"./errorHandler\"));\n\n__export(require(\"./models\"));\n\n__export(require(\"./logger\"));","\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar errorHandler_1 = require(\"./errorHandler\");\n\nvar js_sdk_utils_1 = require(\"@optimizely/js-sdk-utils\");\n\nvar models_1 = require(\"./models\");\n\nvar stringToLogLevel = {\n  NOTSET: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARNING: 3,\n  ERROR: 4\n};\n\nfunction coerceLogLevel(level) {\n  if (typeof level !== 'string') {\n    return level;\n  }\n\n  level = level.toUpperCase();\n\n  if (level === 'WARN') {\n    level = 'WARNING';\n  }\n\n  if (!stringToLogLevel[level]) {\n    return level;\n  }\n\n  return stringToLogLevel[level];\n}\n\nvar DefaultLogManager =\n/** @class */\nfunction () {\n  function DefaultLogManager() {\n    this.defaultLoggerFacade = new OptimizelyLogger();\n    this.loggers = {};\n  }\n\n  DefaultLogManager.prototype.getLogger = function (name) {\n    if (!name) {\n      return this.defaultLoggerFacade;\n    }\n\n    if (!this.loggers[name]) {\n      this.loggers[name] = new OptimizelyLogger({\n        messagePrefix: name\n      });\n    }\n\n    return this.loggers[name];\n  };\n\n  return DefaultLogManager;\n}();\n\nvar ConsoleLogHandler =\n/** @class */\nfunction () {\n  /**\n   * Creates an instance of ConsoleLogger.\n   * @param {ConsoleLogHandlerConfig} config\n   * @memberof ConsoleLogger\n   */\n  function ConsoleLogHandler(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this.logLevel = models_1.LogLevel.NOTSET;\n\n    if (config.logLevel !== undefined && js_sdk_utils_1.isValidEnum(models_1.LogLevel, config.logLevel)) {\n      this.setLogLevel(config.logLevel);\n    }\n\n    this.logToConsole = config.logToConsole !== undefined ? !!config.logToConsole : true;\n    this.prefix = config.prefix !== undefined ? config.prefix : '[OPTIMIZELY]';\n  }\n  /**\n   * @param {LogLevel} level\n   * @param {string} message\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.log = function (level, message) {\n    if (!this.shouldLog(level) || !this.logToConsole) {\n      return;\n    }\n\n    var logMessage = this.prefix + \" - \" + this.getLogLevelName(level) + \" \" + this.getTime() + \" \" + message;\n    this.consoleLog(level, [logMessage]);\n  };\n  /**\n   * @param {LogLevel} level\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.setLogLevel = function (level) {\n    level = coerceLogLevel(level);\n\n    if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n      this.logLevel = models_1.LogLevel.ERROR;\n    } else {\n      this.logLevel = level;\n    }\n  };\n  /**\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getTime = function () {\n    return new Date().toISOString();\n  };\n  /**\n   * @private\n   * @param {LogLevel} targetLogLevel\n   * @returns {boolean}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.shouldLog = function (targetLogLevel) {\n    return targetLogLevel >= this.logLevel;\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @returns {string}\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.getLogLevelName = function (logLevel) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        return 'DEBUG';\n\n      case models_1.LogLevel.INFO:\n        return 'INFO ';\n\n      case models_1.LogLevel.WARNING:\n        return 'WARN ';\n\n      case models_1.LogLevel.ERROR:\n        return 'ERROR';\n\n      default:\n        return 'NOTSET';\n    }\n  };\n  /**\n   * @private\n   * @param {LogLevel} logLevel\n   * @param {string[]} logArguments\n   * @memberof ConsoleLogger\n   */\n\n\n  ConsoleLogHandler.prototype.consoleLog = function (logLevel, logArguments) {\n    switch (logLevel) {\n      case models_1.LogLevel.DEBUG:\n        console.log.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.INFO:\n        console.info.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.WARNING:\n        console.warn.apply(console, logArguments);\n        break;\n\n      case models_1.LogLevel.ERROR:\n        console.error.apply(console, logArguments);\n        break;\n\n      default:\n        console.log.apply(console, logArguments);\n    }\n  };\n\n  return ConsoleLogHandler;\n}();\n\nexports.ConsoleLogHandler = ConsoleLogHandler;\nvar globalLogLevel = models_1.LogLevel.NOTSET;\nvar globalLogHandler = null;\n\nvar OptimizelyLogger =\n/** @class */\nfunction () {\n  function OptimizelyLogger(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.messagePrefix = '';\n\n    if (opts.messagePrefix) {\n      this.messagePrefix = opts.messagePrefix;\n    }\n  }\n  /**\n   * @param {(LogLevel | LogInputObject)} levelOrObj\n   * @param {string} [message]\n   * @memberof OptimizelyLogger\n   */\n\n\n  OptimizelyLogger.prototype.log = function (level, message) {\n    var splat = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      splat[_i - 2] = arguments[_i];\n    }\n\n    this.internalLog(coerceLogLevel(level), {\n      message: message,\n      splat: splat\n    });\n  };\n\n  OptimizelyLogger.prototype.info = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.INFO, message, splat);\n  };\n\n  OptimizelyLogger.prototype.debug = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.DEBUG, message, splat);\n  };\n\n  OptimizelyLogger.prototype.warn = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.WARNING, message, splat);\n  };\n\n  OptimizelyLogger.prototype.error = function (message) {\n    var splat = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      splat[_i - 1] = arguments[_i];\n    }\n\n    this.namedLog(models_1.LogLevel.ERROR, message, splat);\n  };\n\n  OptimizelyLogger.prototype.format = function (data) {\n    return \"\" + (this.messagePrefix ? this.messagePrefix + ': ' : '') + js_sdk_utils_1.sprintf.apply(void 0, __spreadArrays([data.message], data.splat));\n  };\n\n  OptimizelyLogger.prototype.internalLog = function (level, data) {\n    if (!globalLogHandler) {\n      return;\n    }\n\n    if (level < globalLogLevel) {\n      return;\n    }\n\n    globalLogHandler.log(level, this.format(data));\n\n    if (data.error && data.error instanceof Error) {\n      errorHandler_1.getErrorHandler().handleError(data.error);\n    }\n  };\n\n  OptimizelyLogger.prototype.namedLog = function (level, message, splat) {\n    var error;\n\n    if (message instanceof Error) {\n      error = message;\n      message = error.message;\n      this.internalLog(level, {\n        error: error,\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    if (splat.length === 0) {\n      this.internalLog(level, {\n        message: message,\n        splat: splat\n      });\n      return;\n    }\n\n    var last = splat[splat.length - 1];\n\n    if (last instanceof Error) {\n      error = last;\n      splat.splice(-1);\n    }\n\n    this.internalLog(level, {\n      message: message,\n      error: error,\n      splat: splat\n    });\n  };\n\n  return OptimizelyLogger;\n}();\n\nvar globalLogManager = new DefaultLogManager();\n\nfunction getLogger(name) {\n  return globalLogManager.getLogger(name);\n}\n\nexports.getLogger = getLogger;\n\nfunction setLogHandler(logger) {\n  globalLogHandler = logger;\n}\n\nexports.setLogHandler = setLogHandler;\n\nfunction setLogLevel(level) {\n  level = coerceLogLevel(level);\n\n  if (!js_sdk_utils_1.isValidEnum(models_1.LogLevel, level) || level === undefined) {\n    globalLogLevel = models_1.LogLevel.ERROR;\n  } else {\n    globalLogLevel = level;\n  }\n}\n\nexports.setLogLevel = setLogLevel;\n\nfunction getLogLevel() {\n  return globalLogLevel;\n}\n\nexports.getLogLevel = getLogLevel;\n/**\n * Resets all global logger state to it's original\n */\n\nfunction resetLogger() {\n  globalLogManager = new DefaultLogManager();\n  globalLogLevel = models_1.LogLevel.NOTSET;\n}\n\nexports.resetLogger = resetLogger;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar LogLevel;\n\n(function (LogLevel) {\n  LogLevel[LogLevel[\"NOTSET\"] = 0] = \"NOTSET\";\n  LogLevel[LogLevel[\"DEBUG\"] = 1] = \"DEBUG\";\n  LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n  LogLevel[LogLevel[\"WARNING\"] = 3] = \"WARNING\";\n  LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright 2019, Optimizely\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar uuid_1 = require(\"uuid\");\n\nfunction generateUUID() {\n  return uuid_1.v4();\n}\n\nexports.generateUUID = generateUUID;\n\nfunction getTimestamp() {\n  return new Date().getTime();\n}\n\nexports.getTimestamp = getTimestamp;\n/**\n * Validates a value is a valid TypeScript enum\n *\n * @export\n * @param {object} enumToCheck\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isValidEnum(enumToCheck, value) {\n  var found = false;\n  var keys = Object.keys(enumToCheck);\n\n  for (var index = 0; index < keys.length; index++) {\n    if (value === enumToCheck[keys[index]]) {\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.isValidEnum = isValidEnum;\n\nfunction groupBy(arr, grouperFn) {\n  var grouper = {};\n  arr.forEach(function (item) {\n    var key = grouperFn(item);\n    grouper[key] = grouper[key] || [];\n    grouper[key].push(item);\n  });\n  return objectValues(grouper);\n}\n\nexports.groupBy = groupBy;\n\nfunction objectValues(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nexports.objectValues = objectValues;\n\nfunction objectEntries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nexports.objectEntries = objectEntries;\n\nfunction find(arr, cond) {\n  var found;\n\n  for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n    var item = arr_1[_i];\n\n    if (cond(item)) {\n      found = item;\n      break;\n    }\n  }\n\n  return found;\n}\n\nexports.find = find;\n\nfunction keyBy(arr, keyByFn) {\n  var map = {};\n  arr.forEach(function (item) {\n    var key = keyByFn(item);\n    map[key] = item;\n  });\n  return map;\n}\n\nexports.keyBy = keyBy;\n\nfunction sprintf(format) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  var i = 0;\n  return format.replace(/%s/g, function () {\n    var arg = args[i++];\n    var type = typeof arg;\n\n    if (type === 'function') {\n      return arg();\n    } else if (type === 'string') {\n      return arg;\n    } else {\n      return String(arg);\n    }\n  });\n}\n\nexports.sprintf = sprintf;\n/*\n * Notification types for use with NotificationCenter\n * Format is EVENT: <list of parameters to callback>\n *\n * SDK consumers can use these to register callbacks with the notification center.\n *\n *  @deprecated since 3.1.0\n *  ACTIVATE: An impression event will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - experiment {Object}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - variation {Object}\n *    - logEvent {Object}\n *\n *  DECISION: A decision is made in the system. i.e. user activation,\n *  feature access or feature-variable value retrieval\n *  Callbacks will receive an object argument with the following properties:\n *    - type {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - decisionInfo {Object|undefined}\n *\n *  LOG_EVENT: A batch of events, which could contain impressions and/or conversions,\n *  will be sent to Optimizely\n *  Callbacks will receive an object argument with the following properties:\n *    - url {string}\n *    - httpVerb {string}\n *    - params {Object}\n *\n *  OPTIMIZELY_CONFIG_UPDATE: This Optimizely instance has been updated with a new\n *  config\n *\n *  TRACK: A conversion event will be sent to Optimizely\n *  Callbacks will receive the an object argument with the following properties:\n *    - eventKey {string}\n *    - userId {string}\n *    - attributes {Object|undefined}\n *    - eventTags {Object|undefined}\n *    - logEvent {Object}\n *\n */\n\nvar NOTIFICATION_TYPES;\n\n(function (NOTIFICATION_TYPES) {\n  NOTIFICATION_TYPES[\"ACTIVATE\"] = \"ACTIVATE:experiment, user_id,attributes, variation, event\";\n  NOTIFICATION_TYPES[\"DECISION\"] = \"DECISION:type, userId, attributes, decisionInfo\";\n  NOTIFICATION_TYPES[\"LOG_EVENT\"] = \"LOG_EVENT:logEvent\";\n  NOTIFICATION_TYPES[\"OPTIMIZELY_CONFIG_UPDATE\"] = \"OPTIMIZELY_CONFIG_UPDATE\";\n  NOTIFICATION_TYPES[\"TRACK\"] = \"TRACK:event_key, user_id, attributes, event_tags, event\";\n})(NOTIFICATION_TYPES = exports.NOTIFICATION_TYPES || (exports.NOTIFICATION_TYPES = {}));","var v1 = require('./v1');\n\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nmodule.exports = uuid;","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid'); // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar logging = require('@optimizely/js-sdk-logging');\n\nvar hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar optimizely = require('@optimizely/optimizely-sdk');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar hoistNonReactStatics__default = /*#__PURE__*/_interopDefaultLegacy(hoistNonReactStatics);\n/**\r\n * Copyright 2018-2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar OptimizelyContext = React.createContext({\n  optimizely: null,\n  isServerSide: false,\n  timeout: 0\n});\nvar OptimizelyContextConsumer = OptimizelyContext.Consumer;\nvar OptimizelyContextProvider = OptimizelyContext.Provider;\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n/**\r\n * Copyright 2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nfunction areUsersEqual(user1, user2) {\n  if (user1.id !== user2.id) {\n    return false;\n  }\n\n  var user1keys = Object.keys(user1.attributes || {});\n  var user2keys = Object.keys(user2.attributes || {});\n  user1keys.sort();\n  user2keys.sort();\n  var user1Attributes = user1.attributes || {};\n  var user2Attributes = user2.attributes || {};\n  var areKeysLenEqual = user1keys.length === user2keys.length;\n\n  if (!areKeysLenEqual) {\n    return false;\n  }\n\n  for (var i = 0; i < user1keys.length; i++) {\n    var key1 = user1keys[i];\n    var key2 = user2keys[i];\n\n    if (key1 !== key2) {\n      return false;\n    }\n\n    if (user1Attributes[key1] !== user2Attributes[key2]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction hoistStaticsAndForwardRefs(Target, Source, displayName) {\n  // Make sure to hoist statics and forward any refs through from Source to Target\n  // From the React docs:\n  //   https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over\n  //   https://reactjs.org/docs/forwarding-refs.html#forwarding-refs-in-higher-order-components\n  var forwardRef = function forwardRef(props, ref) {\n    return React.createElement(Target, _assign({}, props, {\n      forwardedRef: ref\n    }));\n  };\n\n  forwardRef.displayName = displayName + \"(\" + (Source.displayName || Source.name) + \")\";\n  return hoistNonReactStatics__default['default'](React.forwardRef(forwardRef), Source);\n}\n\nfunction coerceUnknownAttrsValueForComparison(maybeAttrs) {\n  if (typeof maybeAttrs === 'object' && maybeAttrs !== null) {\n    return maybeAttrs;\n  }\n\n  return {};\n}\n/**\r\n * Equality check applied to override user attributes passed into hooks. Used to determine when we need to recompute\r\n * a decision because a new set of override attributes was passed into a hook.\r\n * @param {UserAttributes|undefined} oldAttrs\r\n * @param {UserAttributes|undefined} newAttrs\r\n * @returns boolean\r\n */\n\n\nfunction areAttributesEqual(maybeOldAttrs, maybeNewAttrs) {\n  var oldAttrs = coerceUnknownAttrsValueForComparison(maybeOldAttrs);\n  var newAttrs = coerceUnknownAttrsValueForComparison(maybeNewAttrs);\n  var oldAttrsKeys = Object.keys(oldAttrs);\n  var newAttrsKeys = Object.keys(newAttrs);\n\n  if (oldAttrsKeys.length !== newAttrsKeys.length) {\n    // Different attr count - must update\n    return false;\n  }\n\n  return oldAttrsKeys.every(function (oldAttrKey) {\n    return oldAttrKey in newAttrs && oldAttrs[oldAttrKey] === newAttrs[oldAttrKey];\n  });\n}\n\nfunction createFailedDecision(flagKey, message, user) {\n  return {\n    enabled: false,\n    flagKey: flagKey,\n    ruleKey: null,\n    variationKey: null,\n    variables: {},\n    reasons: [message],\n    userContext: {\n      id: user.id,\n      attributes: user.attributes\n    }\n  };\n}\n\nvar logger = logging.getLogger('<OptimizelyProvider>');\n\nvar OptimizelyProvider =\n/** @class */\nfunction (_super) {\n  __extends(OptimizelyProvider, _super);\n\n  function OptimizelyProvider(props) {\n    var _this = _super.call(this, props) || this;\n\n    var optimizely = props.optimizely,\n        userId = props.userId,\n        userAttributes = props.userAttributes,\n        user = props.user; // check if user id/attributes are provided as props and set them ReactSDKClient\n\n    var finalUser = null;\n\n    if (user) {\n      if ('then' in user) {\n        user.then(function (res) {\n          optimizely.setUser(res);\n        });\n      } else {\n        finalUser = {\n          id: user.id,\n          attributes: user.attributes || {}\n        };\n      }\n    } else if (userId) {\n      finalUser = {\n        id: userId,\n        attributes: userAttributes || {}\n      }; // deprecation warning\n\n      logger.warn('Passing userId and userAttributes as props is deprecated, please switch to using `user` prop');\n    }\n\n    if (finalUser) {\n      optimizely.setUser(finalUser);\n    }\n\n    return _this;\n  }\n\n  OptimizelyProvider.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.isServerSide) {\n      // dont react to updates on server\n      return;\n    }\n\n    var optimizely = this.props.optimizely;\n\n    if (this.props.user && 'id' in this.props.user) {\n      if (!optimizely.user.id) {\n        // no user is set in optimizely, update\n        optimizely.setUser(this.props.user);\n      } else if ( // if the users aren't equal update\n      !areUsersEqual({\n        id: optimizely.user.id,\n        attributes: optimizely.user.attributes || {}\n      }, {\n        id: this.props.user.id,\n        // TODO see if we can use computeDerivedStateFromProps\n        attributes: this.props.user.attributes || {}\n      })) {\n        optimizely.setUser(this.props.user);\n      }\n    }\n  };\n\n  OptimizelyProvider.prototype.render = function () {\n    var _a = this.props,\n        optimizely = _a.optimizely,\n        children = _a.children,\n        timeout = _a.timeout;\n    var isServerSide = !!this.props.isServerSide;\n    var value = {\n      optimizely: optimizely,\n      isServerSide: isServerSide,\n      timeout: timeout\n    };\n    return React.createElement(OptimizelyContextProvider, {\n      value: value\n    }, children);\n  };\n\n  return OptimizelyProvider;\n}(React.Component);\n/**\r\n * Copyright 2020, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * Utility to setup listeners for changes to the datafile or user attributes and invoke the provided callback.\r\n * Returns an unListen function\r\n */\n\n\nvar setupAutoUpdateListeners = function setupAutoUpdateListeners(optimizely$1, type, value, logger, callback) {\n  var loggerSuffix = \"re-evaluating \" + type + \"=\\\"\" + value + \"\\\" for user=\\\"\" + optimizely$1.user.id + \"\\\"\";\n  var optimizelyNotificationId = optimizely$1.notificationCenter.addNotificationListener(optimizely.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE, function () {\n    logger.info(optimizely.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE + \", \" + loggerSuffix);\n    callback();\n  });\n\n  var unregisterConfigUpdateListener = function unregisterConfigUpdateListener() {\n    return optimizely$1.notificationCenter.removeNotificationListener(optimizelyNotificationId);\n  };\n\n  var unregisterUserListener = optimizely$1.onUserUpdate(function () {\n    logger.info(\"User update, \" + loggerSuffix);\n    callback();\n  });\n  return function () {\n    unregisterConfigUpdateListener();\n    unregisterUserListener();\n  };\n};\n\nvar hooksLogger = logging.getLogger('ReactSDK');\nvar HookType;\n\n(function (HookType) {\n  HookType[\"EXPERIMENT\"] = \"Experiment\";\n  HookType[\"FEATURE\"] = \"Feature\";\n})(HookType || (HookType = {}));\n/**\r\n * Equality check applied to decision inputs passed into hooks (experiment/feature keys, override user IDs, and override user attributes).\r\n * Used to determine when we need to recompute a decision because different inputs were passed into a hook.\r\n * @param {DecisionInputs} oldDecisionInputs\r\n * @param {DecisionInput} newDecisionInputs\r\n * @returns boolean\r\n */\n\n\nfunction areDecisionInputsEqual(oldDecisionInputs, newDecisionInputs) {\n  return oldDecisionInputs.entityKey === newDecisionInputs.entityKey && oldDecisionInputs.overrideUserId === newDecisionInputs.overrideUserId && areAttributesEqual(oldDecisionInputs.overrideAttributes, newDecisionInputs.overrideAttributes);\n}\n/**\r\n * Subscribe to changes in initialization state of the argument client. onInitStateChange callback\r\n * is called on the following events:\r\n * - optimizely successfully becomes ready\r\n * - timeout is reached prior to optimizely becoming ready\r\n * - optimizely becomes ready after the timeout has already passed\r\n * @param {ReactSDKClient} optimizely\r\n * @param {number|undefined} timeout\r\n * @param {Function} onInitStateChange\r\n */\n\n\nfunction subscribeToInitialization(optimizely, timeout, onInitStateChange) {\n  optimizely.onReady({\n    timeout: timeout\n  }).then(function (res) {\n    if (res.success) {\n      hooksLogger.info('Client became ready');\n      onInitStateChange({\n        clientReady: true,\n        didTimeout: false\n      });\n      return;\n    }\n\n    hooksLogger.info(\"Client did not become ready before timeout of \" + timeout + \"ms, reason=\\\"\" + (res.reason || '') + \"\\\"\");\n    onInitStateChange({\n      clientReady: false,\n      didTimeout: true\n    });\n    res.dataReadyPromise.then(function () {\n      hooksLogger.info('Client became ready after timeout already elapsed');\n      onInitStateChange({\n        clientReady: true,\n        didTimeout: true\n      });\n    });\n  }).catch(function () {\n    hooksLogger.error(\"Error initializing client. The core client or user promise(s) rejected.\");\n  });\n}\n\nfunction useCompareAttrsMemoize(value) {\n  var ref = React.useRef();\n\n  if (!areAttributesEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n/**\r\n * A React Hook that retrieves the variation for an experiment, optionally\r\n * auto updating that value based on underlying user or datafile changes.\r\n *\r\n * Note: The react client can become ready AFTER the timeout period.\r\n *       ClientReady and DidTimeout provide signals to handle this scenario.\r\n */\n\n\nvar useExperiment = function useExperiment(experimentKey, options, overrides) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  var _a = React.useContext(OptimizelyContext),\n      optimizely = _a.optimizely,\n      isServerSide = _a.isServerSide,\n      timeout = _a.timeout;\n\n  if (!optimizely) {\n    throw new Error('optimizely prop must be supplied via a parent <OptimizelyProvider>');\n  }\n\n  var overrideAttrs = useCompareAttrsMemoize(overrides.overrideAttributes);\n  var getCurrentDecision = React.useCallback(function () {\n    return {\n      variation: optimizely.activate(experimentKey, overrides.overrideUserId, overrideAttrs)\n    };\n  }, [optimizely, experimentKey, overrides.overrideUserId, overrideAttrs]);\n  var isClientReady = isServerSide || optimizely.isReady();\n\n  var _b = React.useState(function () {\n    var decisionState = isClientReady ? getCurrentDecision() : {\n      variation: null\n    };\n    return _assign({}, decisionState, {\n      clientReady: isClientReady,\n      didTimeout: false\n    });\n  }),\n      state = _b[0],\n      setState = _b[1]; // Decision state is derived from entityKey and overrides arguments.\n  // Track the previous value of those arguments, and update state when they change.\n  // This is an instance of the derived state pattern recommended here:\n  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n\n\n  var currentDecisionInputs = {\n    entityKey: experimentKey,\n    overrideUserId: overrides.overrideUserId,\n    overrideAttributes: overrideAttrs\n  };\n\n  var _c = React.useState(currentDecisionInputs),\n      prevDecisionInputs = _c[0],\n      setPrevDecisionInputs = _c[1];\n\n  if (!areDecisionInputsEqual(prevDecisionInputs, currentDecisionInputs)) {\n    setPrevDecisionInputs(currentDecisionInputs);\n    setState(function (prevState) {\n      return _assign({}, prevState, getCurrentDecision());\n    });\n  }\n\n  var finalReadyTimeout = options.timeout !== undefined ? options.timeout : timeout;\n  React.useEffect(function () {\n    if (!isClientReady) {\n      subscribeToInitialization(optimizely, finalReadyTimeout, function (initState) {\n        setState(_assign({}, getCurrentDecision(), initState));\n      });\n    }\n  }, [isClientReady, finalReadyTimeout, getCurrentDecision, optimizely]);\n  React.useEffect(function () {\n    if (options.autoUpdate) {\n      return setupAutoUpdateListeners(optimizely, HookType.EXPERIMENT, experimentKey, hooksLogger, function () {\n        setState(function (prevState) {\n          return _assign({}, prevState, getCurrentDecision());\n        });\n      });\n    }\n\n    return function () {};\n  }, [isClientReady, options.autoUpdate, optimizely, experimentKey, getCurrentDecision]);\n  React.useEffect(function () {\n    return optimizely.onForcedVariationsUpdate(function () {\n      setState(function (prevState) {\n        return _assign({}, prevState, getCurrentDecision());\n      });\n    });\n  }, [getCurrentDecision, optimizely]);\n  return [state.variation, state.clientReady, state.didTimeout];\n};\n/**\r\n * A React Hook that retrieves the status of a feature flag and its variables, optionally\r\n * auto updating those values based on underlying user or datafile changes.\r\n *\r\n * Note: The react client can become ready AFTER the timeout period.\r\n *       ClientReady and DidTimeout provide signals to handle this scenario.\r\n */\n\n\nvar useFeature = function useFeature(featureKey, options, overrides) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  var _a = React.useContext(OptimizelyContext),\n      optimizely = _a.optimizely,\n      isServerSide = _a.isServerSide,\n      timeout = _a.timeout;\n\n  if (!optimizely) {\n    throw new Error('optimizely prop must be supplied via a parent <OptimizelyProvider>');\n  }\n\n  var overrideAttrs = useCompareAttrsMemoize(overrides.overrideAttributes);\n  var getCurrentDecision = React.useCallback(function () {\n    return {\n      isEnabled: optimizely.isFeatureEnabled(featureKey, overrides.overrideUserId, overrideAttrs),\n      variables: optimizely.getFeatureVariables(featureKey, overrides.overrideUserId, overrideAttrs)\n    };\n  }, [optimizely, featureKey, overrides.overrideUserId, overrideAttrs]);\n  var isClientReady = isServerSide || optimizely.isReady();\n\n  var _b = React.useState(function () {\n    var decisionState = isClientReady ? getCurrentDecision() : {\n      isEnabled: false,\n      variables: {}\n    };\n    return _assign({}, decisionState, {\n      clientReady: isClientReady,\n      didTimeout: false\n    });\n  }),\n      state = _b[0],\n      setState = _b[1]; // Decision state is derived from entityKey and overrides arguments.\n  // Track the previous value of those arguments, and update state when they change.\n  // This is an instance of the derived state pattern recommended here:\n  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n\n\n  var currentDecisionInputs = {\n    entityKey: featureKey,\n    overrideUserId: overrides.overrideUserId,\n    overrideAttributes: overrides.overrideAttributes\n  };\n\n  var _c = React.useState(currentDecisionInputs),\n      prevDecisionInputs = _c[0],\n      setPrevDecisionInputs = _c[1];\n\n  if (!areDecisionInputsEqual(prevDecisionInputs, currentDecisionInputs)) {\n    setPrevDecisionInputs(currentDecisionInputs);\n    setState(function (prevState) {\n      return _assign({}, prevState, getCurrentDecision());\n    });\n  }\n\n  var finalReadyTimeout = options.timeout !== undefined ? options.timeout : timeout;\n  React.useEffect(function () {\n    if (!isClientReady) {\n      subscribeToInitialization(optimizely, finalReadyTimeout, function (initState) {\n        setState(_assign({}, getCurrentDecision(), initState));\n      });\n    }\n  }, [isClientReady, finalReadyTimeout, getCurrentDecision, optimizely]);\n  React.useEffect(function () {\n    if (options.autoUpdate) {\n      return setupAutoUpdateListeners(optimizely, HookType.FEATURE, featureKey, hooksLogger, function () {\n        setState(function (prevState) {\n          return _assign({}, prevState, getCurrentDecision());\n        });\n      });\n    }\n\n    return function () {};\n  }, [isClientReady, options.autoUpdate, optimizely, featureKey, getCurrentDecision]);\n  return [state.isEnabled, state.variables, state.clientReady, state.didTimeout];\n};\n/**\r\n * A React Hook that retrieves the flag decision, optionally\r\n * auto updating those values based on underlying user or datafile changes.\r\n *\r\n * Note: The react client can become ready AFTER the timeout period.\r\n *       ClientReady and DidTimeout provide signals to handle this scenario.\r\n */\n\n\nvar useDecision = function useDecision(flagKey, options, overrides) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  var _a = React.useContext(OptimizelyContext),\n      optimizely = _a.optimizely,\n      isServerSide = _a.isServerSide,\n      timeout = _a.timeout;\n\n  if (!optimizely) {\n    throw new Error('optimizely prop must be supplied via a parent <OptimizelyProvider>');\n  }\n\n  var overrideAttrs = useCompareAttrsMemoize(overrides.overrideAttributes);\n  var getCurrentDecision = React.useCallback(function () {\n    return {\n      decision: optimizely.decide(flagKey, options.decideOptions, overrides.overrideUserId, overrideAttrs)\n    };\n  }, [optimizely, flagKey, overrides.overrideUserId, overrideAttrs, options.decideOptions]);\n  var isClientReady = isServerSide || optimizely.isReady();\n\n  var _b = React.useState(function () {\n    var decisionState = isClientReady ? getCurrentDecision() : {\n      decision: createFailedDecision(flagKey, 'Optimizely SDK not configured properly yet.', {\n        id: overrides.overrideUserId || null,\n        attributes: overrideAttrs\n      })\n    };\n    return _assign({}, decisionState, {\n      clientReady: isClientReady,\n      didTimeout: false\n    });\n  }),\n      state = _b[0],\n      setState = _b[1]; // Decision state is derived from entityKey and overrides arguments.\n  // Track the previous value of those arguments, and update state when they change.\n  // This is an instance of the derived state pattern recommended here:\n  // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n\n\n  var currentDecisionInputs = {\n    entityKey: flagKey,\n    overrideUserId: overrides.overrideUserId,\n    overrideAttributes: overrides.overrideAttributes\n  };\n\n  var _c = React.useState(currentDecisionInputs),\n      prevDecisionInputs = _c[0],\n      setPrevDecisionInputs = _c[1];\n\n  if (!areDecisionInputsEqual(prevDecisionInputs, currentDecisionInputs)) {\n    setPrevDecisionInputs(currentDecisionInputs);\n    setState(function (prevState) {\n      return _assign({}, prevState, getCurrentDecision());\n    });\n  }\n\n  var finalReadyTimeout = options.timeout !== undefined ? options.timeout : timeout;\n  React.useEffect(function () {\n    if (!isClientReady) {\n      subscribeToInitialization(optimizely, finalReadyTimeout, function (initState) {\n        setState(_assign({}, getCurrentDecision(), initState));\n      });\n    }\n  }, [isClientReady, finalReadyTimeout, getCurrentDecision, optimizely]);\n  React.useEffect(function () {\n    if (options.autoUpdate) {\n      return setupAutoUpdateListeners(optimizely, HookType.FEATURE, flagKey, hooksLogger, function () {\n        setState(function (prevState) {\n          return _assign({}, prevState, getCurrentDecision());\n        });\n      });\n    }\n\n    return function () {};\n  }, [isClientReady, options.autoUpdate, optimizely, flagKey, getCurrentDecision]);\n  return [state.decision, state.clientReady, state.didTimeout];\n};\n/**\r\n * Copyright 2018-2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar FeatureComponent = function FeatureComponent(props) {\n  var feature = props.feature,\n      timeout = props.timeout,\n      autoUpdate = props.autoUpdate,\n      children = props.children,\n      overrideUserId = props.overrideUserId,\n      overrideAttributes = props.overrideAttributes;\n\n  var _a = useFeature(feature, {\n    timeout: timeout,\n    autoUpdate: autoUpdate\n  }, {\n    overrideUserId: overrideUserId,\n    overrideAttributes: overrideAttributes\n  }),\n      isEnabled = _a[0],\n      variables = _a[1],\n      clientReady = _a[2],\n      didTimeout = _a[3];\n\n  if (!clientReady && !didTimeout) {\n    // Only block rendering while were waiting for the client within the allowed timeout.\n    return null;\n  } // Wrap the return value here in a Fragment to please the HOC's expected React.ComponentType\n  // See https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n\n\n  return React.createElement(React.Fragment, null, children(isEnabled, variables, clientReady, didTimeout));\n};\n\nvar OptimizelyFeature = FeatureComponent;\n\nfunction withOptimizely(Component) {\n  var WithOptimizely =\n  /** @class */\n  function (_super) {\n    __extends(WithOptimizely, _super);\n\n    function WithOptimizely() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    WithOptimizely.prototype.render = function () {\n      var _a = this.props,\n          forwardedRef = _a.forwardedRef,\n          rest = __rest(_a, [\"forwardedRef\"]); // Note: Casting props to P is necessary because of this TypeScript issue:\n      // https://github.com/microsoft/TypeScript/issues/28884\n\n\n      return React.createElement(OptimizelyContextConsumer, null, function (value) {\n        return React.createElement(Component, _assign({}, rest, {\n          optimizelyReadyTimeout: value.timeout,\n          optimizely: value.optimizely,\n          isServerSide: value.isServerSide,\n          ref: forwardedRef\n        }));\n      });\n    };\n\n    return WithOptimizely;\n  }(React.Component);\n\n  var withRefsForwarded = hoistStaticsAndForwardRefs(WithOptimizely, Component, 'withOptimizely');\n  return withRefsForwarded;\n}\n/**\r\n * Copyright 2018-2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar Experiment = function Experiment(props) {\n  var experiment = props.experiment,\n      autoUpdate = props.autoUpdate,\n      timeout = props.timeout,\n      overrideUserId = props.overrideUserId,\n      overrideAttributes = props.overrideAttributes,\n      children = props.children;\n\n  var _a = useExperiment(experiment, {\n    timeout: timeout,\n    autoUpdate: autoUpdate\n  }, {\n    overrideUserId: overrideUserId,\n    overrideAttributes: overrideAttributes\n  }),\n      variation = _a[0],\n      clientReady = _a[1],\n      didTimeout = _a[2];\n\n  if (!clientReady && !didTimeout) {\n    // Only block rendering while were waiting for the client within the allowed timeout.\n    return null;\n  }\n\n  if (children != null && typeof children === 'function') {\n    // Wrap the return value here in a Fragment to please the HOC's expected React.ComponentType\n    // See https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return React.createElement(React.Fragment, null, children(variation, clientReady, didTimeout));\n  }\n\n  var match = null; // We use React.Children.forEach instead of React.Children.toArray().find()\n  // here because toArray adds keys to all child elements and we do not want\n  // to trigger an unmount/remount\n\n  React.Children.forEach(children, function (child) {\n    if (match || !React.isValidElement(child)) {\n      return;\n    }\n\n    if (child.props.variation) {\n      if (variation === child.props.variation) {\n        match = child;\n      }\n    } else if (child.props.default) {\n      match = child;\n    }\n  });\n  return match ? React.cloneElement(match, {\n    variation: variation\n  }) : null;\n};\n\nvar OptimizelyExperiment = Experiment;\n/**\r\n * Copyright 2018-2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n// Wrap the return value here in a Fragment to please the HOC's expected React.ComponentType\n// See https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n\nvar Variation = function Variation(_a) {\n  var children = _a.children;\n  return React.createElement(React.Fragment, null, children);\n};\n\nvar OptimizelyVariation = Variation;\n/**\r\n * Copyright 2019-2020, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\nvar logger$1 = logging.getLogger('ReactSDK');\nvar REACT_SDK_CLIENT_ENGINE = 'react-sdk';\nvar REACT_SDK_CLIENT_VERSION = '2.7.0';\nvar DEFAULT_ON_READY_TIMEOUT = 5000;\n\nvar OptimizelyReactSDKClient =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of OptimizelyReactSDKClient.\r\n   * @param {optimizely.Config} [config={}]\r\n   */\n  function OptimizelyReactSDKClient(config) {\n    var _this = this;\n\n    this.user = {\n      id: null,\n      attributes: {}\n    };\n    this.isUserPromiseResolved = false;\n    this.onUserUpdateHandlers = [];\n    this.onForcedVariationsUpdateHandlers = [];\n    this.dataReadyPromiseFulfilled = false;\n    this.initialConfig = config;\n\n    this.userPromiseResovler = function () {};\n\n    var configWithClientInfo = _assign({}, config, {\n      clientEngine: REACT_SDK_CLIENT_ENGINE,\n      clientVersion: REACT_SDK_CLIENT_VERSION\n    });\n\n    this._client = optimizely.createInstance(configWithClientInfo);\n    this.userPromise = new Promise(function (resolve) {\n      _this.userPromiseResovler = resolve;\n    }).then(function () {\n      return {\n        success: true\n      };\n    });\n    this.dataReadyPromise = Promise.all([this.userPromise, this._client.onReady()]).then(function () {\n      _this.dataReadyPromiseFulfilled = true;\n      return {\n        success: true,\n        reason: 'datafile and user resolved'\n      };\n    });\n  }\n\n  OptimizelyReactSDKClient.prototype.onReady = function (config) {\n    var _this = this;\n\n    if (config === void 0) {\n      config = {};\n    }\n\n    var timeoutId;\n    var timeout = DEFAULT_ON_READY_TIMEOUT;\n\n    if (config && config.timeout !== undefined) {\n      timeout = config.timeout;\n    }\n\n    var timeoutPromise = new Promise(function (resolve) {\n      timeoutId = setTimeout(function () {\n        resolve({\n          success: false,\n          reason: 'failed to initialize onReady before timeout, either the datafile or user info was not set before the timeout',\n          dataReadyPromise: _this.dataReadyPromise\n        });\n      }, timeout);\n    });\n    return Promise.race([this.dataReadyPromise, timeoutPromise]).then(function (res) {\n      clearTimeout(timeoutId);\n      return res;\n    });\n  };\n\n  OptimizelyReactSDKClient.prototype.setUser = function (userInfo) {\n    var _this = this; // TODO add check for valid user\n\n\n    if (userInfo.id) {\n      this.user.id = userInfo.id;\n    }\n\n    if (userInfo.attributes) {\n      this.user.attributes = userInfo.attributes;\n    }\n\n    if (!this.isUserPromiseResolved) {\n      this.userPromiseResovler(this.user);\n      this.isUserPromiseResolved = true;\n    }\n\n    this.onUserUpdateHandlers.forEach(function (handler) {\n      return handler(_this.user);\n    });\n  };\n\n  OptimizelyReactSDKClient.prototype.onUserUpdate = function (handler) {\n    var _this = this;\n\n    this.onUserUpdateHandlers.push(handler);\n    return function () {\n      var ind = _this.onUserUpdateHandlers.indexOf(handler);\n\n      if (ind > -1) {\n        _this.onUserUpdateHandlers.splice(ind, 1);\n      }\n    };\n  };\n  /**\r\n   * Register a handler to be called whenever setForcedVariation is called on\r\n   * this client. Returns a function that un-registers the handler when called.\r\n   * @param {OnForcedVariationsUpdateHandler} handler\r\n   * @returns {DisposeFn}\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.onForcedVariationsUpdate = function (handler) {\n    var _this = this;\n\n    this.onForcedVariationsUpdateHandlers.push(handler);\n    return function () {\n      var ind = _this.onForcedVariationsUpdateHandlers.indexOf(handler);\n\n      if (ind > -1) {\n        _this.onForcedVariationsUpdateHandlers.splice(ind, 1);\n      }\n    };\n  };\n\n  OptimizelyReactSDKClient.prototype.isReady = function () {\n    return this.dataReadyPromiseFulfilled;\n  };\n  /**\r\n   * Buckets visitor and sends impression event to Optimizely\r\n   * @param {string} experimentKey\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.activate = function (experimentKey, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('Not activating experiment \"%s\" because userId is not set', experimentKey);\n      return null;\n    }\n\n    return this._client.activate(experimentKey, user.id, user.attributes);\n  };\n\n  OptimizelyReactSDKClient.prototype.decide = function (key, options, overrideUserId, overrideAttributes) {\n    if (options === void 0) {\n      options = [];\n    }\n\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('Not Evaluating feature \"%s\" because userId is not set', key);\n      return createFailedDecision(key, \"Not Evaluating flag \" + key + \" because userId is not set\", user);\n    }\n\n    var optlyUserContext = this._client.createUserContext(user.id, user.attributes);\n\n    if (optlyUserContext) {\n      return _assign({}, optlyUserContext.decide(key, options), {\n        userContext: {\n          id: user.id,\n          attributes: user.attributes\n        }\n      });\n    }\n\n    return createFailedDecision(key, \"Not Evaluating flag \" + key + \" because user id or attributes are not valid\", user);\n  };\n\n  OptimizelyReactSDKClient.prototype.decideForKeys = function (keys, options, overrideUserId, overrideAttributes) {\n    if (options === void 0) {\n      options = [];\n    }\n\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('Not Evaluating features because userId is not set');\n      return {};\n    }\n\n    var optlyUserContext = this._client.createUserContext(user.id, user.attributes);\n\n    if (optlyUserContext) {\n      return Object.entries(optlyUserContext.decideForKeys(keys, options)).reduce(function (decisions, _a) {\n        var key = _a[0],\n            decision = _a[1];\n        decisions[key] = _assign({}, decision, {\n          userContext: {\n            id: user.id || '',\n            attributes: user.attributes\n          }\n        });\n        return decisions;\n      }, {});\n    }\n\n    return {};\n  };\n\n  OptimizelyReactSDKClient.prototype.decideAll = function (options, overrideUserId, overrideAttributes) {\n    if (options === void 0) {\n      options = [];\n    }\n\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('Not Evaluating features because userId is not set');\n      return {};\n    }\n\n    var optlyUserContext = this._client.createUserContext(user.id, user.attributes);\n\n    if (optlyUserContext) {\n      return Object.entries(optlyUserContext.decideAll(options)).reduce(function (decisions, _a) {\n        var key = _a[0],\n            decision = _a[1];\n        decisions[key] = _assign({}, decision, {\n          userContext: {\n            id: user.id || '',\n            attributes: user.attributes\n          }\n        });\n        return decisions;\n      }, {});\n    }\n\n    return {};\n  };\n  /**\r\n   * Gets variation where visitor will be bucketed\r\n   * @param {string} experimentKey\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getVariation = function (experimentKey, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('getVariation returned null for experiment \"%s\" because userId is not set', experimentKey);\n      return null;\n    }\n\n    return this._client.getVariation(experimentKey, user.id, user.attributes);\n  };\n  /**\r\n   * Sends conversion event to Optimizely\r\n   * @param {string} eventKey\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @param {optimizely.EventTags} [eventTags]\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.track = function (eventKey, overrideUserId, overrideAttributes, eventTags) {\n    if (typeof overrideUserId !== 'undefined' && typeof overrideUserId !== 'string') {\n      eventTags = overrideUserId;\n      overrideUserId = undefined;\n      overrideAttributes = undefined;\n    }\n\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('track for event \"%s\" not being sent because userId is not set', eventKey);\n      return;\n    }\n\n    return this._client.track(eventKey, user.id, user.attributes, eventTags);\n  };\n  /**\r\n   * Returns true if the feature is enabled for the given user\r\n   * @param {string} feature\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {boolean}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.isFeatureEnabled = function (feature, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      logger$1.info('isFeatureEnabled returning false for feature \"%s\" because userId is not set', feature);\n      return false;\n    }\n\n    return this._client.isFeatureEnabled(feature, user.id, user.attributes);\n  };\n  /**\r\n   * @deprecated since 2.1.0\r\n   * getAllFeatureVariables is added in JavaScript SDK which is similarly returning all the feature variables, but\r\n   * it sends only single notification of type \"all-feature-variables\" instead of sending for each variable.\r\n   * As getFeatureVariables was added when this functionality wasn't provided by JavaScript SDK, so there is no\r\n   * need of it now and it would be removed in next major release\r\n   *\r\n   * Get all variables for a feature, regardless of the feature being enabled/disabled\r\n   * @param {string} featureKey\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {VariableValuesObject}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariables = function (featureKey, overrideUserId, overrideAttributes) {\n    var _this = this;\n\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n    var userId = user.id;\n\n    if (userId === null) {\n      logger$1.info('getFeatureVariables returning `{}` for feature \"%s\" because userId is not set', featureKey);\n      return {};\n    }\n\n    var userAttributes = user.attributes;\n    var variableObj = {};\n\n    var optlyConfig = this._client.getOptimizelyConfig();\n\n    if (!optlyConfig) {\n      return {};\n    }\n\n    var feature = optlyConfig.featuresMap[featureKey];\n\n    if (!feature) {\n      return {};\n    }\n\n    Object.keys(feature.variablesMap).forEach(function (key) {\n      var variable = feature.variablesMap[key];\n      variableObj[variable.key] = _this._client.getFeatureVariable(featureKey, variable.key, userId, userAttributes);\n    });\n    return variableObj;\n  };\n  /**\r\n   * Returns value for the given string variable attached to the given feature\r\n   * flag\r\n   * @param {string} feature\r\n   * @param {string} variable\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariableString = function (feature, variable, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariableString(feature, variable, user.id, user.attributes);\n  };\n  /**\r\n   * Returns value for the given boolean variable attached to the given feature\r\n   * flag\r\n   * @param {string} feature\r\n   * @param {string} variable\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariableBoolean = function (feature, variable, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariableBoolean(feature, variable, user.id, user.attributes);\n  };\n  /**\r\n   * Returns value for the given integer variable attached to the given feature\r\n   * flag\r\n   * @param {string} feature\r\n   * @param {string} variable\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariableInteger = function (feature, variable, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariableInteger(feature, variable, user.id, user.attributes);\n  };\n  /**\r\n   * Returns value for the given double variable attached to the given feature\r\n   * flag\r\n   * @param {string} feature\r\n   * @param {string} variable\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariableDouble = function (feature, variable, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariableDouble(feature, variable, user.id, user.attributes);\n  };\n  /**\r\n   * Returns value for the given json variable attached to the given feature\r\n   * flag\r\n   * @param {string} feature\r\n   * @param {string} variable\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(unknown | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariableJSON = function (feature, variable, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariableJSON(feature, variable, user.id, user.attributes);\n  };\n  /**\r\n   * Returns dynamically-typed value of the variable attached to the given\r\n   * feature flag. Returns null if the feature key or variable key is invalid.\r\n   * @param {string} featureKey\r\n   * @param {string} variableKey\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {(unknown | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getFeatureVariable = function (featureKey, variableKey, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getFeatureVariable(featureKey, variableKey, user.id, user.attributes);\n  };\n  /**\r\n   * Returns values for all the variables attached to the given feature flag\r\n   * @param {string} featureKey\r\n   * @param {string} overrideUserId\r\n   * @param {optimizely.UserAttributes} [overrideAttributes]\r\n   * @returns {({ [variableKey: string]: unknown } | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getAllFeatureVariables = function (featureKey, overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return {};\n    }\n\n    return this._client.getAllFeatureVariables(featureKey, user.id, user.attributes);\n  };\n  /**\r\n   * Get an array of all enabled features\r\n   * @param {string} [overrideUserId]\r\n   * @param {optimizely.UserAttributes} [overrideUserId]\r\n   * @returns {Array<string>}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getEnabledFeatures = function (overrideUserId, overrideAttributes) {\n    var user = this.getUserContextWithOverrides(overrideUserId, overrideAttributes);\n\n    if (user.id === null) {\n      return [];\n    }\n\n    return this._client.getEnabledFeatures(user.id, user.attributes);\n  };\n  /**\r\n   * Gets the forced variation for a given user and experiment\r\n   * @param {string} experiment\r\n   * @param {string} [overrideUserId]\r\n   * @returns {(string | null)}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getForcedVariation = function (experiment, overrideUserId) {\n    var user = this.getUserContextWithOverrides(overrideUserId);\n\n    if (user.id === null) {\n      return null;\n    }\n\n    return this._client.getForcedVariation(experiment, user.id);\n  };\n  /**\r\n   * Force a user into a variation for a given experiment\r\n   * @param {string} experiment\r\n   * @param {string} overrideUserIdOrVariationKey\r\n   * @param {string} [variationKey]\r\n   * @returns {boolean}\r\n   * @memberof OptimizelyReactSDKClient\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.setForcedVariation = function (experiment, overrideUserIdOrVariationKey, variationKey) {\n    var finalUserId = null;\n    var finalVariationKey = null;\n\n    if (arguments.length === 2) {\n      finalVariationKey = overrideUserIdOrVariationKey;\n      finalUserId = this.getUserContextWithOverrides().id;\n    } else if (arguments.length === 3) {\n      finalUserId = this.getUserContextWithOverrides(overrideUserIdOrVariationKey).id;\n\n      if (variationKey === undefined) {\n        // can't have undefined if supplying all 3 arguments\n        return false;\n      }\n\n      finalVariationKey = variationKey;\n    }\n\n    if (finalUserId === null) {\n      return false;\n    }\n\n    var result = this._client.setForcedVariation(experiment, finalUserId, finalVariationKey);\n\n    this.onForcedVariationsUpdateHandlers.forEach(function (handler) {\n      return handler();\n    });\n    return result;\n  };\n  /**\r\n   *  Returns OptimizelyConfig object containing experiments and features data\r\n   *  @returns {optimizely.OptimizelyConfig | null} optimizely config\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.getOptimizelyConfig = function () {\n    return this._client.getOptimizelyConfig();\n  };\n  /**\r\n   * Cleanup method for killing an running timers and flushing eventQueue\r\n   */\n\n\n  OptimizelyReactSDKClient.prototype.close = function () {\n    return this._client.close();\n  };\n\n  Object.defineProperty(OptimizelyReactSDKClient.prototype, \"client\", {\n    /**\r\n     * Provide access to inner optimizely.Client object\r\n     */\n    get: function get() {\n      return this._client;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OptimizelyReactSDKClient.prototype, \"notificationCenter\", {\n    get: function get() {\n      return this._client.notificationCenter;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OptimizelyReactSDKClient.prototype.getUserContextWithOverrides = function (overrideUserId, overrideAttributes) {\n    var finalUserId = overrideUserId === undefined ? this.user.id : overrideUserId;\n    var finalUserAttributes = overrideAttributes === undefined ? this.user.attributes : overrideAttributes;\n    return {\n      id: finalUserId,\n      attributes: finalUserAttributes\n    };\n  };\n\n  return OptimizelyReactSDKClient;\n}();\n\nfunction createInstance(config) {\n  return new OptimizelyReactSDKClient(config);\n}\n/**\r\n * Copyright 2019, Optimizely\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n\nvar logger$2 = logging.getLogger('ReactSDK');\n/**\r\n * logOnlyEventDispatcher only logs a message at the debug level, and does not\r\n * send any requests to the Optimizely results backend. Use this to disable\r\n * all event dispatching.\r\n */\n\nvar logOnlyEventDispatcher = {\n  dispatchEvent: function dispatchEvent(event, callback) {\n    logger$2.debug('Event not dispatched by disabled event dispatcher: %s', function () {\n      var eventStr;\n\n      try {\n        eventStr = JSON.stringify(event);\n      } catch (err) {\n        eventStr = 'error stringifying event';\n      }\n\n      return eventStr;\n    });\n    callback({\n      statusCode: 204\n    });\n  }\n};\nObject.defineProperty(exports, 'OptimizelyDecideOption', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.OptimizelyDecideOption;\n  }\n});\nObject.defineProperty(exports, 'enums', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.enums;\n  }\n});\nObject.defineProperty(exports, 'errorHandler', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.errorHandler;\n  }\n});\nObject.defineProperty(exports, 'eventDispatcher', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.eventDispatcher;\n  }\n});\nObject.defineProperty(exports, 'logging', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.logging;\n  }\n});\nObject.defineProperty(exports, 'setLogLevel', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.setLogLevel;\n  }\n});\nObject.defineProperty(exports, 'setLogger', {\n  enumerable: true,\n  get: function get() {\n    return optimizely.setLogger;\n  }\n});\nexports.OptimizelyContext = OptimizelyContext;\nexports.OptimizelyContextConsumer = OptimizelyContextConsumer;\nexports.OptimizelyContextProvider = OptimizelyContextProvider;\nexports.OptimizelyExperiment = OptimizelyExperiment;\nexports.OptimizelyFeature = OptimizelyFeature;\nexports.OptimizelyProvider = OptimizelyProvider;\nexports.OptimizelyVariation = OptimizelyVariation;\nexports.createInstance = createInstance;\nexports.logOnlyEventDispatcher = logOnlyEventDispatcher;\nexports.useDecision = useDecision;\nexports.useExperiment = useExperiment;\nexports.useFeature = useFeature;\nexports.withOptimizely = withOptimizely;","\"use strict\";\n\nmodule.exports = Object.assign;","'use strict';\n\nvar reactIs = require('react-is');\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","(function () {\n  var _global = this;\n  /**\n   * JS Implementation of MurmurHash2\n   *\n   * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n   * @see http://github.com/garycourt/murmurhash-js\n   * @author <a href=\"mailto:aappleby@gmail.com\">Austin Appleby</a>\n   * @see http://sites.google.com/site/murmurhash/\n   *\n   * @param {string} str ASCII only\n   * @param {number} seed Positive integer only\n   * @return {number} 32-bit positive integer hash\n   */\n\n\n  function MurmurHashV2(str, seed) {\n    var l = str.length,\n        h = seed ^ l,\n        i = 0,\n        k;\n\n    while (l >= 4) {\n      k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n      k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n      k ^= k >>> 24;\n      k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n      h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16) ^ k;\n      l -= 4;\n      ++i;\n    }\n\n    switch (l) {\n      case 3:\n        h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n      case 2:\n        h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n      case 1:\n        h ^= str.charCodeAt(i) & 0xff;\n        h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    }\n\n    h ^= h >>> 13;\n    h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);\n    h ^= h >>> 15;\n    return h >>> 0;\n  }\n\n  ;\n  /**\n   * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)\n   *\n   * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n   * @see http://github.com/garycourt/murmurhash-js\n   * @author <a href=\"mailto:aappleby@gmail.com\">Austin Appleby</a>\n   * @see http://sites.google.com/site/murmurhash/\n   *\n   * @param {string} key ASCII only\n   * @param {number} seed Positive integer only\n   * @return {number} 32-bit positive integer hash\n   */\n\n  function MurmurHashV3(key, seed) {\n    var remainder, bytes, h1, h1b, c1, c1b, c2, c2b, k1, i;\n    remainder = key.length & 3; // key.length % 4\n\n    bytes = key.length - remainder;\n    h1 = seed;\n    c1 = 0xcc9e2d51;\n    c2 = 0x1b873593;\n    i = 0;\n\n    while (i < bytes) {\n      k1 = key.charCodeAt(i) & 0xff | (key.charCodeAt(++i) & 0xff) << 8 | (key.charCodeAt(++i) & 0xff) << 16 | (key.charCodeAt(++i) & 0xff) << 24;\n      ++i;\n      k1 = (k1 & 0xffff) * c1 + (((k1 >>> 16) * c1 & 0xffff) << 16) & 0xffffffff;\n      k1 = k1 << 15 | k1 >>> 17;\n      k1 = (k1 & 0xffff) * c2 + (((k1 >>> 16) * c2 & 0xffff) << 16) & 0xffffffff;\n      h1 ^= k1;\n      h1 = h1 << 13 | h1 >>> 19;\n      h1b = (h1 & 0xffff) * 5 + (((h1 >>> 16) * 5 & 0xffff) << 16) & 0xffffffff;\n      h1 = (h1b & 0xffff) + 0x6b64 + (((h1b >>> 16) + 0xe654 & 0xffff) << 16);\n    }\n\n    k1 = 0;\n\n    switch (remainder) {\n      case 3:\n        k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;\n\n      case 2:\n        k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;\n\n      case 1:\n        k1 ^= key.charCodeAt(i) & 0xff;\n        k1 = (k1 & 0xffff) * c1 + (((k1 >>> 16) * c1 & 0xffff) << 16) & 0xffffffff;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = (k1 & 0xffff) * c2 + (((k1 >>> 16) * c2 & 0xffff) << 16) & 0xffffffff;\n        h1 ^= k1;\n    }\n\n    h1 ^= key.length;\n    h1 ^= h1 >>> 16;\n    h1 = (h1 & 0xffff) * 0x85ebca6b + (((h1 >>> 16) * 0x85ebca6b & 0xffff) << 16) & 0xffffffff;\n    h1 ^= h1 >>> 13;\n    h1 = (h1 & 0xffff) * 0xc2b2ae35 + (((h1 >>> 16) * 0xc2b2ae35 & 0xffff) << 16) & 0xffffffff;\n    h1 ^= h1 >>> 16;\n    return h1 >>> 0;\n  }\n\n  var murmur = MurmurHashV3;\n  murmur.v2 = MurmurHashV2;\n  murmur.v3 = MurmurHashV3;\n\n  if (typeof module != 'undefined') {\n    module.exports = murmur;\n  } else {\n    var _previousRoot = _global.murmur;\n\n    murmur.noConflict = function () {\n      _global.murmur = _previousRoot;\n      return murmur;\n    };\n\n    _global.murmur = murmur;\n  }\n})();","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = t;\nexports.Memo = r;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nexports.isConcurrentMode = A;\n\nexports.isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return z(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return z(a) === t;\n};\n\nexports.isMemo = function (a) {\n  return z(a) === r;\n};\n\nexports.isPortal = function (a) {\n  return z(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return z(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return z(a) === p;\n};\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nexports.typeOf = z;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.withPrefix = withPrefix;\nexports.withAssetPrefix = withAssetPrefix;\nexports.navigate = exports.default = void 0;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reachRouter = require(\"@gatsbyjs/reach-router\");\n\nvar _utils = require(\"@gatsbyjs/reach-router/lib/utils\");\n\nvar _parsePath = require(\"./parse-path\");\n\nexports.parsePath = _parsePath.parsePath;\nvar _excluded = [\"to\", \"getProps\", \"onClick\", \"onMouseEnter\", \"activeClassName\", \"activeStyle\", \"innerRef\", \"partiallyActive\", \"state\", \"replace\", \"_location\"];\n\nvar isAbsolutePath = function isAbsolutePath(path) {\n  return path === null || path === void 0 ? void 0 : path.startsWith(\"/\");\n};\n\nfunction withPrefix(path, prefix) {\n  var _ref, _prefix;\n\n  if (prefix === void 0) {\n    prefix = getGlobalBasePrefix();\n  }\n\n  if (!isLocalLink(path)) {\n    return path;\n  }\n\n  if (path.startsWith(\"./\") || path.startsWith(\"../\")) {\n    return path;\n  }\n\n  var base = (_ref = (_prefix = prefix) !== null && _prefix !== void 0 ? _prefix : getGlobalPathPrefix()) !== null && _ref !== void 0 ? _ref : \"/\";\n  return \"\" + (base !== null && base !== void 0 && base.endsWith(\"/\") ? base.slice(0, -1) : base) + (path.startsWith(\"/\") ? path : \"/\" + path);\n} // These global values are wrapped in typeof clauses to ensure the values exist.\n// This is especially problematic in unit testing of this component.\n\n\nvar getGlobalPathPrefix = function getGlobalPathPrefix() {\n  return process.env.NODE_ENV !== \"production\" ? typeof __PATH_PREFIX__ !== \"undefined\" ? __PATH_PREFIX__ : undefined : __PATH_PREFIX__;\n};\n\nvar getGlobalBasePrefix = function getGlobalBasePrefix() {\n  return process.env.NODE_ENV !== \"production\" ? typeof __BASE_PATH__ !== \"undefined\" ? __BASE_PATH__ : undefined : __BASE_PATH__;\n};\n\nvar isLocalLink = function isLocalLink(path) {\n  return path && !path.startsWith(\"http://\") && !path.startsWith(\"https://\") && !path.startsWith(\"//\");\n};\n\nfunction withAssetPrefix(path) {\n  return withPrefix(path, getGlobalPathPrefix());\n}\n\nfunction absolutify(path, current) {\n  // If it's already absolute, return as-is\n  if (isAbsolutePath(path)) {\n    return path;\n  }\n\n  return (0, _utils.resolve)(path, current);\n}\n\nvar rewriteLinkPath = function rewriteLinkPath(path, relativeTo) {\n  if (typeof path === \"number\") {\n    return path;\n  }\n\n  if (!isLocalLink(path)) {\n    return path;\n  }\n\n  return isAbsolutePath(path) ? withPrefix(path) : absolutify(path, relativeTo);\n};\n\nvar NavLinkPropTypes = {\n  activeClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  partiallyActive: _propTypes.default.bool\n}; // Set up IntersectionObserver\n\nvar createIntersectionObserver = function createIntersectionObserver(el, cb) {\n  var io = new window.IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (el === entry.target) {\n        // Check if element is within viewport, remove listener, destroy observer, and run link callback.\n        // MSEdge doesn't currently support isIntersecting, so also test for  an intersectionRatio > 0\n        cb(entry.isIntersecting || entry.intersectionRatio > 0);\n      }\n    });\n  }); // Add element to the observer\n\n  io.observe(el);\n  return {\n    instance: io,\n    el: el\n  };\n};\n\nfunction GatsbyLinkLocationWrapper(props) {\n  return /*#__PURE__*/_react.default.createElement(_reachRouter.Location, null, function (_ref2) {\n    var location = _ref2.location;\n    return /*#__PURE__*/_react.default.createElement(GatsbyLink, (0, _extends2.default)({}, props, {\n      _location: location\n    }));\n  });\n}\n\nvar GatsbyLink = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(GatsbyLink, _React$Component);\n\n  function GatsbyLink(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Default to no support for IntersectionObserver\n\n    _this.defaultGetProps = function (_ref3) {\n      var isPartiallyCurrent = _ref3.isPartiallyCurrent,\n          isCurrent = _ref3.isCurrent;\n\n      if (_this.props.partiallyActive ? isPartiallyCurrent : isCurrent) {\n        return {\n          className: [_this.props.className, _this.props.activeClassName].filter(Boolean).join(\" \"),\n          style: (0, _extends2.default)({}, _this.props.style, _this.props.activeStyle)\n        };\n      }\n\n      return null;\n    };\n\n    var IOSupported = false;\n\n    if (typeof window !== \"undefined\" && window.IntersectionObserver) {\n      IOSupported = true;\n    }\n\n    _this.state = {\n      IOSupported: IOSupported\n    };\n    _this.abortPrefetch = null;\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  var _proto = GatsbyLink.prototype;\n\n  _proto._prefetch = function _prefetch() {\n    var currentPath = window.location.pathname + window.location.search; // reach router should have the correct state\n\n    if (this.props._location && this.props._location.pathname) {\n      currentPath = this.props._location.pathname + this.props._location.search;\n    }\n\n    var rewrittenPath = rewriteLinkPath(this.props.to, currentPath);\n    var parsed = (0, _parsePath.parsePath)(rewrittenPath);\n    var newPathName = parsed.pathname + parsed.search; // Prefetch is used to speed up next navigations. When you use it on the current navigation,\n    // there could be a race-condition where Chrome uses the stale data instead of waiting for the network to complete\n\n    if (currentPath !== newPathName) {\n      return ___loader.enqueue(newPathName);\n    }\n\n    return undefined;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (!this.io) {\n      return;\n    }\n\n    var _this$io = this.io,\n        instance = _this$io.instance,\n        el = _this$io.el;\n\n    if (this.abortPrefetch) {\n      this.abortPrefetch.abort();\n    }\n\n    instance.unobserve(el);\n    instance.disconnect();\n  };\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.props.innerRef && Object.prototype.hasOwnProperty.call(this.props.innerRef, \"current\")) {\n      this.props.innerRef.current = ref;\n    } else if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    if (this.state.IOSupported && ref) {\n      // If IO supported and element reference found, setup Observer functionality\n      this.io = createIntersectionObserver(ref, function (inViewPort) {\n        if (inViewPort) {\n          _this2.abortPrefetch = _this2._prefetch();\n        } else {\n          if (_this2.abortPrefetch) {\n            _this2.abortPrefetch.abort();\n          }\n        }\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        to = _this$props.to,\n        _this$props$getProps = _this$props.getProps,\n        getProps = _this$props$getProps === void 0 ? this.defaultGetProps : _this$props$getProps,\n        _onClick = _this$props.onClick,\n        _onMouseEnter = _this$props.onMouseEnter,\n        $activeClassName = _this$props.activeClassName,\n        $activeStyle = _this$props.activeStyle,\n        $innerRef = _this$props.innerRef,\n        partiallyActive = _this$props.partiallyActive,\n        state = _this$props.state,\n        replace = _this$props.replace,\n        _location = _this$props._location,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, _excluded);\n\n    if (process.env.NODE_ENV !== \"production\" && !isLocalLink(to)) {\n      console.warn(\"External link \" + to + \" was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.dev/internal-links\");\n    }\n\n    var prefixedTo = rewriteLinkPath(to, _location.pathname);\n\n    if (!isLocalLink(prefixedTo)) {\n      return /*#__PURE__*/_react.default.createElement(\"a\", (0, _extends2.default)({\n        href: prefixedTo\n      }, rest));\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_reachRouter.Link, (0, _extends2.default)({\n      to: prefixedTo,\n      state: state,\n      getProps: getProps,\n      innerRef: this.handleRef,\n      onMouseEnter: function onMouseEnter(e) {\n        if (_onMouseEnter) {\n          _onMouseEnter(e);\n        }\n\n        var parsed = (0, _parsePath.parsePath)(prefixedTo);\n\n        ___loader.hovering(parsed.pathname + parsed.search);\n      },\n      onClick: function onClick(e) {\n        if (_onClick) {\n          _onClick(e);\n        }\n\n        if (e.button === 0 && // ignore right clicks\n        !_this3.props.target && // let browser handle \"target=_blank\"\n        !e.defaultPrevented && // onClick prevented default\n        !e.metaKey && // ignore clicks with modifier keys...\n        !e.altKey && !e.ctrlKey && !e.shiftKey) {\n          e.preventDefault();\n          var shouldReplace = replace;\n\n          var isCurrent = encodeURI(prefixedTo) === _location.pathname;\n\n          if (typeof replace !== \"boolean\" && isCurrent) {\n            shouldReplace = true;\n          } // Make sure the necessary scripts and data are\n          // loaded before continuing.\n\n\n          window.___navigate(prefixedTo, {\n            state: state,\n            replace: shouldReplace\n          });\n        }\n\n        return true;\n      }\n    }, rest));\n  };\n\n  return GatsbyLink;\n}(_react.default.Component);\n\nGatsbyLink.propTypes = (0, _extends2.default)({}, NavLinkPropTypes, {\n  onClick: _propTypes.default.func,\n  to: _propTypes.default.string.isRequired,\n  replace: _propTypes.default.bool,\n  state: _propTypes.default.object\n});\n\nvar _default = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  return /*#__PURE__*/_react.default.createElement(GatsbyLinkLocationWrapper, (0, _extends2.default)({\n    innerRef: ref\n  }, props));\n});\n\nexports.default = _default;\n\nvar navigate = function navigate(to, options) {\n  window.___navigate(rewriteLinkPath(to, window.location.pathname), options);\n};\n\nexports.navigate = navigate;","\"use strict\";\n\nexports.__esModule = true;\nexports.parsePath = parsePath;\n\nfunction parsePath(path) {\n  var pathname = path || \"/\";\n  var search = \"\";\n  var hash = \"\";\n  var hashIndex = pathname.indexOf(\"#\");\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf(\"?\");\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === \"?\" ? \"\" : search,\n    hash: hash === \"#\" ? \"\" : hash\n  };\n}","\"use strict\";\n\nexports.__esModule = true;\nexports.useScrollRestoration = exports.ScrollContext = void 0;\n\nvar _scrollHandler = require(\"./scroll-handler\");\n\nexports.ScrollContext = _scrollHandler.ScrollHandler;\n\nvar _useScrollRestoration = require(\"./use-scroll-restoration\");\n\nexports.useScrollRestoration = _useScrollRestoration.useScrollRestoration;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.ScrollHandler = exports.ScrollContext = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _sessionStorage = require(\"./session-storage\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar ScrollContext = /*#__PURE__*/React.createContext(new _sessionStorage.SessionStorage());\nexports.ScrollContext = ScrollContext;\nScrollContext.displayName = \"GatsbyScrollContext\";\n\nvar ScrollHandler = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(ScrollHandler, _React$Component);\n\n  function ScrollHandler() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this._stateStorage = new _sessionStorage.SessionStorage();\n    _this._isTicking = false;\n    _this._latestKnownScrollY = 0;\n\n    _this.scrollListener = function () {\n      _this._latestKnownScrollY = window.scrollY;\n\n      if (!_this._isTicking) {\n        _this._isTicking = true;\n        requestAnimationFrame(_this._saveScroll.bind((0, _assertThisInitialized2.default)(_this)));\n      }\n    };\n\n    _this.windowScroll = function (position, prevProps) {\n      if (_this.shouldUpdateScroll(prevProps, _this.props)) {\n        window.scrollTo(0, position);\n      }\n    };\n\n    _this.scrollToHash = function (hash, prevProps) {\n      var node = document.getElementById(hash.substring(1));\n\n      if (node && _this.shouldUpdateScroll(prevProps, _this.props)) {\n        node.scrollIntoView();\n      }\n    };\n\n    _this.shouldUpdateScroll = function (prevRouterProps, routerProps) {\n      var shouldUpdateScroll = _this.props.shouldUpdateScroll;\n\n      if (!shouldUpdateScroll) {\n        return true;\n      } // Hack to allow accessing this._stateStorage.\n\n\n      return shouldUpdateScroll.call((0, _assertThisInitialized2.default)(_this), prevRouterProps, routerProps);\n    };\n\n    return _this;\n  }\n\n  var _proto = ScrollHandler.prototype;\n\n  _proto._saveScroll = function _saveScroll() {\n    var key = this.props.location.key || null;\n\n    if (key) {\n      this._stateStorage.save(this.props.location, key, this._latestKnownScrollY);\n    }\n\n    this._isTicking = false;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener(\"scroll\", this.scrollListener);\n    var scrollPosition;\n    var _this$props$location = this.props.location,\n        key = _this$props$location.key,\n        hash = _this$props$location.hash;\n\n    if (key) {\n      scrollPosition = this._stateStorage.read(this.props.location, key);\n    }\n\n    if (scrollPosition) {\n      this.windowScroll(scrollPosition, undefined);\n    } else if (hash) {\n      this.scrollToHash(decodeURI(hash), undefined);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.scrollListener);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props$location2 = this.props.location,\n        hash = _this$props$location2.hash,\n        key = _this$props$location2.key;\n    var scrollPosition;\n\n    if (key) {\n      scrollPosition = this._stateStorage.read(this.props.location, key);\n    }\n    /**  There are two pieces of state: the browser url and\n     * history state which keeps track of scroll position\n     * Native behaviour prescribes that we ought to restore scroll position\n     * when a user navigates back in their browser (this is the `POP` action)\n     * Currently, reach router has a bug that prevents this at https://github.com/reach/router/issues/228\n     * So we _always_ stick to the url as a source of truth  if the url\n     * contains a hash, we scroll to it\n     */\n\n\n    if (hash) {\n      this.scrollToHash(decodeURI(hash), prevProps);\n    } else {\n      this.windowScroll(scrollPosition, prevProps);\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(ScrollContext.Provider, {\n      value: this._stateStorage\n    }, this.props.children);\n  };\n\n  return ScrollHandler;\n}(React.Component);\n\nexports.ScrollHandler = ScrollHandler;\nScrollHandler.propTypes = {\n  shouldUpdateScroll: _propTypes.default.func,\n  children: _propTypes.default.element.isRequired,\n  location: _propTypes.default.object.isRequired\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.SessionStorage = void 0;\nvar STATE_KEY_PREFIX = \"@@scroll|\";\nvar GATSBY_ROUTER_SCROLL_STATE = \"___GATSBY_REACT_ROUTER_SCROLL\";\n\nvar SessionStorage = /*#__PURE__*/function () {\n  function SessionStorage() {}\n\n  var _proto = SessionStorage.prototype;\n\n  _proto.read = function read(location, key) {\n    var stateKey = this.getStateKey(location, key);\n\n    try {\n      var value = window.sessionStorage.getItem(stateKey);\n      return value ? JSON.parse(value) : 0;\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to access sessionStorage; sessionStorage is not available.\");\n      }\n\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE] && window[GATSBY_ROUTER_SCROLL_STATE][stateKey]) {\n        return window[GATSBY_ROUTER_SCROLL_STATE][stateKey];\n      }\n\n      return 0;\n    }\n  };\n\n  _proto.save = function save(location, key, value) {\n    var stateKey = this.getStateKey(location, key);\n    var storedValue = JSON.stringify(value);\n\n    try {\n      window.sessionStorage.setItem(stateKey, storedValue);\n    } catch (e) {\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE]) {\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      } else {\n        window[GATSBY_ROUTER_SCROLL_STATE] = {};\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to save state in sessionStorage; sessionStorage is not available.\");\n      }\n    }\n  };\n\n  _proto.getStateKey = function getStateKey(location, key) {\n    var stateKeyBase = \"\" + STATE_KEY_PREFIX + location.pathname;\n    return key === null || typeof key === \"undefined\" ? stateKeyBase : stateKeyBase + \"|\" + key;\n  };\n\n  return SessionStorage;\n}();\n\nexports.SessionStorage = SessionStorage;","\"use strict\";\n\nexports.__esModule = true;\nexports.useScrollRestoration = useScrollRestoration;\n\nvar _scrollHandler = require(\"./scroll-handler\");\n\nvar _react = require(\"react\");\n\nvar _reachRouter = require(\"@gatsbyjs/reach-router\");\n\nfunction useScrollRestoration(identifier) {\n  var location = (0, _reachRouter.useLocation)();\n  var state = (0, _react.useContext)(_scrollHandler.ScrollContext);\n  var ref = (0, _react.useRef)(null);\n  (0, _react.useLayoutEffect)(function () {\n    if (ref.current) {\n      var position = state.read(location, identifier);\n      ref.current.scrollTo(0, position || 0);\n    }\n  }, [location.key]);\n  return {\n    ref: ref,\n    onScroll: function onScroll() {\n      if (ref.current) {\n        state.save(location, identifier, ref.current.scrollTop);\n      }\n    }\n  };\n}","exports.components = {\n  \"component---src-pages-404-js\": () => import(\"./../../../src/pages/404.js\" /* webpackChunkName: \"component---src-pages-404-js\" */),\n  \"component---src-pages-another-page-js\": () => import(\"./../../../src/pages/anotherPage.js\" /* webpackChunkName: \"component---src-pages-another-page-js\" */),\n  \"component---src-pages-index-js\": () => import(\"./../../../src/pages/index.js\" /* webpackChunkName: \"component---src-pages-index-js\" */)\n}\n\n","module.exports = [{\n      plugin: require('../gatsby-browser.js'),\n      options: {\"plugins\":[]},\n    }]\n","const plugins = require(`./api-runner-browser-plugins`)\nconst { getResourceURLsForPathname, loadPage, loadPageSync } =\n  require(`./loader`).publicLoader\n\nexports.apiRunner = (api, args = {}, defaultReturn, argTransform) => {\n  // Hooks for gatsby-cypress's API handler\n  if (process.env.CYPRESS_SUPPORT) {\n    if (window.___apiHandler) {\n      window.___apiHandler(api)\n    } else if (window.___resolvedAPIs) {\n      window.___resolvedAPIs.push(api)\n    } else {\n      window.___resolvedAPIs = [api]\n    }\n  }\n\n  let results = plugins.map(plugin => {\n    if (!plugin.plugin[api]) {\n      return undefined\n    }\n\n    args.getResourceURLsForPathname = getResourceURLsForPathname\n    args.loadPage = loadPage\n    args.loadPageSync = loadPageSync\n\n    const result = plugin.plugin[api](args, plugin.options)\n    if (result && argTransform) {\n      args = argTransform({ args, result, plugin })\n    }\n    return result\n  })\n\n  // Filter out undefined results.\n  results = results.filter(result => typeof result !== `undefined`)\n\n  if (results.length > 0) {\n    return results\n  } else if (defaultReturn) {\n    return [defaultReturn]\n  } else {\n    return []\n  }\n}\n\nexports.apiRunnerAsync = (api, args, defaultReturn) =>\n  plugins.reduce(\n    (previous, next) =>\n      next.plugin[api]\n        ? previous.then(() => next.plugin[api](args, next.options))\n        : previous,\n    Promise.resolve()\n  )\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","import mitt from \"mitt\"\n\nconst emitter = mitt()\nexport default emitter\n","export default pathAndSearch => {\n  if (pathAndSearch === undefined) {\n    return pathAndSearch\n  }\n  let [path, search = ``] = pathAndSearch.split(`?`)\n  if (search) {\n    search = `?` + search\n  }\n\n  if (path === `/`) {\n    return `/` + search\n  }\n  if (path.charAt(path.length - 1) === `/`) {\n    return path.slice(0, -1) + search\n  }\n  return path + search\n}\n","import { pick } from \"@gatsbyjs/reach-router/lib/utils\"\nimport stripPrefix from \"./strip-prefix\"\nimport normalizePagePath from \"./normalize-page-path\"\nimport { maybeGetBrowserRedirect } from \"./redirect-utils.js\"\n\nconst pathCache = new Map()\nlet matchPaths = []\n\nconst trimPathname = rawPathname => {\n  const pathname = decodeURIComponent(rawPathname)\n  // Remove the pathPrefix from the pathname.\n  const trimmedPathname = stripPrefix(\n    pathname,\n    decodeURIComponent(__BASE_PATH__)\n  )\n    // Remove any hashfragment\n    .split(`#`)[0]\n\n  return trimmedPathname\n}\n\nfunction absolutify(path) {\n  // If it's already absolute, return as-is\n  if (\n    path.startsWith(`/`) ||\n    path.startsWith(`https://`) ||\n    path.startsWith(`http://`)\n  ) {\n    return path\n  }\n  // Calculate path relative to current location, adding a trailing slash to\n  // match behavior of @reach/router\n  return new URL(\n    path,\n    window.location.href + (window.location.href.endsWith(`/`) ? `` : `/`)\n  ).pathname\n}\n\n/**\n * Set list of matchPaths\n *\n * @param {Array<{path: string, matchPath: string}>} value collection of matchPaths\n */\nexport const setMatchPaths = value => {\n  matchPaths = value\n}\n\n/**\n * Return a matchpath url\n * if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n * `/foo?bar=far` => `/page1`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string|null}\n */\nexport const findMatchPath = rawPathname => {\n  const trimmedPathname = cleanPath(rawPathname)\n\n  const pickPaths = matchPaths.map(({ path, matchPath }) => {\n    return {\n      path: matchPath,\n      originalPath: path,\n    }\n  })\n\n  const path = pick(pickPaths, trimmedPathname)\n\n  if (path) {\n    return normalizePagePath(path.route.originalPath)\n  }\n\n  return null\n}\n\n/**\n * Return a matchpath params from reach/router rules\n * if `match-paths.json` contains `{ \":bar/*foo\" }`, and the path is /baz/zaz/zoo\n * then it returns\n *  { bar: baz, foo: zaz/zoo }\n *\n * @param {string} rawPathname A raw pathname\n * @return {object}\n */\nexport const grabMatchParams = rawPathname => {\n  const trimmedPathname = cleanPath(rawPathname)\n\n  const pickPaths = matchPaths.map(({ path, matchPath }) => {\n    return {\n      path: matchPath,\n      originalPath: path,\n    }\n  })\n\n  const path = pick(pickPaths, trimmedPathname)\n\n  if (path) {\n    return path.params\n  }\n\n  return {}\n}\n\n// Given a raw URL path, returns the cleaned version of it (trim off\n// `#` and query params), or if it matches an entry in\n// `match-paths.json`, its matched path is returned\n//\n// E.g. `/foo?bar=far` => `/foo`\n//\n// Or if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n// `/foo?bar=far` => `/page1`\nexport const findPath = rawPathname => {\n  const trimmedPathname = trimPathname(absolutify(rawPathname))\n  if (pathCache.has(trimmedPathname)) {\n    return pathCache.get(trimmedPathname)\n  }\n\n  const redirect = maybeGetBrowserRedirect(rawPathname)\n  if (redirect) {\n    return findPath(redirect.toPath)\n  }\n\n  let foundPath = findMatchPath(trimmedPathname)\n\n  if (!foundPath) {\n    foundPath = cleanPath(rawPathname)\n  }\n\n  pathCache.set(trimmedPathname, foundPath)\n\n  return foundPath\n}\n\n/**\n * Clean a url and converts /index.html => /\n * E.g. `/foo?bar=far` => `/foo`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string}\n */\nexport const cleanPath = rawPathname => {\n  const trimmedPathname = trimPathname(absolutify(rawPathname))\n\n  let foundPath = trimmedPathname\n  if (foundPath === `/index.html`) {\n    foundPath = `/`\n  }\n\n  foundPath = normalizePagePath(foundPath)\n\n  return foundPath\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport { useScrollRestoration } from \"gatsby-react-router-scroll\"\nimport PageRenderer from \"./public-page-renderer\"\nimport loader from \"./loader\"\n\nconst prefetchPathname = loader.enqueue\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n\n  // query is a stringified number like `3303882` when wrapped with graphql, If a user forgets\n  // to wrap the query in a grqphql, then casting it to a Number results in `NaN` allowing us to\n  // catch the misuse of the API and give proper direction\n  if (isNaN(Number(query))) {\n    throw new Error(`useStaticQuery was called with a string but expects to be called using \\`graphql\\`. Try this:\n\nimport { useStaticQuery, graphql } from 'gatsby';\n\nuseStaticQuery(graphql\\`${query}\\`);\n`)\n  }\n\n  if (context[query]?.data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  useScrollRestoration,\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n  prefetchPathname,\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","const support = function (feature) {\n  if (typeof document === `undefined`) {\n    return false\n  }\n  const fakeLink = document.createElement(`link`)\n  try {\n    if (fakeLink.relList && typeof fakeLink.relList.supports === `function`) {\n      return fakeLink.relList.supports(feature)\n    }\n  } catch (err) {\n    return false\n  }\n  return false\n}\n\nconst linkPrefetchStrategy = function (url, options) {\n  return new Promise((resolve, reject) => {\n    if (typeof document === `undefined`) {\n      reject()\n      return\n    }\n\n    const link = document.createElement(`link`)\n    link.setAttribute(`rel`, `prefetch`)\n    link.setAttribute(`href`, url)\n\n    Object.keys(options).forEach(key => {\n      link.setAttribute(key, options[key])\n    })\n\n    link.onload = resolve\n    link.onerror = reject\n\n    const parentElement =\n      document.getElementsByTagName(`head`)[0] ||\n      document.getElementsByName(`script`)[0].parentNode\n    parentElement.appendChild(link)\n  })\n}\n\nconst xhrPrefetchStrategy = function (url) {\n  return new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(`GET`, url, true)\n\n    req.onload = () => {\n      if (req.status === 200) {\n        resolve()\n      } else {\n        reject()\n      }\n    }\n\n    req.send(null)\n  })\n}\n\nconst supportedPrefetchStrategy = support(`prefetch`)\n  ? linkPrefetchStrategy\n  : xhrPrefetchStrategy\n\nconst preFetched = {}\n\nconst prefetch = function (url, options) {\n  return new Promise(resolve => {\n    if (preFetched[url]) {\n      resolve()\n      return\n    }\n\n    supportedPrefetchStrategy(url, options)\n      .then(() => {\n        resolve()\n        preFetched[url] = true\n      })\n      .catch(() => {}) // 404s are logged to the console anyway\n  })\n}\n\nexport default prefetch\n","import prefetchHelper from \"./prefetch\"\nimport emitter from \"./emitter\"\nimport { setMatchPaths, findPath, findMatchPath } from \"./find-path\"\n\n/**\n * Available resource loading statuses\n */\nexport const PageResourceStatus = {\n  /**\n   * At least one of critical resources failed to load\n   */\n  Error: `error`,\n  /**\n   * Resources loaded successfully\n   */\n  Success: `success`,\n}\n\nconst preferDefault = m => (m && m.default) || m\n\nconst stripSurroundingSlashes = s => {\n  s = s[0] === `/` ? s.slice(1) : s\n  s = s.endsWith(`/`) ? s.slice(0, -1) : s\n  return s\n}\n\nconst createPageDataUrl = rawPath => {\n  const [path, maybeSearch] = rawPath.split(`?`)\n  const fixedPath = path === `/` ? `index` : stripSurroundingSlashes(path)\n  return `${__PATH_PREFIX__}/page-data/${fixedPath}/page-data.json${\n    maybeSearch ? `?${maybeSearch}` : ``\n  }`\n}\n\nfunction doFetch(url, method = `GET`) {\n  return new Promise(resolve => {\n    const req = new XMLHttpRequest()\n    req.open(method, url, true)\n    req.onreadystatechange = () => {\n      if (req.readyState == 4) {\n        resolve(req)\n      }\n    }\n    req.send(null)\n  })\n}\n\nconst doesConnectionSupportPrefetch = () => {\n  if (\n    `connection` in navigator &&\n    typeof navigator.connection !== `undefined`\n  ) {\n    if ((navigator.connection.effectiveType || ``).includes(`2g`)) {\n      return false\n    }\n    if (navigator.connection.saveData) {\n      return false\n    }\n  }\n  return true\n}\n\nconst toPageResources = (pageData, component = null) => {\n  const page = {\n    componentChunkName: pageData.componentChunkName,\n    path: pageData.path,\n    webpackCompilationHash: pageData.webpackCompilationHash,\n    matchPath: pageData.matchPath,\n    staticQueryHashes: pageData.staticQueryHashes,\n    getServerDataError: pageData.getServerDataError,\n  }\n\n  return {\n    component,\n    json: pageData.result,\n    page,\n  }\n}\n\nexport class BaseLoader {\n  constructor(loadComponent, matchPaths) {\n    // Map of pagePath -> Page. Where Page is an object with: {\n    //   status: PageResourceStatus.Success || PageResourceStatus.Error,\n    //   payload: PageResources, // undefined if PageResourceStatus.Error\n    // }\n    // PageResources is {\n    //   component,\n    //   json: pageData.result,\n    //   page: {\n    //     componentChunkName,\n    //     path,\n    //     webpackCompilationHash,\n    //     staticQueryHashes\n    //   },\n    //   staticQueryResults\n    // }\n    this.pageDb = new Map()\n    this.inFlightDb = new Map()\n    this.staticQueryDb = {}\n    this.pageDataDb = new Map()\n    this.isPrefetchQueueRunning = false\n    this.prefetchQueued = []\n    this.prefetchTriggered = new Set()\n    this.prefetchCompleted = new Set()\n    this.loadComponent = loadComponent\n    setMatchPaths(matchPaths)\n  }\n\n  inFlightNetworkRequests = new Map()\n\n  memoizedGet(url) {\n    let inFlightPromise = this.inFlightNetworkRequests.get(url)\n\n    if (!inFlightPromise) {\n      inFlightPromise = doFetch(url, `GET`)\n      this.inFlightNetworkRequests.set(url, inFlightPromise)\n    }\n\n    // Prefer duplication with then + catch over .finally to prevent problems in ie11 + firefox\n    return inFlightPromise\n      .then(response => {\n        this.inFlightNetworkRequests.delete(url)\n        return response\n      })\n      .catch(err => {\n        this.inFlightNetworkRequests.delete(url)\n        throw err\n      })\n  }\n\n  setApiRunner(apiRunner) {\n    this.apiRunner = apiRunner\n    this.prefetchDisabled = apiRunner(`disableCorePrefetching`).some(a => a)\n  }\n\n  fetchPageDataJson(loadObj) {\n    const { pagePath, retries = 0 } = loadObj\n    const url = createPageDataUrl(pagePath)\n    return this.memoizedGet(url).then(req => {\n      const { status, responseText } = req\n\n      // Handle 200\n      if (status === 200) {\n        try {\n          const jsonPayload = JSON.parse(responseText)\n          if (jsonPayload.path === undefined) {\n            throw new Error(`not a valid pageData response`)\n          }\n\n          const maybeSearch = pagePath.split(`?`)[1]\n          if (maybeSearch && !jsonPayload.path.includes(maybeSearch)) {\n            jsonPayload.path += `?${maybeSearch}`\n          }\n\n          return Object.assign(loadObj, {\n            status: PageResourceStatus.Success,\n            payload: jsonPayload,\n          })\n        } catch (err) {\n          // continue regardless of error\n        }\n      }\n\n      // Handle 404\n      if (status === 404 || status === 200) {\n        // If the request was for a 404/500 page and it doesn't exist, we're done\n        if (pagePath === `/404.html` || pagePath === `/500.html`) {\n          return Object.assign(loadObj, {\n            status: PageResourceStatus.Error,\n          })\n        }\n\n        // Need some code here to cache the 404 request. In case\n        // multiple loadPageDataJsons result in 404s\n        return this.fetchPageDataJson(\n          Object.assign(loadObj, { pagePath: `/404.html`, notFound: true })\n        )\n      }\n\n      // handle 500 response (Unrecoverable)\n      if (status === 500) {\n        return this.fetchPageDataJson(\n          Object.assign(loadObj, {\n            pagePath: `/500.html`,\n            internalServerError: true,\n          })\n        )\n      }\n\n      // Handle everything else, including status === 0, and 503s. Should retry\n      if (retries < 3) {\n        return this.fetchPageDataJson(\n          Object.assign(loadObj, { retries: retries + 1 })\n        )\n      }\n\n      // Retried 3 times already, result is an error.\n      return Object.assign(loadObj, {\n        status: PageResourceStatus.Error,\n      })\n    })\n  }\n\n  loadPageDataJson(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDataDb.has(pagePath)) {\n      const pageData = this.pageDataDb.get(pagePath)\n      if (process.env.BUILD_STAGE !== `develop` || !pageData.stale) {\n        return Promise.resolve(pageData)\n      }\n    }\n\n    return this.fetchPageDataJson({ pagePath }).then(pageData => {\n      this.pageDataDb.set(pagePath, pageData)\n\n      return pageData\n    })\n  }\n\n  findMatchPath(rawPath) {\n    return findMatchPath(rawPath)\n  }\n\n  // TODO check all uses of this and whether they use undefined for page resources not exist\n  loadPage(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      const page = this.pageDb.get(pagePath)\n      if (process.env.BUILD_STAGE !== `develop` || !page.payload.stale) {\n        if (page.error) {\n          return {\n            error: page.error,\n            status: page.status,\n          }\n        }\n\n        return Promise.resolve(page.payload)\n      }\n    }\n\n    if (this.inFlightDb.has(pagePath)) {\n      return this.inFlightDb.get(pagePath)\n    }\n\n    const inFlightPromise = Promise.all([\n      this.loadAppData(),\n      this.loadPageDataJson(pagePath),\n    ]).then(allData => {\n      const result = allData[1]\n      if (result.status === PageResourceStatus.Error) {\n        return {\n          status: PageResourceStatus.Error,\n        }\n      }\n\n      let pageData = result.payload\n      const { componentChunkName, staticQueryHashes = [] } = pageData\n\n      const finalResult = {}\n\n      const componentChunkPromise = this.loadComponent(componentChunkName).then(\n        component => {\n          finalResult.createdAt = new Date()\n          let pageResources\n          if (!component || component instanceof Error) {\n            finalResult.status = PageResourceStatus.Error\n            finalResult.error = component\n          } else {\n            finalResult.status = PageResourceStatus.Success\n            if (result.notFound === true) {\n              finalResult.notFound = true\n            }\n            pageData = Object.assign(pageData, {\n              webpackCompilationHash: allData[0]\n                ? allData[0].webpackCompilationHash\n                : ``,\n            })\n            pageResources = toPageResources(pageData, component)\n          }\n          // undefined if final result is an error\n          return pageResources\n        }\n      )\n\n      const staticQueryBatchPromise = Promise.all(\n        staticQueryHashes.map(staticQueryHash => {\n          // Check for cache in case this static query result has already been loaded\n          if (this.staticQueryDb[staticQueryHash]) {\n            const jsonPayload = this.staticQueryDb[staticQueryHash]\n            return { staticQueryHash, jsonPayload }\n          }\n\n          return this.memoizedGet(\n            `${__PATH_PREFIX__}/page-data/sq/d/${staticQueryHash}.json`\n          )\n            .then(req => {\n              const jsonPayload = JSON.parse(req.responseText)\n              return { staticQueryHash, jsonPayload }\n            })\n            .catch(() => {\n              throw new Error(\n                `We couldn't load \"${__PATH_PREFIX__}/page-data/sq/d/${staticQueryHash}.json\"`\n              )\n            })\n        })\n      ).then(staticQueryResults => {\n        const staticQueryResultsMap = {}\n\n        staticQueryResults.forEach(({ staticQueryHash, jsonPayload }) => {\n          staticQueryResultsMap[staticQueryHash] = jsonPayload\n          this.staticQueryDb[staticQueryHash] = jsonPayload\n        })\n\n        return staticQueryResultsMap\n      })\n\n      return (\n        Promise.all([componentChunkPromise, staticQueryBatchPromise])\n          .then(([pageResources, staticQueryResults]) => {\n            let payload\n            if (pageResources) {\n              payload = { ...pageResources, staticQueryResults }\n              finalResult.payload = payload\n              emitter.emit(`onPostLoadPageResources`, {\n                page: payload,\n                pageResources: payload,\n              })\n            }\n\n            this.pageDb.set(pagePath, finalResult)\n\n            if (finalResult.error) {\n              return {\n                error: finalResult.error,\n                status: finalResult.status,\n              }\n            }\n\n            return payload\n          })\n          // when static-query fail to load we throw a better error\n          .catch(err => {\n            return {\n              error: err,\n              status: PageResourceStatus.Error,\n            }\n          })\n      )\n    })\n\n    inFlightPromise\n      .then(() => {\n        this.inFlightDb.delete(pagePath)\n      })\n      .catch(error => {\n        this.inFlightDb.delete(pagePath)\n        throw error\n      })\n\n    this.inFlightDb.set(pagePath, inFlightPromise)\n\n    return inFlightPromise\n  }\n\n  // returns undefined if the page does not exists in cache\n  loadPageSync(rawPath, options = {}) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      const pageData = this.pageDb.get(pagePath)\n\n      if (pageData.payload) {\n        return pageData.payload\n      }\n\n      if (options?.withErrorDetails) {\n        return {\n          error: pageData.error,\n          status: pageData.status,\n        }\n      }\n    }\n    return undefined\n  }\n\n  shouldPrefetch(pagePath) {\n    // Skip prefetching if we know user is on slow or constrained connection\n    if (!doesConnectionSupportPrefetch()) {\n      return false\n    }\n\n    // Check if the page exists.\n    if (this.pageDb.has(pagePath)) {\n      return false\n    }\n\n    return true\n  }\n\n  prefetch(pagePath) {\n    if (!this.shouldPrefetch(pagePath)) {\n      return {\n        then: resolve => resolve(false),\n        abort: () => {},\n      }\n    }\n    if (this.prefetchTriggered.has(pagePath)) {\n      return {\n        then: resolve => resolve(true),\n        abort: () => {},\n      }\n    }\n\n    const defer = {\n      resolve: null,\n      reject: null,\n      promise: null,\n    }\n    defer.promise = new Promise((resolve, reject) => {\n      defer.resolve = resolve\n      defer.reject = reject\n    })\n    this.prefetchQueued.push([pagePath, defer])\n    const abortC = new AbortController()\n    abortC.signal.addEventListener(`abort`, () => {\n      const index = this.prefetchQueued.findIndex(([p]) => p === pagePath)\n      // remove from the queue\n      if (index !== -1) {\n        this.prefetchQueued.splice(index, 1)\n      }\n    })\n\n    if (!this.isPrefetchQueueRunning) {\n      this.isPrefetchQueueRunning = true\n      setTimeout(() => {\n        this._processNextPrefetchBatch()\n      }, 3000)\n    }\n\n    return {\n      then: (resolve, reject) => defer.promise.then(resolve, reject),\n      abort: abortC.abort.bind(abortC),\n    }\n  }\n\n  _processNextPrefetchBatch() {\n    const idleCallback = window.requestIdleCallback || (cb => setTimeout(cb, 0))\n\n    idleCallback(() => {\n      const toPrefetch = this.prefetchQueued.splice(0, 4)\n      const prefetches = Promise.all(\n        toPrefetch.map(([pagePath, dPromise]) => {\n          // Tell plugins with custom prefetching logic that they should start\n          // prefetching this path.\n          if (!this.prefetchTriggered.has(pagePath)) {\n            this.apiRunner(`onPrefetchPathname`, { pathname: pagePath })\n            this.prefetchTriggered.add(pagePath)\n          }\n\n          // If a plugin has disabled core prefetching, stop now.\n          if (this.prefetchDisabled) {\n            return dPromise.resolve(false)\n          }\n\n          return this.doPrefetch(findPath(pagePath)).then(() => {\n            if (!this.prefetchCompleted.has(pagePath)) {\n              this.apiRunner(`onPostPrefetchPathname`, { pathname: pagePath })\n              this.prefetchCompleted.add(pagePath)\n            }\n\n            dPromise.resolve(true)\n          })\n        })\n      )\n\n      if (this.prefetchQueued.length) {\n        prefetches.then(() => {\n          setTimeout(() => {\n            this._processNextPrefetchBatch()\n          }, 3000)\n        })\n      } else {\n        this.isPrefetchQueueRunning = false\n      }\n    })\n  }\n\n  doPrefetch(pagePath) {\n    const pageDataUrl = createPageDataUrl(pagePath)\n    return prefetchHelper(pageDataUrl, {\n      crossOrigin: `anonymous`,\n      as: `fetch`,\n    }).then(() =>\n      // This was just prefetched, so will return a response from\n      // the cache instead of making another request to the server\n      this.loadPageDataJson(pagePath)\n    )\n  }\n\n  hovering(rawPath) {\n    this.loadPage(rawPath)\n  }\n\n  getResourceURLsForPathname(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDataDb.get(pagePath)\n    if (page) {\n      const pageResources = toPageResources(page.payload)\n\n      return [\n        ...createComponentUrls(pageResources.page.componentChunkName),\n        createPageDataUrl(pagePath),\n      ]\n    } else {\n      return null\n    }\n  }\n\n  isPageNotFound(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDb.get(pagePath)\n    return !page || page.notFound\n  }\n\n  loadAppData(retries = 0) {\n    return this.memoizedGet(`${__PATH_PREFIX__}/page-data/app-data.json`).then(\n      req => {\n        const { status, responseText } = req\n\n        let appData\n\n        if (status !== 200 && retries < 3) {\n          // Retry 3 times incase of non-200 responses\n          return this.loadAppData(retries + 1)\n        }\n\n        // Handle 200\n        if (status === 200) {\n          try {\n            const jsonPayload = JSON.parse(responseText)\n            if (jsonPayload.webpackCompilationHash === undefined) {\n              throw new Error(`not a valid app-data response`)\n            }\n\n            appData = jsonPayload\n          } catch (err) {\n            // continue regardless of error\n          }\n        }\n\n        return appData\n      }\n    )\n  }\n}\n\nconst createComponentUrls = componentChunkName =>\n  (window.___chunkMapping[componentChunkName] || []).map(\n    chunk => __PATH_PREFIX__ + chunk\n  )\n\nexport class ProdLoader extends BaseLoader {\n  constructor(asyncRequires, matchPaths, pageData) {\n    const loadComponent = chunkName => {\n      if (!asyncRequires.components[chunkName]) {\n        throw new Error(\n          `We couldn't find the correct component chunk with the name ${chunkName}`\n        )\n      }\n\n      return (\n        asyncRequires.components[chunkName]()\n          .then(preferDefault)\n          // loader will handle the case when component is error\n          .catch(err => err)\n      )\n    }\n\n    super(loadComponent, matchPaths)\n\n    if (pageData) {\n      this.pageDataDb.set(findPath(pageData.path), {\n        pagePath: pageData.path,\n        payload: pageData,\n        status: `success`,\n      })\n    }\n  }\n\n  doPrefetch(pagePath) {\n    return super.doPrefetch(pagePath).then(result => {\n      if (result.status !== PageResourceStatus.Success) {\n        return Promise.resolve()\n      }\n      const pageData = result.payload\n      const chunkName = pageData.componentChunkName\n      const componentUrls = createComponentUrls(chunkName)\n      return Promise.all(componentUrls.map(prefetchHelper)).then(() => pageData)\n    })\n  }\n\n  loadPageDataJson(rawPath) {\n    return super.loadPageDataJson(rawPath).then(data => {\n      if (data.notFound) {\n        // check if html file exist using HEAD request:\n        // if it does we should navigate to it instead of showing 404\n        return doFetch(rawPath, `HEAD`).then(req => {\n          if (req.status === 200) {\n            // page (.html file) actually exist (or we asked for 404 )\n            // returning page resources status as errored to trigger\n            // regular browser navigation to given page\n            return {\n              status: PageResourceStatus.Error,\n            }\n          }\n\n          // if HEAD request wasn't 200, return notFound result\n          // and show 404 page\n          return data\n        })\n      }\n      return data\n    })\n  }\n}\n\nlet instance\n\nexport const setLoader = _loader => {\n  instance = _loader\n}\n\nexport const publicLoader = {\n  enqueue: rawPath => instance.prefetch(rawPath),\n\n  // Real methods\n  getResourceURLsForPathname: rawPath =>\n    instance.getResourceURLsForPathname(rawPath),\n  loadPage: rawPath => instance.loadPage(rawPath),\n  // TODO add deprecation to v4 so people use withErrorDetails and then we can remove in v5 and change default behaviour\n  loadPageSync: (rawPath, options = {}) =>\n    instance.loadPageSync(rawPath, options),\n  prefetch: rawPath => instance.prefetch(rawPath),\n  isPageNotFound: rawPath => instance.isPageNotFound(rawPath),\n  hovering: rawPath => instance.hovering(rawPath),\n  loadAppData: () => instance.loadAppData(),\n}\n\nexport default publicLoader\n\nexport function getStaticQueryResults() {\n  if (instance) {\n    return instance.staticQueryDb\n  } else {\n    return {}\n  }\n}\n","import React, { createElement } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport { grabMatchParams } from \"./find-path\"\n\n// Renders page\nclass PageRenderer extends React.Component {\n  render() {\n    const props = {\n      ...this.props,\n      params: {\n        ...grabMatchParams(this.props.location.pathname),\n        ...this.props.pageResources.json.pageContext.__params,\n      },\n    }\n\n    const pageElement = createElement(this.props.pageResources.component, {\n      ...props,\n      key: this.props.path || this.props.pageResources.page.path,\n    })\n\n    const wrappedPage = apiRunner(\n      `wrapPageElement`,\n      { element: pageElement, props },\n      pageElement,\n      ({ result }) => {\n        return { element: result, props }\n      }\n    ).pop()\n\n    return wrappedPage\n  }\n}\n\nPageRenderer.propTypes = {\n  location: PropTypes.object.isRequired,\n  pageResources: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  pageContext: PropTypes.object.isRequired,\n}\n\nexport default PageRenderer\n","// This is extracted to separate module because it's shared\n// between browser and SSR code\nexport const RouteAnnouncerProps = {\n  id: `gatsby-announcer`,\n  style: {\n    position: `absolute`,\n    top: 0,\n    width: 1,\n    height: 1,\n    padding: 0,\n    overflow: `hidden`,\n    clip: `rect(0, 0, 0, 0)`,\n    whiteSpace: `nowrap`,\n    border: 0,\n  },\n  \"aria-live\": `assertive`,\n  \"aria-atomic\": `true`,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport loader, { PageResourceStatus } from \"./loader\"\nimport { maybeGetBrowserRedirect } from \"./redirect-utils.js\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport emitter from \"./emitter\"\nimport { RouteAnnouncerProps } from \"./route-announcer-props\"\nimport { navigate as reachNavigate } from \"@gatsbyjs/reach-router\"\nimport { globalHistory } from \"@gatsbyjs/reach-router/lib/history\"\nimport { parsePath } from \"gatsby-link\"\n\nfunction maybeRedirect(pathname) {\n  const redirect = maybeGetBrowserRedirect(pathname)\n  const { hash, search } = window.location\n\n  if (redirect != null) {\n    window.___replace(redirect.toPath + search + hash)\n    return true\n  } else {\n    return false\n  }\n}\n\n// Catch unhandled chunk loading errors and force a restart of the app.\nlet nextRoute = ``\n\nwindow.addEventListener(`unhandledrejection`, event => {\n  if (/loading chunk \\d* failed./i.test(event.reason)) {\n    if (nextRoute) {\n      window.location.pathname = nextRoute\n    }\n  }\n})\n\nconst onPreRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    nextRoute = location.pathname\n    apiRunner(`onPreRouteUpdate`, { location, prevLocation })\n  }\n}\n\nconst onRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    apiRunner(`onRouteUpdate`, { location, prevLocation })\n    if (\n      process.env.GATSBY_EXPERIMENTAL_QUERY_ON_DEMAND &&\n      process.env.GATSBY_QUERY_ON_DEMAND_LOADING_INDICATOR === `true`\n    ) {\n      emitter.emit(`onRouteUpdate`, { location, prevLocation })\n    }\n  }\n}\n\nconst navigate = (to, options = {}) => {\n  // Support forward/backward navigation with numbers\n  // navigate(-2) (jumps back 2 history steps)\n  // navigate(2)  (jumps forward 2 history steps)\n  if (typeof to === `number`) {\n    globalHistory.navigate(to)\n    return\n  }\n\n  const { pathname, search, hash } = parsePath(to)\n  const redirect = maybeGetBrowserRedirect(pathname)\n\n  // If we're redirecting, just replace the passed in pathname\n  // to the one we want to redirect to.\n  if (redirect) {\n    to = redirect.toPath + search + hash\n  }\n\n  // If we had a service worker update, no matter the path, reload window and\n  // reset the pathname whitelist\n  if (window.___swUpdated) {\n    window.location = pathname + search + hash\n    return\n  }\n\n  // Start a timer to wait for a second before transitioning and showing a\n  // loader in case resources aren't around yet.\n  const timeoutId = setTimeout(() => {\n    emitter.emit(`onDelayedLoadPageResources`, { pathname })\n    apiRunner(`onRouteUpdateDelayed`, {\n      location: window.location,\n    })\n  }, 1000)\n\n  loader.loadPage(pathname + search).then(pageResources => {\n    // If no page resources, then refresh the page\n    // Do this, rather than simply `window.location.reload()`, so that\n    // pressing the back/forward buttons work - otherwise when pressing\n    // back, the browser will just change the URL and expect JS to handle\n    // the change, which won't always work since it might not be a Gatsby\n    // page.\n    if (!pageResources || pageResources.status === PageResourceStatus.Error) {\n      window.history.replaceState({}, ``, location.href)\n      window.location = pathname\n      clearTimeout(timeoutId)\n      return\n    }\n\n    // If the loaded page has a different compilation hash to the\n    // window, then a rebuild has occurred on the server. Reload.\n    if (process.env.NODE_ENV === `production` && pageResources) {\n      if (\n        pageResources.page.webpackCompilationHash !==\n        window.___webpackCompilationHash\n      ) {\n        // Purge plugin-offline cache\n        if (\n          `serviceWorker` in navigator &&\n          navigator.serviceWorker.controller !== null &&\n          navigator.serviceWorker.controller.state === `activated`\n        ) {\n          navigator.serviceWorker.controller.postMessage({\n            gatsbyApi: `clearPathResources`,\n          })\n        }\n\n        window.location = pathname + search + hash\n      }\n    }\n    reachNavigate(to, options)\n    clearTimeout(timeoutId)\n  })\n}\n\nfunction shouldUpdateScroll(prevRouterProps, { location }) {\n  const { pathname, hash } = location\n  const results = apiRunner(`shouldUpdateScroll`, {\n    prevRouterProps,\n    // `pathname` for backwards compatibility\n    pathname,\n    routerProps: { location },\n    getSavedScrollPosition: args => [\n      0,\n      // FIXME this is actually a big code smell, we should fix this\n      // eslint-disable-next-line @babel/no-invalid-this\n      this._stateStorage.read(args, args.key),\n    ],\n  })\n  if (results.length > 0) {\n    // Use the latest registered shouldUpdateScroll result, this allows users to override plugin's configuration\n    // @see https://github.com/gatsbyjs/gatsby/issues/12038\n    return results[results.length - 1]\n  }\n\n  if (prevRouterProps) {\n    const {\n      location: { pathname: oldPathname },\n    } = prevRouterProps\n    if (oldPathname === pathname) {\n      // Scroll to element if it exists, if it doesn't, or no hash is provided,\n      // scroll to top.\n      return hash ? decodeURI(hash.slice(1)) : [0, 0]\n    }\n  }\n  return true\n}\n\nfunction init() {\n  // The \"scroll-behavior\" package expects the \"action\" to be on the location\n  // object so let's copy it over.\n  globalHistory.listen(args => {\n    args.location.action = args.action\n  })\n\n  window.___push = to => navigate(to, { replace: false })\n  window.___replace = to => navigate(to, { replace: true })\n  window.___navigate = (to, options) => navigate(to, options)\n}\n\nclass RouteAnnouncer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.announcementRef = React.createRef()\n  }\n\n  componentDidUpdate(prevProps, nextProps) {\n    requestAnimationFrame(() => {\n      let pageName = `new page at ${this.props.location.pathname}`\n      if (document.title) {\n        pageName = document.title\n      }\n      const pageHeadings = document.querySelectorAll(`#gatsby-focus-wrapper h1`)\n      if (pageHeadings && pageHeadings.length) {\n        pageName = pageHeadings[0].textContent\n      }\n      const newAnnouncement = `Navigated to ${pageName}`\n      if (this.announcementRef.current) {\n        const oldAnnouncement = this.announcementRef.current.innerText\n        if (oldAnnouncement !== newAnnouncement) {\n          this.announcementRef.current.innerText = newAnnouncement\n        }\n      }\n    })\n  }\n\n  render() {\n    return <div {...RouteAnnouncerProps} ref={this.announcementRef}></div>\n  }\n}\n\nconst compareLocationProps = (prevLocation, nextLocation) => {\n  if (prevLocation.href !== nextLocation.href) {\n    return true\n  }\n\n  if (prevLocation?.state?.key !== nextLocation?.state?.key) {\n    return true\n  }\n\n  return false\n}\n\n// Fire on(Pre)RouteUpdate APIs\nclass RouteUpdates extends React.Component {\n  constructor(props) {\n    super(props)\n    onPreRouteUpdate(props.location, null)\n  }\n\n  componentDidMount() {\n    onRouteUpdate(this.props.location, null)\n  }\n\n  shouldComponentUpdate(prevProps) {\n    if (compareLocationProps(prevProps.location, this.props.location)) {\n      onPreRouteUpdate(this.props.location, prevProps.location)\n      return true\n    }\n    return false\n  }\n\n  componentDidUpdate(prevProps) {\n    if (compareLocationProps(prevProps.location, this.props.location)) {\n      onRouteUpdate(this.props.location, prevProps.location)\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        <RouteAnnouncer location={location} />\n      </React.Fragment>\n    )\n  }\n}\n\nRouteUpdates.propTypes = {\n  location: PropTypes.object.isRequired,\n}\n\nexport { init, shouldUpdateScroll, RouteUpdates, maybeGetBrowserRedirect }\n","// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(a, b) {\n  for (var i in a) {\n    if (!(i in b)) return true;\n  }for (var _i in b) {\n    if (a[_i] !== b[_i]) return true;\n  }return false;\n}\n\nexport default (function (instance, nextProps, nextState) {\n  return shallowDiffers(instance.props, nextProps) || shallowDiffers(instance.state, nextState);\n});","import React from \"react\"\nimport loader, { PageResourceStatus } from \"./loader\"\nimport shallowCompare from \"shallow-compare\"\n\nclass EnsureResources extends React.Component {\n  constructor(props) {\n    super()\n    const { location, pageResources } = props\n    this.state = {\n      location: { ...location },\n      pageResources:\n        pageResources ||\n        loader.loadPageSync(location.pathname + location.search, {\n          withErrorDetails: true,\n        }),\n    }\n  }\n\n  static getDerivedStateFromProps({ location }, prevState) {\n    if (prevState.location.href !== location.href) {\n      const pageResources = loader.loadPageSync(\n        location.pathname + location.search,\n        {\n          withErrorDetails: true,\n        }\n      )\n\n      return {\n        pageResources,\n        location: { ...location },\n      }\n    }\n\n    return {\n      location: { ...location },\n    }\n  }\n\n  loadResources(rawPath) {\n    loader.loadPage(rawPath).then(pageResources => {\n      if (pageResources && pageResources.status !== PageResourceStatus.Error) {\n        this.setState({\n          location: { ...window.location },\n          pageResources,\n        })\n      } else {\n        window.history.replaceState({}, ``, location.href)\n        window.location = rawPath\n      }\n    })\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Always return false if we're missing resources.\n    if (!nextState.pageResources) {\n      this.loadResources(\n        nextProps.location.pathname + nextProps.location.search\n      )\n      return false\n    }\n\n    if (\n      process.env.BUILD_STAGE === `develop` &&\n      nextState.pageResources.stale\n    ) {\n      this.loadResources(\n        nextProps.location.pathname + nextProps.location.search\n      )\n      return false\n    }\n\n    // Check if the component or json have changed.\n    if (this.state.pageResources !== nextState.pageResources) {\n      return true\n    }\n    if (\n      this.state.pageResources.component !== nextState.pageResources.component\n    ) {\n      return true\n    }\n\n    if (this.state.pageResources.json !== nextState.pageResources.json) {\n      return true\n    }\n    // Check if location has changed on a page using internal routing\n    // via matchPath configuration.\n    if (\n      this.state.location.key !== nextState.location.key &&\n      nextState.pageResources.page &&\n      (nextState.pageResources.page.matchPath ||\n        nextState.pageResources.page.path)\n    ) {\n      return true\n    }\n    return shallowCompare(this, nextProps, nextState)\n  }\n\n  render() {\n    if (\n      process.env.NODE_ENV !== `production` &&\n      (!this.state.pageResources ||\n        this.state.pageResources.status === PageResourceStatus.Error)\n    ) {\n      const message = `EnsureResources was not able to find resources for path: \"${this.props.location.pathname}\"\nThis typically means that an issue occurred building components for that path.\nRun \\`gatsby clean\\` to remove any cached elements.`\n      if (this.state.pageResources?.error) {\n        console.error(message)\n        throw this.state.pageResources.error\n      }\n\n      throw new Error(message)\n    }\n\n    return this.props.children(this.state)\n  }\n}\n\nexport default EnsureResources\n","import { apiRunner, apiRunnerAsync } from \"./api-runner-browser\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Router, navigate, Location, BaseContext } from \"@gatsbyjs/reach-router\"\nimport { ScrollContext } from \"gatsby-react-router-scroll\"\nimport { StaticQueryContext } from \"gatsby\"\nimport {\n  shouldUpdateScroll,\n  init as navigationInit,\n  RouteUpdates,\n} from \"./navigation\"\nimport emitter from \"./emitter\"\nimport PageRenderer from \"./page-renderer\"\nimport asyncRequires from \"$virtual/async-requires\"\nimport {\n  setLoader,\n  ProdLoader,\n  publicLoader,\n  PageResourceStatus,\n  getStaticQueryResults,\n} from \"./loader\"\nimport EnsureResources from \"./ensure-resources\"\nimport stripPrefix from \"./strip-prefix\"\n\n// Generated during bootstrap\nimport matchPaths from \"$virtual/match-paths.json\"\n\nconst loader = new ProdLoader(asyncRequires, matchPaths, window.pageData)\nsetLoader(loader)\nloader.setApiRunner(apiRunner)\n\nwindow.asyncRequires = asyncRequires\nwindow.___emitter = emitter\nwindow.___loader = publicLoader\n\nnavigationInit()\n\nconst reloadStorageKey = `gatsby-reload-compilation-hash-match`\n\napiRunnerAsync(`onClientEntry`).then(() => {\n  // Let plugins register a service worker. The plugin just needs\n  // to return true.\n  if (apiRunner(`registerServiceWorker`).filter(Boolean).length > 0) {\n    require(`./register-service-worker`)\n  }\n\n  // In gatsby v2 if Router is used in page using matchPaths\n  // paths need to contain full path.\n  // For example:\n  //   - page have `/app/*` matchPath\n  //   - inside template user needs to use `/app/xyz` as path\n  // Resetting `basepath`/`baseuri` keeps current behaviour\n  // to not introduce breaking change.\n  // Remove this in v3\n  const RouteHandler = props => (\n    <BaseContext.Provider\n      value={{\n        baseuri: `/`,\n        basepath: `/`,\n      }}\n    >\n      <PageRenderer {...props} />\n    </BaseContext.Provider>\n  )\n\n  const DataContext = React.createContext({})\n\n  class GatsbyRoot extends React.Component {\n    render() {\n      const { children } = this.props\n      return (\n        <Location>\n          {({ location }) => (\n            <EnsureResources location={location}>\n              {({ pageResources, location }) => {\n                const staticQueryResults = getStaticQueryResults()\n                return (\n                  <StaticQueryContext.Provider value={staticQueryResults}>\n                    <DataContext.Provider value={{ pageResources, location }}>\n                      {children}\n                    </DataContext.Provider>\n                  </StaticQueryContext.Provider>\n                )\n              }}\n            </EnsureResources>\n          )}\n        </Location>\n      )\n    }\n  }\n\n  class LocationHandler extends React.Component {\n    render() {\n      return (\n        <DataContext.Consumer>\n          {({ pageResources, location }) => (\n            <RouteUpdates location={location}>\n              <ScrollContext\n                location={location}\n                shouldUpdateScroll={shouldUpdateScroll}\n              >\n                <Router\n                  basepath={__BASE_PATH__}\n                  location={location}\n                  id=\"gatsby-focus-wrapper\"\n                >\n                  <RouteHandler\n                    path={\n                      pageResources.page.path === `/404.html` ||\n                      pageResources.page.path === `/500.html`\n                        ? stripPrefix(location.pathname, __BASE_PATH__)\n                        : encodeURI(\n                            (\n                              pageResources.page.matchPath ||\n                              pageResources.page.path\n                            ).split(`?`)[0]\n                          )\n                    }\n                    {...this.props}\n                    location={location}\n                    pageResources={pageResources}\n                    {...pageResources.json}\n                  />\n                </Router>\n              </ScrollContext>\n            </RouteUpdates>\n          )}\n        </DataContext.Consumer>\n      )\n    }\n  }\n\n  const { pagePath, location: browserLoc } = window\n\n  // Explicitly call navigate if the canonical path (window.pagePath)\n  // is different to the browser path (window.location.pathname). SSR\n  // page paths might include search params, while SSG and DSG won't.\n  // If page path include search params we also compare query params.\n  // But only if NONE of the following conditions hold:\n  //\n  // - The url matches a client side route (page.matchPath)\n  // - it's a 404 page\n  // - it's the offline plugin shell (/offline-plugin-app-shell-fallback/)\n  if (\n    pagePath &&\n    __BASE_PATH__ + pagePath !==\n      browserLoc.pathname + (pagePath.includes(`?`) ? browserLoc.search : ``) &&\n    !(\n      loader.findMatchPath(stripPrefix(browserLoc.pathname, __BASE_PATH__)) ||\n      pagePath.match(/^\\/(404|500)(\\/?|.html)$/) ||\n      pagePath.match(/^\\/offline-plugin-app-shell-fallback\\/?$/)\n    )\n  ) {\n    navigate(\n      __BASE_PATH__ +\n        pagePath +\n        (!pagePath.includes(`?`) ? browserLoc.search : ``) +\n        browserLoc.hash,\n      {\n        replace: true,\n      }\n    )\n  }\n\n  // It's possible that sessionStorage can throw an exception if access is not granted, see https://github.com/gatsbyjs/gatsby/issues/34512\n  const getSessionStorage = () => {\n    try {\n      return sessionStorage\n    } catch {\n      return null\n    }\n  }\n\n  publicLoader.loadPage(browserLoc.pathname + browserLoc.search).then(page => {\n    const sessionStorage = getSessionStorage()\n\n    if (\n      page?.page?.webpackCompilationHash &&\n      page.page.webpackCompilationHash !== window.___webpackCompilationHash\n    ) {\n      // Purge plugin-offline cache\n      if (\n        `serviceWorker` in navigator &&\n        navigator.serviceWorker.controller !== null &&\n        navigator.serviceWorker.controller.state === `activated`\n      ) {\n        navigator.serviceWorker.controller.postMessage({\n          gatsbyApi: `clearPathResources`,\n        })\n      }\n\n      // We have not matching html + js (inlined `window.___webpackCompilationHash`)\n      // with our data (coming from `app-data.json` file). This can cause issues such as\n      // errors trying to load static queries (as list of static queries is inside `page-data`\n      // which might not match to currently loaded `.js` scripts).\n      // We are making attempt to reload if hashes don't match, but we also have to handle case\n      // when reload doesn't fix it (possibly broken deploy) so we don't end up in infinite reload loop\n      if (sessionStorage) {\n        const isReloaded = sessionStorage.getItem(reloadStorageKey) === `1`\n\n        if (!isReloaded) {\n          sessionStorage.setItem(reloadStorageKey, `1`)\n          window.location.reload(true)\n          return\n        }\n      }\n    }\n\n    if (sessionStorage) {\n      sessionStorage.removeItem(reloadStorageKey)\n    }\n\n    if (!page || page.status === PageResourceStatus.Error) {\n      const message = `page resources for ${browserLoc.pathname} not found. Not rendering React`\n\n      // if the chunk throws an error we want to capture the real error\n      // This should help with https://github.com/gatsbyjs/gatsby/issues/19618\n      if (page && page.error) {\n        console.error(message)\n        throw page.error\n      }\n\n      throw new Error(message)\n    }\n\n    const SiteRoot = apiRunner(\n      `wrapRootElement`,\n      { element: <LocationHandler /> },\n      <LocationHandler />,\n      ({ result }) => {\n        return { element: result }\n      }\n    ).pop()\n\n    const App = function App() {\n      const onClientEntryRanRef = React.useRef(false)\n\n      React.useEffect(() => {\n        if (!onClientEntryRanRef.current) {\n          onClientEntryRanRef.current = true\n          if (performance.mark) {\n            performance.mark(`onInitialClientRender`)\n          }\n\n          apiRunner(`onInitialClientRender`)\n        }\n      }, [])\n\n      return <GatsbyRoot>{SiteRoot}</GatsbyRoot>\n    }\n\n    const renderer = apiRunner(\n      `replaceHydrateFunction`,\n      undefined,\n      ReactDOM.hydrateRoot ? ReactDOM.hydrateRoot : ReactDOM.hydrate\n    )[0]\n\n    function runRender() {\n      const rootElement =\n        typeof window !== `undefined`\n          ? document.getElementById(`___gatsby`)\n          : null\n\n      if (renderer === ReactDOM.hydrateRoot) {\n        renderer(rootElement, <App />)\n      } else {\n        renderer(<App />, rootElement)\n      }\n    }\n\n    // https://github.com/madrobby/zepto/blob/b5ed8d607f67724788ec9ff492be297f64d47dfc/src/zepto.js#L439-L450\n    // TODO remove IE 10 support\n    const doc = document\n    if (\n      doc.readyState === `complete` ||\n      (doc.readyState !== `loading` && !doc.documentElement.doScroll)\n    ) {\n      setTimeout(function () {\n        runRender()\n      }, 0)\n    } else {\n      const handler = function () {\n        doc.removeEventListener(`DOMContentLoaded`, handler, false)\n        window.removeEventListener(`load`, handler, false)\n\n        runRender()\n      }\n\n      doc.addEventListener(`DOMContentLoaded`, handler, false)\n      window.addEventListener(`load`, handler, false)\n    }\n  })\n})\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport loader from \"./loader\"\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.loadPageSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","exports.polyfill = Component => Component\n","import redirects from \"./redirects.json\"\n\n// Convert to a map for faster lookup in maybeRedirect()\n\nconst redirectMap = new Map()\nconst redirectIgnoreCaseMap = new Map()\n\nredirects.forEach(redirect => {\n  if (redirect.ignoreCase) {\n    redirectIgnoreCaseMap.set(redirect.fromPath, redirect)\n  } else {\n    redirectMap.set(redirect.fromPath, redirect)\n  }\n})\n\nexport function maybeGetBrowserRedirect(pathname) {\n  let redirect = redirectMap.get(pathname)\n  if (!redirect) {\n    redirect = redirectIgnoreCaseMap.get(pathname.toLowerCase())\n  }\n  return redirect\n}\n","import { apiRunner } from \"./api-runner-browser\"\n\nif (\n  window.location.protocol !== `https:` &&\n  window.location.hostname !== `localhost`\n) {\n  console.error(\n    `Service workers can only be used over HTTPS, or on localhost for development`\n  )\n} else if (`serviceWorker` in navigator) {\n  navigator.serviceWorker\n    .register(`${__BASE_PATH__}/sw.js`)\n    .then(function (reg) {\n      reg.addEventListener(`updatefound`, () => {\n        apiRunner(`onServiceWorkerUpdateFound`, { serviceWorker: reg })\n        // The updatefound event implies that reg.installing is set; see\n        // https://w3c.github.io/ServiceWorker/#service-worker-registration-updatefound-event\n        const installingWorker = reg.installing\n        console.log(`installingWorker`, installingWorker)\n        installingWorker.addEventListener(`statechange`, () => {\n          switch (installingWorker.state) {\n            case `installed`:\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and the fresh content will\n                // have been added to the cache.\n\n                // We set a flag so Gatsby Link knows to refresh the page on next navigation attempt\n                window.___swUpdated = true\n                // We call the onServiceWorkerUpdateReady API so users can show update prompts.\n                apiRunner(`onServiceWorkerUpdateReady`, { serviceWorker: reg })\n\n                // If resources failed for the current page, reload.\n                if (window.___failedResources) {\n                  console.log(`resources failed, SW updated - reloading`)\n                  window.location.reload()\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a \"Content is cached for offline use.\" message.\n                console.log(`Content is now available offline!`)\n\n                // Post to service worker that install is complete.\n                // Delay to allow time for the event listener to be added --\n                // otherwise fetch is called too soon and resources aren't cached.\n                apiRunner(`onServiceWorkerInstalled`, { serviceWorker: reg })\n              }\n              break\n\n            case `redundant`:\n              console.error(`The installing service worker became redundant.`)\n              apiRunner(`onServiceWorkerRedundant`, { serviceWorker: reg })\n              break\n\n            case `activated`:\n              apiRunner(`onServiceWorkerActive`, { serviceWorker: reg })\n              break\n          }\n        })\n      })\n    })\n    .catch(function (e) {\n      console.error(`Error during service worker registration:`, e)\n    })\n}\n","/**\n * Remove a prefix from a string. Return the input string if the given prefix\n * isn't found.\n */\n\nexport default function stripPrefix(str, prefix = ``) {\n  if (!prefix) {\n    return str\n  }\n\n  if (str === prefix) {\n    return `/`\n  }\n\n  if (str.startsWith(`${prefix}/`)) {\n    return str.slice(prefix.length)\n  }\n\n  return str\n}\n","const datafile = {\n  \"accountId\": \"12345\",\n  \"anonymizeIP\": false,\n  \"botFiltering\": false,\n  \"projectId\": \"23456\",\n  \"revision\": \"6\",\n  \"version\": \"4\",\n  \"experiments\": [\n      {\n          \"key\": \"my_experiment\",\n          \"id\": \"45678\",\n          \"layerId\": \"34567\",\n          \"status\": \"Running\",\n          \"variations\": [\n              {\n                  \"id\": \"56789\",\n                  \"key\": \"control\",\n                  \"variables\": []\n              },\n              {\n                  \"id\": \"67890\",\n                  \"key\": \"treatment\",\n                  \"variables\": []\n              }\n          ],\n          \"trafficAllocation\": [\n              {\n                  \"entityId\": \"56789\",\n                  \"endOfRange\": 5000\n              },\n              {\n                  \"entityId\": \"67890\",\n                  \"endOfRange\": 10000\n              }\n          ],\n          \"audienceIds\": [],\n          \"forcedVariations\": {}\n      }\n  ],\n  \"featureFlags\": [\n      {\n          \"experimentIds\": [],\n          \"id\": \"56789\",\n          \"key\": \"price_filter\",\n          \"rolloutId\": \"67890\",\n          \"variables\": [\n              {\n                  \"defaultValue\": \"100\",\n                  \"id\": \"12345\",\n                  \"key\": \"min_price\",\n                  \"type\": \"integer\"\n              }\n          ]\n      }\n  ],\n  \"events\": [\n      {\n          \"experimentIds\": [\n              \"34567\"\n          ],\n          \"id\": \"56789\",\n          \"key\": \"my_conversion\"\n      }\n  ],\n  \"audiences\": [],\n  \"attributes\": [],\n  \"groups\": [],\n  \"rollouts\": [\n      {\n          \"experiments\": [\n              {\n                  \"audienceIds\": [],\n                  \"forcedVariations\": {},\n                  \"id\": \"23456\",\n                  \"key\": \"23456\",\n                  \"layerId\": \"34567\",\n                  \"status\": \"Running\",\n                  \"trafficAllocation\": [\n                      {\n                          \"endOfRange\": 5000,\n                          \"entityId\": \"45678\"\n                      }\n                  ],\n                  \"variations\": [\n                      {\n                          \"featureEnabled\": true,\n                          \"id\": \"56789\",\n                          \"key\": \"56789\",\n                          \"variables\": [\n                              {\n                                  \"id\": \"67890\",\n                                  \"value\": \"100\"\n                              }\n                          ]\n                      }\n                  ]\n              }\n          ],\n          \"id\": \"78901\"\n      }\n  ],\n  \"variables\": []\n}\n\nexport default datafile\n","import { createInstance, OptimizelyProvider } from '@optimizely/react-sdk'\nimport React from 'react'\nimport datafile from './mockDatafile'\n\nconst fetchUser = Promise.resolve({ id: '123' })\n\nconst PageWrapper = ({ element }) => {\n  const optimizely = createInstance({ datafile })\n\n  return (\n    <OptimizelyProvider\n      optimizely={optimizely}\n      user={fetchUser}>\n        {element}\n    </OptimizelyProvider>\n  )\n}\n\nexport default PageWrapper\n","import PageWrapper from './src/pageWrapper'\n\nexport const wrapPageElement = PageWrapper\n","import invariant from \"invariant\"; ////////////////////////////////////////////////////////////////////////////////\n// startsWith(string, search) - Check if `string` starts with `search`\n\nvar startsWith = function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n}; ////////////////////////////////////////////////////////////////////////////////\n// pick(routes, uri)\n//\n// Ranks and picks the best route to match. Each segment gets the highest\n// amount of points, then the type of segment gets an additional amount of\n// points where\n//\n//     static > dynamic > splat > root\n//\n// This way we don't have to worry about the order of our routes, let the\n// computers do it.\n//\n// A route looks like this\n//\n//     { path, default, value }\n//\n// And a returned match looks like:\n//\n//     { route, params, uri }\n//\n// I know, I should use TypeScript not comments for these types.\n\n\nvar pick = function pick(routes, uri) {\n  var match = void 0;\n  var default_ = void 0;\n\n  var _uri$split = uri.split(\"?\"),\n      uriPathname = _uri$split[0];\n\n  var uriSegments = segmentize(uriPathname);\n  var isRootUri = uriSegments[0] === \"\";\n  var ranked = rankRoutes(routes);\n\n  for (var i = 0, l = ranked.length; i < l; i++) {\n    var missed = false;\n    var route = ranked[i].route;\n\n    if (route.default) {\n      default_ = {\n        route: route,\n        params: {},\n        uri: uri\n      };\n      continue;\n    }\n\n    var routeSegments = segmentize(route.path);\n    var params = {};\n    var max = Math.max(uriSegments.length, routeSegments.length);\n    var index = 0;\n\n    for (; index < max; index++) {\n      var routeSegment = routeSegments[index];\n      var uriSegment = uriSegments[index];\n\n      if (isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/*\n        var param = routeSegment.slice(1) || \"*\";\n        params[param] = uriSegments.slice(index).map(decodeURIComponent).join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      var dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        var matchIsNotReserved = reservedNames.indexOf(dynamicMatch[1]) === -1;\n        !matchIsNotReserved ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router> dynamic segment \\\"\" + dynamicMatch[1] + \"\\\" is a reserved name. Please use a different name in path \\\"\" + route.path + \"\\\".\") : invariant(false) : void 0;\n        var value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route: route,\n        params: params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n}; ////////////////////////////////////////////////////////////////////////////////\n// match(path, uri) - Matches just one path to a uri, also lol\n\n\nvar match = function match(path, uri) {\n  return pick([{\n    path: path\n  }], uri);\n}; ////////////////////////////////////////////////////////////////////////////////\n// resolve(to, basepath)\n//\n// Resolves URIs as though every path is a directory, no files.  Relative URIs\n// in the browser can feel awkward because not only can you be \"in a directory\"\n// you can be \"at a file\", too. For example\n//\n//     browserSpecResolve('foo', '/bar/') => /bar/foo\n//     browserSpecResolve('foo', '/bar') => /foo\n//\n// But on the command line of a file system, it's not as complicated, you can't\n// `cd` from a file, only directories.  This way, links have to know less about\n// their current path. To go deeper you can do this:\n//\n//     <Link to=\"deeper\"/>\n//     // instead of\n//     <Link to=`{${props.uri}/deeper}`/>\n//\n// Just like `cd`, if you want to go deeper from the command line, you do this:\n//\n//     cd deeper\n//     # not\n//     cd $(pwd)/deeper\n//\n// By treating every path as a directory, linking to relative paths should\n// require less contextual information and (fingers crossed) be more intuitive.\n\n\nvar resolve = function resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  var _to$split = to.split(\"?\"),\n      toPathname = _to$split[0],\n      toQuery = _to$split[1];\n\n  var _base$split = base.split(\"?\"),\n      basePathname = _base$split[0];\n\n  var toSegments = segmentize(toPathname);\n  var baseSegments = segmentize(basePathname); // ?a=b, /users?b=c => /users?a=b\n\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  } // profile, /users/789 => /users/789/profile\n\n\n  if (!startsWith(toSegments[0], \".\")) {\n    var pathname = baseSegments.concat(toSegments).join(\"/\");\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  } // ./         /users/123  =>  /users/123\n  // ../        /users/123  =>  /users\n  // ../..      /users/123  =>  /\n  // ../../one  /a/b/c/d    =>  /a/b/one\n  // .././one   /a/b/c/d    =>  /a/b/c/one\n\n\n  var allSegments = baseSegments.concat(toSegments);\n  var segments = [];\n\n  for (var i = 0, l = allSegments.length; i < l; i++) {\n    var segment = allSegments[i];\n    if (segment === \"..\") segments.pop();else if (segment !== \".\") segments.push(segment);\n  }\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n}; ////////////////////////////////////////////////////////////////////////////////\n// insertParams(path, params)\n\n\nvar insertParams = function insertParams(path, params) {\n  var _path$split = path.split(\"?\"),\n      pathBase = _path$split[0],\n      _path$split$ = _path$split[1],\n      query = _path$split$ === undefined ? \"\" : _path$split$;\n\n  var segments = segmentize(pathBase);\n  var constructedPath = \"/\" + segments.map(function (segment) {\n    var match = paramRe.exec(segment);\n    return match ? params[match[1]] : segment;\n  }).join(\"/\");\n  var _params$location = params.location;\n  _params$location = _params$location === undefined ? {} : _params$location;\n  var _params$location$sear = _params$location.search,\n      search = _params$location$sear === undefined ? \"\" : _params$location$sear;\n  var searchSplit = search.split(\"?\")[1] || \"\";\n  constructedPath = addQuery(constructedPath, query, searchSplit);\n  return constructedPath;\n};\n\nvar validateRedirect = function validateRedirect(from, to) {\n  var filter = function filter(segment) {\n    return isDynamic(segment);\n  };\n\n  var fromString = segmentize(from).filter(filter).sort().join(\"/\");\n  var toString = segmentize(to).filter(filter).sort().join(\"/\");\n  return fromString === toString;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Junk\n\n\nvar paramRe = /^:(.+)/;\nvar SEGMENT_POINTS = 4;\nvar STATIC_POINTS = 3;\nvar DYNAMIC_POINTS = 2;\nvar SPLAT_PENALTY = 1;\nvar ROOT_POINTS = 1;\n\nvar isRootSegment = function isRootSegment(segment) {\n  return segment === \"\";\n};\n\nvar isDynamic = function isDynamic(segment) {\n  return paramRe.test(segment);\n};\n\nvar isSplat = function isSplat(segment) {\n  return segment && segment[0] === \"*\";\n};\n\nvar rankRoute = function rankRoute(route, index) {\n  var score = route.default ? 0 : segmentize(route.path).reduce(function (score, segment) {\n    score += SEGMENT_POINTS;\n    if (isRootSegment(segment)) score += ROOT_POINTS;else if (isDynamic(segment)) score += DYNAMIC_POINTS;else if (isSplat(segment)) score -= SEGMENT_POINTS + SPLAT_PENALTY;else score += STATIC_POINTS;\n    return score;\n  }, 0);\n  return {\n    route: route,\n    score: score,\n    index: index\n  };\n};\n\nvar rankRoutes = function rankRoutes(routes) {\n  return routes.map(rankRoute).sort(function (a, b) {\n    return a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index;\n  });\n};\n\nvar segmentize = function segmentize(uri) {\n  return uri // strip starting/ending slashes\n  .replace(/(^\\/+|\\/+$)/g, \"\").split(\"/\");\n};\n\nvar addQuery = function addQuery(pathname) {\n  for (var _len = arguments.length, query = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    query[_key - 1] = arguments[_key];\n  }\n\n  query = query.filter(function (q) {\n    return q && q.length > 0;\n  });\n  return pathname + (query && query.length > 0 ? \"?\" + query.join(\"&\") : \"\");\n};\n\nvar reservedNames = [\"uri\", \"path\"];\n/**\n * Shallow compares two objects.\n * @param {Object} obj1 The first object to compare.\n * @param {Object} obj2 The second object to compare.\n */\n\nvar shallowCompare = function shallowCompare(obj1, obj2) {\n  var obj1Keys = Object.keys(obj1);\n  return obj1Keys.length === Object.keys(obj2).length && obj1Keys.every(function (key) {\n    return obj2.hasOwnProperty(key) && obj1[key] === obj2[key];\n  });\n}; ////////////////////////////////////////////////////////////////////////////////\n\n\nexport { startsWith, pick, match, resolve, insertParams, validateRedirect, shallowCompare };","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar getLocation = function getLocation(source) {\n  var _source$location = source.location,\n      search = _source$location.search,\n      hash = _source$location.hash,\n      href = _source$location.href,\n      origin = _source$location.origin,\n      protocol = _source$location.protocol,\n      host = _source$location.host,\n      hostname = _source$location.hostname,\n      port = _source$location.port;\n  var pathname = source.location.pathname;\n\n  if (!pathname && href && canUseDOM) {\n    var url = new URL(href);\n    pathname = url.pathname;\n  }\n\n  return {\n    pathname: encodeURI(decodeURI(pathname)),\n    search: search,\n    hash: hash,\n    href: href,\n    origin: origin,\n    protocol: protocol,\n    host: host,\n    hostname: hostname,\n    port: port,\n    state: source.history.state,\n    key: source.history.state && source.history.state.key || \"initial\"\n  };\n};\n\nvar createHistory = function createHistory(source, options) {\n  var listeners = [];\n  var location = getLocation(source);\n  var transitioning = false;\n\n  var resolveTransition = function resolveTransition() {};\n\n  return {\n    get location() {\n      return location;\n    },\n\n    get transitioning() {\n      return transitioning;\n    },\n\n    _onTransitionComplete: function _onTransitionComplete() {\n      transitioning = false;\n      resolveTransition();\n    },\n    listen: function listen(listener) {\n      listeners.push(listener);\n\n      var popstateListener = function popstateListener() {\n        location = getLocation(source);\n        listener({\n          location: location,\n          action: \"POP\"\n        });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n      return function () {\n        source.removeEventListener(\"popstate\", popstateListener);\n        listeners = listeners.filter(function (fn) {\n          return fn !== listener;\n        });\n      };\n    },\n    navigate: function navigate(to) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          state = _ref.state,\n          _ref$replace = _ref.replace,\n          replace = _ref$replace === undefined ? false : _ref$replace;\n\n      if (typeof to === \"number\") {\n        source.history.go(to);\n      } else {\n        state = _extends({}, state, {\n          key: Date.now() + \"\"\n        }); // try...catch iOS Safari limits to 100 pushState calls\n\n        try {\n          if (transitioning || replace) {\n            source.history.replaceState(state, null, to);\n          } else {\n            source.history.pushState(state, null, to);\n          }\n        } catch (e) {\n          source.location[replace ? \"replace\" : \"assign\"](to);\n        }\n      }\n\n      location = getLocation(source);\n      transitioning = true;\n      var transition = new Promise(function (res) {\n        return resolveTransition = res;\n      });\n      listeners.forEach(function (listener) {\n        return listener({\n          location: location,\n          action: \"PUSH\"\n        });\n      });\n      return transition;\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// Stores history entries in memory for testing or other platforms like Native\n\n\nvar createMemorySource = function createMemorySource() {\n  var initialPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var searchIndex = initialPath.indexOf(\"?\");\n  var initialLocation = {\n    pathname: searchIndex > -1 ? initialPath.substr(0, searchIndex) : initialPath,\n    search: searchIndex > -1 ? initialPath.substr(searchIndex) : \"\"\n  };\n  var index = 0;\n  var stack = [initialLocation];\n  var states = [null];\n  return {\n    get location() {\n      return stack[index];\n    },\n\n    addEventListener: function addEventListener(name, fn) {},\n    removeEventListener: function removeEventListener(name, fn) {},\n    history: {\n      get entries() {\n        return stack;\n      },\n\n      get index() {\n        return index;\n      },\n\n      get state() {\n        return states[index];\n      },\n\n      pushState: function pushState(state, _, uri) {\n        var _uri$split = uri.split(\"?\"),\n            pathname = _uri$split[0],\n            _uri$split$ = _uri$split[1],\n            search = _uri$split$ === undefined ? \"\" : _uri$split$;\n\n        index++;\n        stack.push({\n          pathname: pathname,\n          search: search.length ? \"?\" + search : search\n        });\n        states.push(state);\n      },\n      replaceState: function replaceState(state, _, uri) {\n        var _uri$split2 = uri.split(\"?\"),\n            pathname = _uri$split2[0],\n            _uri$split2$ = _uri$split2[1],\n            search = _uri$split2$ === undefined ? \"\" : _uri$split2$;\n\n        stack[index] = {\n          pathname: pathname,\n          search: search\n        };\n        states[index] = state;\n      },\n      go: function go(to) {\n        var newIndex = index + to;\n\n        if (newIndex < 0 || newIndex > states.length - 1) {\n          return;\n        }\n\n        index = newIndex;\n      }\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// global history - uses window.history as the source if available, otherwise a\n// memory history\n\n\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n\nvar getSource = function getSource() {\n  return canUseDOM ? window : createMemorySource();\n};\n\nvar globalHistory = createHistory(getSource());\nvar navigate = globalHistory.navigate; ////////////////////////////////////////////////////////////////////////////////\n\nexport { globalHistory, navigate, createHistory, createMemorySource };","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable jsx-a11y/anchor-has-content */\n\n\nimport React, { useContext, createContext } from \"react\";\nimport invariant from \"invariant\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { startsWith, pick, resolve, match, insertParams, validateRedirect, shallowCompare } from \"./lib/utils\";\nimport { globalHistory, navigate, createHistory, createMemorySource } from \"./lib/history\"; ////////////////////////////////////////////////////////////////////////////////\n\nvar createNamedContext = function createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Location Context/Provider\n\n\nvar LocationContext = createNamedContext(\"Location\"); // sets up a listener if there isn't one already so apps don't need to be\n// wrapped in some top level provider\n\nvar Location = function Location(_ref) {\n  var children = _ref.children;\n  return React.createElement(LocationContext.Consumer, null, function (context) {\n    return context ? children(context) : React.createElement(LocationProvider, null, children);\n  });\n};\n\nvar LocationProvider = function (_React$Component) {\n  _inherits(LocationProvider, _React$Component);\n\n  function LocationProvider() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LocationProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      context: _this.getContext(),\n      refs: {\n        unlisten: null\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  LocationProvider.prototype.getContext = function getContext() {\n    var _props$history = this.props.history,\n        navigate = _props$history.navigate,\n        location = _props$history.location;\n    return {\n      navigate: navigate,\n      location: location\n    };\n  };\n\n  LocationProvider.prototype.componentDidCatch = function componentDidCatch(error, info) {\n    if (isRedirect(error)) {\n      var _navigate = this.props.history.navigate;\n\n      _navigate(error.uri, {\n        replace: true\n      });\n    } else {\n      throw error;\n    }\n  };\n\n  LocationProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevState.context.location !== this.state.context.location) {\n      this.props.history._onTransitionComplete();\n    }\n  };\n\n  LocationProvider.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var refs = this.state.refs,\n        history = this.props.history;\n\n    history._onTransitionComplete();\n\n    refs.unlisten = history.listen(function () {\n      Promise.resolve().then(function () {\n        // TODO: replace rAF with react deferred update API when it's ready https://github.com/facebook/react/issues/13306\n        requestAnimationFrame(function () {\n          if (!_this2.unmounted) {\n            _this2.setState(function () {\n              return {\n                context: _this2.getContext()\n              };\n            });\n          }\n        });\n      });\n    });\n  };\n\n  LocationProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n    var refs = this.state.refs;\n    this.unmounted = true;\n    refs.unlisten();\n  };\n\n  LocationProvider.prototype.render = function render() {\n    var context = this.state.context,\n        children = this.props.children;\n    return React.createElement(LocationContext.Provider, {\n      value: context\n    }, typeof children === \"function\" ? children(context) : children || null);\n  };\n\n  return LocationProvider;\n}(React.Component); ////////////////////////////////////////////////////////////////////////////////\n\n\nLocationProvider.defaultProps = {\n  history: globalHistory\n};\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\n\nvar ServerLocation = function ServerLocation(_ref2) {\n  var url = _ref2.url,\n      children = _ref2.children;\n  var searchIndex = url.indexOf(\"?\");\n  var searchExists = searchIndex > -1;\n  var pathname = void 0;\n  var search = \"\";\n  var hash = \"\";\n\n  if (searchExists) {\n    pathname = url.substring(0, searchIndex);\n    search = url.substring(searchIndex);\n  } else {\n    pathname = url;\n  }\n\n  return React.createElement(LocationContext.Provider, {\n    value: {\n      location: {\n        pathname: pathname,\n        search: search,\n        hash: hash\n      },\n      navigate: function navigate() {\n        throw new Error(\"You can't call navigate on the server.\");\n      }\n    }\n  }, children);\n}; ////////////////////////////////////////////////////////////////////////////////\n// Sets baseuri and basepath for nested routers and links\n\n\nvar BaseContext = createNamedContext(\"Base\", {\n  baseuri: \"/\",\n  basepath: \"/\",\n  navigate: globalHistory.navigate\n}); ////////////////////////////////////////////////////////////////////////////////\n// The main event, welcome to the show everybody.\n\nvar Router = function Router(props) {\n  return React.createElement(BaseContext.Consumer, null, function (baseContext) {\n    return React.createElement(Location, null, function (locationContext) {\n      return React.createElement(RouterImpl, _extends({}, baseContext, locationContext, props));\n    });\n  });\n};\n\nvar RouterImpl = function (_React$PureComponent) {\n  _inherits(RouterImpl, _React$PureComponent);\n\n  function RouterImpl() {\n    _classCallCheck(this, RouterImpl);\n\n    return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n  }\n\n  RouterImpl.prototype.render = function render() {\n    var _props = this.props,\n        location = _props.location,\n        _navigate2 = _props.navigate,\n        basepath = _props.basepath,\n        primary = _props.primary,\n        children = _props.children,\n        baseuri = _props.baseuri,\n        _props$component = _props.component,\n        component = _props$component === undefined ? \"div\" : _props$component,\n        domProps = _objectWithoutProperties(_props, [\"location\", \"navigate\", \"basepath\", \"primary\", \"children\", \"baseuri\", \"component\"]);\n\n    var routes = React.Children.toArray(children).reduce(function (array, child) {\n      var routes = createRoute(basepath)(child);\n      return array.concat(routes);\n    }, []);\n    var pathname = location.pathname;\n    var match = pick(routes, pathname);\n\n    if (match) {\n      var params = match.params,\n          uri = match.uri,\n          route = match.route,\n          element = match.route.value; // remove the /* from the end for child routes relative paths\n\n      basepath = route.default ? basepath : route.path.replace(/\\*$/, \"\");\n\n      var props = _extends({}, params, {\n        uri: uri,\n        location: location,\n        navigate: function navigate(to, options) {\n          return _navigate2(resolve(to, uri), options);\n        }\n      });\n\n      var clone = React.cloneElement(element, props, element.props.children ? React.createElement(Router, {\n        location: location,\n        primary: primary\n      }, element.props.children) : undefined); // using 'div' for < 16.3 support\n\n      var FocusWrapper = primary ? FocusHandler : component; // don't pass any props to 'div'\n\n      var wrapperProps = primary ? _extends({\n        uri: uri,\n        location: location,\n        component: component\n      }, domProps) : domProps;\n      return React.createElement(BaseContext.Provider, {\n        value: {\n          baseuri: uri,\n          basepath: basepath,\n          navigate: props.navigate\n        }\n      }, React.createElement(FocusWrapper, wrapperProps, clone));\n    } else {\n      // Not sure if we want this, would require index routes at every level\n      // warning(\n      //   false,\n      //   `<Router basepath=\"${basepath}\">\\n\\nNothing matched:\\n\\t${\n      //     location.pathname\n      //   }\\n\\nPaths checked: \\n\\t${routes\n      //     .map(route => route.path)\n      //     .join(\n      //       \"\\n\\t\"\n      //     )}\\n\\nTo get rid of this warning, add a default NotFound component as child of Router:\n      //   \\n\\tlet NotFound = () => <div>Not Found!</div>\n      //   \\n\\t<Router>\\n\\t  <NotFound default/>\\n\\t  {/* ... */}\\n\\t</Router>`\n      // );\n      return null;\n    }\n  };\n\n  return RouterImpl;\n}(React.PureComponent);\n\nRouterImpl.defaultProps = {\n  primary: true\n};\nvar FocusContext = createNamedContext(\"Focus\");\n\nvar FocusHandler = function FocusHandler(_ref3) {\n  var uri = _ref3.uri,\n      location = _ref3.location,\n      component = _ref3.component,\n      domProps = _objectWithoutProperties(_ref3, [\"uri\", \"location\", \"component\"]);\n\n  return React.createElement(FocusContext.Consumer, null, function (requestFocus) {\n    return React.createElement(FocusHandlerImpl, _extends({}, domProps, {\n      component: component,\n      requestFocus: requestFocus,\n      uri: uri,\n      location: location\n    }));\n  });\n}; // don't focus on initial render\n\n\nvar initialRender = true;\nvar focusHandlerCount = 0;\n\nvar FocusHandlerImpl = function (_React$Component2) {\n  _inherits(FocusHandlerImpl, _React$Component2);\n\n  function FocusHandlerImpl() {\n    var _temp2, _this4, _ret2;\n\n    _classCallCheck(this, FocusHandlerImpl);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this4 = _possibleConstructorReturn(this, _React$Component2.call.apply(_React$Component2, [this].concat(args))), _this4), _this4.state = {}, _this4.requestFocus = function (node) {\n      if (!_this4.state.shouldFocus && node) {\n        node.focus();\n      }\n    }, _temp2), _possibleConstructorReturn(_this4, _ret2);\n  }\n\n  FocusHandlerImpl.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var initial = prevState.uri == null;\n\n    if (initial) {\n      return _extends({\n        shouldFocus: true\n      }, nextProps);\n    } else {\n      var myURIChanged = nextProps.uri !== prevState.uri;\n      var navigatedUpToMe = prevState.location.pathname !== nextProps.location.pathname && nextProps.location.pathname === nextProps.uri;\n      return _extends({\n        shouldFocus: myURIChanged || navigatedUpToMe\n      }, nextProps);\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidMount = function componentDidMount() {\n    focusHandlerCount++;\n    this.focus();\n  };\n\n  FocusHandlerImpl.prototype.componentWillUnmount = function componentWillUnmount() {\n    focusHandlerCount--;\n\n    if (focusHandlerCount === 0) {\n      initialRender = true;\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevProps.location !== this.props.location && this.state.shouldFocus) {\n      this.focus();\n    }\n  };\n\n  FocusHandlerImpl.prototype.focus = function focus() {\n    if (process.env.NODE_ENV === \"test\") {\n      // getting cannot read property focus of null in the tests\n      // and that bit of global `initialRender` state causes problems\n      // should probably figure it out!\n      return;\n    }\n\n    var requestFocus = this.props.requestFocus;\n\n    if (requestFocus) {\n      requestFocus(this.node);\n    } else {\n      if (initialRender) {\n        initialRender = false;\n      } else if (this.node) {\n        // React polyfills [autofocus] and it fires earlier than cDM,\n        // so we were stealing focus away, this line prevents that.\n        if (!this.node.contains(document.activeElement)) {\n          this.node.focus();\n        }\n      }\n    }\n  };\n\n  FocusHandlerImpl.prototype.render = function render() {\n    var _this5 = this;\n\n    var _props2 = this.props,\n        children = _props2.children,\n        style = _props2.style,\n        requestFocus = _props2.requestFocus,\n        _props2$component = _props2.component,\n        Comp = _props2$component === undefined ? \"div\" : _props2$component,\n        uri = _props2.uri,\n        location = _props2.location,\n        domProps = _objectWithoutProperties(_props2, [\"children\", \"style\", \"requestFocus\", \"component\", \"uri\", \"location\"]);\n\n    return React.createElement(Comp, _extends({\n      style: _extends({\n        outline: \"none\"\n      }, style),\n      tabIndex: \"-1\",\n      ref: function ref(n) {\n        return _this5.node = n;\n      }\n    }, domProps), React.createElement(FocusContext.Provider, {\n      value: this.requestFocus\n    }, this.props.children));\n  };\n\n  return FocusHandlerImpl;\n}(React.Component);\n\npolyfill(FocusHandlerImpl);\n\nvar k = function k() {}; ////////////////////////////////////////////////////////////////////////////////\n\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = function forwardRef(C) {\n    return C;\n  };\n}\n\nvar Link = forwardRef(function (_ref4, ref) {\n  var innerRef = _ref4.innerRef,\n      props = _objectWithoutProperties(_ref4, [\"innerRef\"]);\n\n  return React.createElement(BaseContext.Consumer, null, function (_ref5) {\n    var basepath = _ref5.basepath,\n        baseuri = _ref5.baseuri;\n    return React.createElement(Location, null, function (_ref6) {\n      var location = _ref6.location,\n          navigate = _ref6.navigate;\n\n      var to = props.to,\n          state = props.state,\n          replace = props.replace,\n          _props$getProps = props.getProps,\n          getProps = _props$getProps === undefined ? k : _props$getProps,\n          anchorProps = _objectWithoutProperties(props, [\"to\", \"state\", \"replace\", \"getProps\"]);\n\n      var href = resolve(to, baseuri);\n      var encodedHref = encodeURI(href);\n      var isCurrent = location.pathname === encodedHref;\n      var isPartiallyCurrent = startsWith(location.pathname, encodedHref);\n      return React.createElement(\"a\", _extends({\n        ref: ref || innerRef,\n        \"aria-current\": isCurrent ? \"page\" : undefined\n      }, anchorProps, getProps({\n        isCurrent: isCurrent,\n        isPartiallyCurrent: isPartiallyCurrent,\n        href: href,\n        location: location\n      }), {\n        href: href,\n        onClick: function onClick(event) {\n          if (anchorProps.onClick) anchorProps.onClick(event);\n\n          if (shouldNavigate(event)) {\n            event.preventDefault();\n            var shouldReplace = replace;\n\n            if (typeof replace !== \"boolean\" && isCurrent) {\n              var _location$state = _extends({}, location.state),\n                  key = _location$state.key,\n                  restState = _objectWithoutProperties(_location$state, [\"key\"]);\n\n              shouldReplace = shallowCompare(_extends({}, state), restState);\n            }\n\n            navigate(href, {\n              state: state,\n              replace: shouldReplace\n            });\n          }\n        }\n      }));\n    });\n  });\n});\nLink.displayName = \"Link\";\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0; ////////////////////////////////////////////////////////////////////////////////\n\nfunction RedirectRequest(uri) {\n  this.uri = uri;\n}\n\nvar isRedirect = function isRedirect(o) {\n  return o instanceof RedirectRequest;\n};\n\nvar redirectTo = function redirectTo(to) {\n  throw new RedirectRequest(to);\n};\n\nvar RedirectImpl = function (_React$Component3) {\n  _inherits(RedirectImpl, _React$Component3);\n\n  function RedirectImpl() {\n    _classCallCheck(this, RedirectImpl);\n\n    return _possibleConstructorReturn(this, _React$Component3.apply(this, arguments));\n  } // Support React < 16 with this hook\n\n\n  RedirectImpl.prototype.componentDidMount = function componentDidMount() {\n    var _props3 = this.props,\n        navigate = _props3.navigate,\n        to = _props3.to,\n        from = _props3.from,\n        _props3$replace = _props3.replace,\n        replace = _props3$replace === undefined ? true : _props3$replace,\n        state = _props3.state,\n        noThrow = _props3.noThrow,\n        baseuri = _props3.baseuri,\n        props = _objectWithoutProperties(_props3, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    Promise.resolve().then(function () {\n      var resolvedTo = resolve(to, baseuri);\n      navigate(insertParams(resolvedTo, props), {\n        replace: replace,\n        state: state\n      });\n    });\n  };\n\n  RedirectImpl.prototype.render = function render() {\n    var _props4 = this.props,\n        navigate = _props4.navigate,\n        to = _props4.to,\n        from = _props4.from,\n        replace = _props4.replace,\n        state = _props4.state,\n        noThrow = _props4.noThrow,\n        baseuri = _props4.baseuri,\n        props = _objectWithoutProperties(_props4, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    var resolvedTo = resolve(to, baseuri);\n    if (!noThrow) redirectTo(insertParams(resolvedTo, props));\n    return null;\n  };\n\n  return RedirectImpl;\n}(React.Component);\n\nvar Redirect = function Redirect(props) {\n  return React.createElement(BaseContext.Consumer, null, function (_ref7) {\n    var baseuri = _ref7.baseuri;\n    return React.createElement(Location, null, function (locationContext) {\n      return React.createElement(RedirectImpl, _extends({}, locationContext, {\n        baseuri: baseuri\n      }, props));\n    });\n  });\n};\n\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0; ////////////////////////////////////////////////////////////////////////////////\n\nvar Match = function Match(_ref8) {\n  var path = _ref8.path,\n      children = _ref8.children;\n  return React.createElement(BaseContext.Consumer, null, function (_ref9) {\n    var baseuri = _ref9.baseuri;\n    return React.createElement(Location, null, function (_ref10) {\n      var navigate = _ref10.navigate,\n          location = _ref10.location;\n      var resolvedPath = resolve(path, baseuri);\n      var result = match(resolvedPath, location.pathname);\n      return children({\n        navigate: navigate,\n        location: location,\n        match: result ? _extends({}, result.params, {\n          uri: result.uri,\n          path: path\n        }) : null\n      });\n    });\n  });\n}; ////////////////////////////////////////////////////////////////////////////////\n// Hooks\n\n\nvar useLocation = function useLocation() {\n  var context = useContext(LocationContext);\n\n  if (!context) {\n    throw new Error(\"useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.location;\n};\n\nvar useNavigate = function useNavigate() {\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useNavigate hook was used but a BaseContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.navigate;\n};\n\nvar useParams = function useParams() {\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n  var results = match(context.basepath, location.pathname);\n  return results ? results.params : null;\n};\n\nvar useMatch = function useMatch(path) {\n  if (!path) {\n    throw new Error(\"useMatch(path: string) requires an argument of a string to match against\");\n  }\n\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n  var resolvedPath = resolve(path, context.baseuri);\n  var result = match(resolvedPath, location.pathname);\n  return result ? _extends({}, result.params, {\n    uri: result.uri,\n    path: path\n  }) : null;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Junk\n\n\nvar stripSlashes = function stripSlashes(str) {\n  return str.replace(/(^\\/+|\\/+$)/g, \"\");\n};\n\nvar createRoute = function createRoute(basepath) {\n  return function (element) {\n    if (!element) {\n      return null;\n    }\n\n    if (element.type === React.Fragment && element.props.children) {\n      return React.Children.map(element.props.children, createRoute(basepath));\n    }\n\n    !(element.props.path || element.props.default || element.type === Redirect) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router>: Children of <Router> must have a `path` or `default` prop, or be a `<Redirect>`. None found on element type `\" + element.type + \"`\") : invariant(false) : void 0;\n    !!(element.type === Redirect && (!element.props.from || !element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \"\\\" to=\\\"\" + element.props.to + \"\\\"/> requires both \\\"from\\\" and \\\"to\\\" props when inside a <Router>.\") : invariant(false) : void 0;\n    !!(element.type === Redirect && !validateRedirect(element.props.from, element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \" to=\\\"\" + element.props.to + \"\\\"/> has mismatched dynamic segments, ensure both paths have the exact same dynamic segments.\") : invariant(false) : void 0;\n\n    if (element.props.default) {\n      return {\n        value: element,\n        default: true\n      };\n    }\n\n    var elementPath = element.type === Redirect ? element.props.from : element.props.path;\n    var path = elementPath === \"/\" ? basepath : stripSlashes(basepath) + \"/\" + stripSlashes(elementPath);\n    return {\n      value: element,\n      default: element.props.default,\n      path: element.props.children ? stripSlashes(path) + \"/*\" : path\n    };\n  };\n};\n\nvar shouldNavigate = function shouldNavigate(event) {\n  return !event.defaultPrevented && event.button === 0 && !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}; ////////////////////////////////////////////////////////////////////////\n\n\nexport {  Link, Location, LocationProvider, Match, Redirect, Router, ServerLocation, createHistory, createMemorySource, isRedirect, navigate, redirectTo, globalHistory, match as matchPath, useLocation, useNavigate, useParams, useMatch , BaseContext };","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}"],"names":["module","exports","self","ReferenceError","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","setPrototypeOf","subClass","superClass","create","constructor","obj","excluded","sourceKeys","keys","indexOf","_setPrototypeOf","o","p","__proto__","getLocation","_source$location","location","search","hash","href","origin","protocol","host","hostname","port","pathname","canUseDOM","URL","encodeURI","decodeURI","state","history","createHistory","options","listeners","transitioning","resolveTransition","_onTransitionComplete","listen","listener","push","popstateListener","action","addEventListener","removeEventListener","filter","fn","navigate","to","_ref","undefined","_ref$replace","replace","go","Date","now","replaceState","pushState","e","transition","Promise","res","forEach","createMemorySource","initialPath","searchIndex","initialLocation","substr","index","stack","states","name","entries","_","uri","_uri$split","split","_uri$split$","_uri$split2","_uri$split2$","newIndex","window","document","createElement","globalHistory","shallowCompare","validateRedirect","insertParams","resolve","match","pick","startsWith","_invariant","_invariant2","default","string","routes","default_","uriPathname","uriSegments","segmentize","isRootUri","ranked","rankRoutes","l","missed","route","params","routeSegments","path","max","Math","routeSegment","uriSegment","isSplat","slice","map","decodeURIComponent","join","dynamicMatch","paramRe","exec","reservedNames","value","isDynamic","segment","test","rankRoute","score","reduce","isRootSegment","SEGMENT_POINTS","sort","a","b","addQuery","_len","query","Array","_key","q","base","_to$split","toPathname","toQuery","basePathname","toSegments","baseSegments","concat","allSegments","segments","pop","_path$split","pathBase","_path$split$","constructedPath","_params$location","_params$location$sear","searchSplit","from","obj1","obj2","obj1Keys","every","defineProperty","config_1","BackoffController","errorCount","getDelay","BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT","min","round","random","countError","reset","_extendStatics","__extends","d","__","__importDefault","mod","browserRequest_1","BrowserDatafileManager","_super","makeGetRequest","reqUrl","headers","getConfigDefaults","autoUpdate","logger","getLogger","req","XMLHttpRequest","responsePromise","reject","open","headerName","header","setRequestHeader","setHeadersInXhr","onreadystatechange","readyState","status","Error","headers_1","allHeadersString","getAllResponseHeaders","headerLines","headerLine","separatorIndex","headerValue","parseHeadersFromXhr","resp","statusCode","body","responseText","timeout","REQUEST_TIMEOUT_MS","ontimeout","error","send","abort","DEFAULT_UPDATE_INTERVAL","MIN_UPDATE_INTERVAL","DEFAULT_URL_TEMPLATE","DEFAULT_AUTHENTICATED_URL_TEMPLATE","EventEmitter","listenerId","on","eventName","_this","currentListenerId","String","emit","arg","removeAllListeners","__assign","t","s","n","js_sdk_logging_1","js_sdk_utils_1","eventEmitter_1","backoffController_1","isSuccessStatusCode","noOpKeyValueCache","get","set","contains","remove","HttpPollingDatafileManager","config","configWithDefaultsApplied","datafile","_a","sdkKey","_b","updateInterval","_c","urlTemplate","_d","cache","cacheKey","isReadyPromiseSettled","readyPromiseResolver","readyPromiseRejecter","readyPromise","currentDatafile","resolveReadyPromise","isStarted","datafileUrl","sprintf","emitter","isValidUpdateInterval","warn","currentTimeout","currentRequest","backoffController","syncOnCurrentRequestComplete","start","debug","setDatafileFromCacheIfAvailable","syncDatafile","stop","clearTimeout","onReady","onRequestRejected","err","message","onRequestResolved","response","trySavingLastModified","getNextDatafileFromResponse","info","datafileUpdate","onRequestComplete","rejectReadyPromise","lastResponseLastModified","JSON","stringify","then","scheduleNextUpdate","currentBackoffDelay","nextUpdateDelay","setTimeout","lastModifiedHeader","browserDatafileManager_1","NoopErrorHandler","handleError","exception","globalErrorHandler","setErrorHandler","handler","getErrorHandler","resetErrorHandler","__export","m","__spreadArrays","il","r","k","j","jl","errorHandler_1","models_1","stringToLogLevel","NOTSET","DEBUG","INFO","WARNING","ERROR","coerceLogLevel","level","toUpperCase","DefaultLogManager","defaultLoggerFacade","OptimizelyLogger","loggers","messagePrefix","ConsoleLogHandler","logLevel","LogLevel","isValidEnum","setLogLevel","logToConsole","prefix","log","shouldLog","logMessage","getLogLevelName","getTime","consoleLog","toISOString","targetLogLevel","logArguments","console","globalLogLevel","globalLogHandler","opts","splat","_i","internalLog","namedLog","format","data","last","splice","globalLogManager","setLogHandler","getLogLevel","resetLogger","uuid_1","objectValues","generateUUID","v4","getTimestamp","enumToCheck","found","groupBy","arr","grouperFn","grouper","item","objectEntries","find","cond","arr_1","keyBy","keyByFn","args","type","NOTIFICATION_TYPES","v1","uuid","byteToHex","toString","buf","offset","bth","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","rnds","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","ii","sendEventNotification","getQueue","validateAndGetBatchSize","validateAndGetFlushInterval","DEFAULT_BATCH_SIZE","DEFAULT_FLUSH_INTERVAL","eventQueue_1","flushInterval","batchSize","floor","sink","batchComparator","DefaultEventQueue","maxQueueSize","SingleEventQueue","notificationCenter","event","sendNotifications","LOG_EVENT","Timer","callback","timeoutId","refresh","enqueue","buffer","timer","flush","started","result","bufferedEvent","areEventContextsEqual","eventA","eventB","contextA","context","contextB","accountId","projectId","clientName","clientVersion","revision","anonymizeIP","botFiltering","__createBinding","k2","enumerable","__exportStar","LocalStoragePendingEventsDispatcher","PendingEventsDispatcher","pendingEventsStore_1","eventDispatcher","store","dispatcher","dispatchEvent","request","timestamp","sendPendingEvents","pendingEvents","values","entry","LocalStorageStore","maxValues","LS_KEY","getMap","clear","localStorage","setItem","clean","toRemove","getItem","parse","RequestTracker","reqsInFlightCount","reqsCompleteResolvers","trackRequest","reqPromise","onReqComplete","resolver","onRequestsComplete","formatEvents","buildConversionEventV1","buildImpressionEventV1","makeBatchedEventV1","BOT_FILTERING_KEY","events","visitors","visitor","makeVisitor","snapshots","makeDecisionSnapshot","makeConversionSnapshot","client_name","client_version","account_id","project_id","anonymize_ip","enrich_decisions","conversion","tags","entity_id","id","revenue","layer","experiment","variation","ruleKey","flagKey","ruleType","enabled","layerId","decisions","campaign_id","experiment_id","variation_id","metadata","flag_key","rule_key","rule_type","variation_key","visitor_id","user","attributes","attr","entityId","url","httpVerb","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","__generator","f","y","g","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","LogTierV1EventProcessor","eventProcessor_1","requestTracker_1","events_1","buildEventV1_1","requestTracker","queue","drainQueue","formattedEvent","process","u","CONDITION_EVALUATOR_ERROR","DATAFILE_AND_SDK_KEY_MISSING","EXPERIMENT_KEY_NOT_IN_DATAFILE","FEATURE_NOT_IN_DATAFILE","IMPROPERLY_FORMATTED_EXPERIMENT","INVALID_ATTRIBUTES","INVALID_BUCKETING_ID","INVALID_DATAFILE","INVALID_DATAFILE_MALFORMED","INVALID_CONFIG","INVALID_JSON","INVALID_ERROR_HANDLER","INVALID_EVENT_DISPATCHER","INVALID_EVENT_TAGS","INVALID_EXPERIMENT_KEY","INVALID_EXPERIMENT_ID","INVALID_GROUP_ID","INVALID_LOGGER","INVALID_ROLLOUT_ID","INVALID_USER_ID","INVALID_USER_PROFILE_SERVICE","NO_DATAFILE_SPECIFIED","NO_JSON_PROVIDED","NO_VARIATION_FOR_EXPERIMENT_KEY","UNDEFINED_ATTRIBUTE","UNRECOGNIZED_ATTRIBUTE","UNABLE_TO_CAST_VALUE","USER_NOT_IN_FORCED_VARIATION","USER_PROFILE_LOOKUP_ERROR","USER_PROFILE_SAVE_ERROR","VARIABLE_KEY_NOT_IN_DATAFILE","VARIATION_ID_NOT_IN_DATAFILE","VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT","INVALID_INPUT_FORMAT","INVALID_DATAFILE_VERSION","INVALID_VARIATION_KEY","E","ACTIVATE_USER","DISPATCH_CONVERSION_EVENT","DISPATCH_IMPRESSION_EVENT","DEPRECATED_EVENT_VALUE","EVENT_KEY_NOT_FOUND","EXPERIMENT_NOT_RUNNING","FEATURE_ENABLED_FOR_USER","FEATURE_NOT_ENABLED_FOR_USER","FEATURE_HAS_NO_EXPERIMENTS","FAILED_TO_PARSE_VALUE","FAILED_TO_PARSE_REVENUE","FORCED_BUCKETING_FAILED","INVALID_OBJECT","INVALID_CLIENT_ENGINE","INVALID_DEFAULT_DECIDE_OPTIONS","INVALID_DECIDE_OPTIONS","INVALID_VARIATION_ID","NOTIFICATION_LISTENER_EXCEPTION","NO_ROLLOUT_EXISTS","NOT_ACTIVATING_USER","NOT_TRACKING_USER","PARSED_REVENUE_VALUE","PARSED_NUMERIC_VALUE","RETURNING_STORED_VARIATION","ROLLOUT_HAS_NO_EXPERIMENTS","SAVED_VARIATION","SAVED_VARIATION_NOT_FOUND","SHOULD_NOT_DISPATCH_ACTIVATE","SKIPPING_JSON_VALIDATION","TRACK_EVENT","UNRECOGNIZED_DECIDE_OPTION","USER_ASSIGNED_TO_EXPERIMENT_BUCKET","USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP","USER_BUCKETED_INTO_TARGETING_RULE","USER_IN_FEATURE_EXPERIMENT","USER_IN_ROLLOUT","USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE","USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP","USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP","USER_NOT_BUCKETED_INTO_TARGETING_RULE","USER_NOT_IN_FEATURE_EXPERIMENT","USER_NOT_IN_ROLLOUT","USER_FORCED_IN_VARIATION","USER_MAPPED_TO_FORCED_VARIATION","USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE","USER_MEETS_CONDITIONS_FOR_TARGETING_RULE","USER_HAS_VARIATION","USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED","USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED","USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID","USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID","USER_HAS_FORCED_VARIATION","USER_HAS_NO_VARIATION","USER_HAS_NO_FORCED_VARIATION","USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT","USER_NOT_IN_ANY_EXPERIMENT","USER_NOT_IN_EXPERIMENT","USER_RECEIVED_DEFAULT_VARIABLE_VALUE","FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE","VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE","USER_RECEIVED_VARIABLE_VALUE","VALID_DATAFILE","VALID_USER_PROFILE_SERVICE","VARIATION_REMOVED_FOR_USER","VARIABLE_REQUESTED_WITH_WRONG_TYPE","VALID_BUCKETING_ID","BUCKETING_ID_NOT_STRING","EVALUATING_AUDIENCE","EVALUATING_AUDIENCES_COMBINED","AUDIENCE_EVALUATION_RESULT","AUDIENCE_EVALUATION_RESULT_COMBINED","MISSING_ATTRIBUTE_VALUE","UNEXPECTED_CONDITION_VALUE","UNEXPECTED_TYPE","UNEXPECTED_TYPE_NULL","UNKNOWN_CONDITION_TYPE","UNKNOWN_MATCH_TYPE","UPDATED_OPTIMIZELY_CONFIG","OUT_OF_BOUNDS","UNABLE_TO_ATTACH_UNLOAD","I","BOT_FILTERING","BUCKETING_ID","STICKY_BUCKETING_KEY","USER_AGENT","FORCED_DECISION_NULL_RULE_KEY","c","AB_TEST","FEATURE","FEATURE_TEST","FEATURE_VARIABLE","ALL_FEATURE_VARIABLES","FLAG","ROLLOUT","EXPERIMENT","RULE","BOOLEAN","DOUBLE","INTEGER","STRING","V2","V3","V4","O","SDK_NOT_READY","FLAG_KEY_INVALID","VARIABLE_VALUE_INVALID","N","freeze","LOG_LEVEL","ERROR_MESSAGES","LOG_MESSAGES","CONTROL_ATTRIBUTES","JAVASCRIPT_CLIENT_ENGINE","NODE_CLIENT_ENGINE","REACT_CLIENT_ENGINE","REACT_NATIVE_CLIENT_ENGINE","REACT_NATIVE_JS_CLIENT_ENGINE","NODE_CLIENT_VERSION","DECISION_NOTIFICATION_TYPES","DECISION_SOURCES","AUDIENCE_EVALUATION_TYPES","FEATURE_VARIABLE_TYPES","DATAFILE_VERSIONS","DECISION_MESSAGES","R","T","errorHandler","U","encodeURIComponent","A","D","S","L","V","NoOpLogger","createLogger","createNoOpLogger","C","variationKey","variables","userContext","reasons","OptimizelyDecideOption","DISABLE_DECISION_EVENT","ENABLED_FLAGS_ONLY","IGNORE_USER_PROFILE_SERVICE","INCLUDE_REASONS","EXCLUDE_VARIABLES","F","optimizely","userId","forcedDecisionsMap","setAttribute","getUserId","getAttributes","getOptimizely","decide","cloneUserContext","decideForKeys","decideAll","trackEvent","track","setForcedDecision","getForcedDecision","findForcedDecision","removeForcedDecision","removeAllForcedDecisions","M","isArray","environmentKey","audiences","getAudiences","featureFlags","getExperimentsMapById","experimentsMap","getExperimentsKeyMap","featuresMap","getFeaturesMap","getDatafile","typedAudiences","conditions","getSerializedAudiences","getExperimentAudiences","audienceConditions","audiencesById","mergeFeatureVariables","defaultValue","getVariationsMap","featureEnabled","variablesMap","getVariableIdMap","getDeliveryRules","variationsMap","variations","getRolloutExperimentIds","experiments","rollouts","experimentFeatureMap","experimentIds","rolloutIdMap","rolloutId","experimentRules","deliveryRules","pow","B","currentTimestamp","isSafeInteger","abs","isNumber","K","x","groups","__datafileStr","attributeKeyMap","eventKeyMap","groupIdMap","groupId","variationKeyMap","experimentKeyMap","experimentIdMap","variationIdMap","variationVariableUsageMap","featureKeyMap","subType","variableKeyMap","flagRulesMap","flagVariationsMap","G","w","H","Y","X","z","trafficAllocation","J","Z","W","$","version","h","configObj","jsonSchemaValidator","validate","Q","sendFlagDecisions","ee","te","re","updateListeners","optimizelyConfigObj","datafileManager","success","reason","handleNewDatafile","onDatafileManagerReadyFulfill","onDatafileManagerReadyReject","onDatafileManagerUpdate","getConfig","getOptimizelyConfig","onUpdate","ie","ne","experimentId","policy","oe","bucketingId","experimentKey","se","ae","trafficAllocationConfig","endOfRange","v3","ue","le","Ee","Ie","ce","substring","fe","_e","de","ge","pe","Oe","Ne","Re","parseInt","exact","exists","gt","lt","semver_eq","semver_gt","semver_ge","semver_lt","semver_le","Te","evaluate","ve","he","typeToEvaluatorMap","custom_attribute","evaluateConditionWithUserAttributes","ye","Ae","Ue","audienceEvaluator","UNSTABLE_conditionEvaluators","forcedVariationMap","userProfileService","getVariation","getBucketingId","checkIfExperimentIsActive","getForcedVariation","getWhitelistedVariation","resolveExperimentBucketMap","getStoredVariation","checkIfUserIsInAudience","buildBucketerParams","saveUserProfile","getUserProfile","experiment_bucket_map","forcedVariations","audienceIds","user_id","lookup","save","getVariationForFeature","getVariationForFeatureExperiment","getVariationForRollout","getVariationFromExperimentRule","decisionSource","getVariationFromDeliveryRule","skipToEveryoneElse","findValidatedForcedDecision","removeForcedVariation","setInForcedVariationMap","setForcedVariation","De","isNaN","Se","parseFloat","Le","me","Ve","clientEngine","Me","Pe","be","ke","Be","Ke","xe","Ge","we","isOptimizelyConfigValid","isValidInstance","defaultDecideOptions","projectConfigManager","disposeOnUpdate","OPTIMIZELY_CONFIG_UPDATE","decisionService","eventProcessor","all","readyTimeouts","nextReadyTimeoutId","activate","validateInputs","experiment_key","notActivatingExperiment","sendImpressionEvent","decisionObj","userAttributes","emitNotificationCenterActivate","variationId","Ce","ACTIVATE","logEvent","event_key","eventKey","eventTags","filterEmptyValues","emitNotificationCenterTrack","Fe","TRACK","createUserContext","DECISION","decisionInfo","isFeatureEnabled","feature_key","featureKey","sourceInfo","getEnabledFeatures","getFeatureVariable","getFeatureVariableForType","variable_key","getFeatureVariableValueFromVariation","variableKey","variableValue","variableType","getFeatureVariableBoolean","getFeatureVariableDouble","getFeatureVariableInteger","getFeatureVariableString","getFeatureVariableJSON","getAllFeatureVariables","variableValues","close","readyTimeout","onClose","race","getAllDecideOptions","decisionEventDispatched","Ye","notificationListeners","addNotificationListener","removeNotificationListener","some","clearAllNotificationListeners","clearNotificationListeners","Xe","ze","Je","Ze","We","eventBatchSize","eventFlushInterval","je","He","eventMaxQueueSize","datafileOptions","qe","$e","logging","enums","setLogger","createInstance","__internalResetRetryState","React","hoistNonReactStatics","_interopDefaultLegacy","hoistNonReactStatics__default","OptimizelyContext","createContext","isServerSide","OptimizelyContextConsumer","Consumer","OptimizelyContextProvider","Provider","_assign","coerceUnknownAttrsValueForComparison","maybeAttrs","areAttributesEqual","maybeOldAttrs","maybeNewAttrs","oldAttrs","newAttrs","oldAttrsKeys","newAttrsKeys","oldAttrKey","createFailedDecision","HookType","OptimizelyProvider","props","finalUser","setUser","componentDidUpdate","prevProps","user1","user2","user1keys","user2keys","user1Attributes","user2Attributes","key1","key2","areUsersEqual","render","children","Component","setupAutoUpdateListeners","optimizely$1","loggerSuffix","optimizelyNotificationId","unregisterUserListener","onUserUpdate","hooksLogger","areDecisionInputsEqual","oldDecisionInputs","newDecisionInputs","entityKey","overrideUserId","overrideAttributes","subscribeToInitialization","onInitStateChange","clientReady","didTimeout","dataReadyPromise","catch","useCompareAttrsMemoize","ref","useRef","current","useExperiment","overrides","useContext","overrideAttrs","getCurrentDecision","useCallback","isClientReady","isReady","useState","decisionState","setState","currentDecisionInputs","prevDecisionInputs","setPrevDecisionInputs","prevState","finalReadyTimeout","useEffect","initState","onForcedVariationsUpdate","useFeature","isEnabled","getFeatureVariables","OptimizelyFeature","feature","Fragment","OptimizelyExperiment","Children","child","isValidElement","cloneElement","OptimizelyVariation","logger$1","OptimizelyReactSDKClient","isUserPromiseResolved","onUserUpdateHandlers","onForcedVariationsUpdateHandlers","dataReadyPromiseFulfilled","initialConfig","userPromiseResovler","configWithClientInfo","_client","userPromise","timeoutPromise","userInfo","ind","getUserContextWithOverrides","optlyUserContext","decision","variableObj","optlyConfig","variable","overrideUserIdOrVariationKey","finalUserId","finalVariationKey","configurable","logger$2","logOnlyEventDispatcher","eventStr","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","Memo","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","MurmurHashV3","seed","remainder","bytes","h1","h1b","c1","c2","k1","charCodeAt","murmur","v2","str","for","$$typeof","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","_interopRequireDefault","_objectWithoutPropertiesLoose2","_assertThisInitialized2","_inheritsLoose2","_extends2","_propTypes","_react","_reachRouter","_utils","_parsePath","parsePath","_excluded","isAbsolutePath","withPrefix","_prefix","getGlobalBasePrefix","isLocalLink","getGlobalPathPrefix","endsWith","rewriteLinkPath","relativeTo","absolutify","NavLinkPropTypes","activeClassName","activeStyle","object","partiallyActive","bool","GatsbyLinkLocationWrapper","Location","_ref2","GatsbyLink","_location","_React$Component","defaultGetProps","_ref3","isPartiallyCurrent","isCurrent","className","Boolean","style","IOSupported","IntersectionObserver","abortPrefetch","handleRef","_proto","_prefetch","currentPath","rewrittenPath","parsed","newPathName","___loader","componentWillUnmount","io","_this$io","instance","el","unobserve","disconnect","cb","_this2","innerRef","inViewPort","isIntersecting","intersectionRatio","observe","_this3","_this$props","_this$props$getProps","getProps","_onClick","onClick","_onMouseEnter","onMouseEnter","rest","prefixedTo","Link","hovering","button","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","preventDefault","shouldReplace","___navigate","func","isRequired","_default","forwardRef","hashIndex","_scrollHandler","ScrollHandler","useScrollRestoration","ScrollContext","nodeInterop","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","desc","_interopRequireWildcard","_sessionStorage","WeakMap","cacheBabelInterop","cacheNodeInterop","SessionStorage","_stateStorage","_isTicking","_latestKnownScrollY","scrollListener","scrollY","requestAnimationFrame","_saveScroll","windowScroll","position","shouldUpdateScroll","scrollTo","scrollToHash","getElementById","scrollIntoView","prevRouterProps","routerProps","componentDidMount","scrollPosition","_this$props$location","read","_this$props$location2","element","GATSBY_ROUTER_SCROLL_STATE","stateKey","getStateKey","sessionStorage","storedValue","stateKeyBase","identifier","useLocation","useLayoutEffect","onScroll","scrollTop","components","plugin","require","plugins","getResourceURLsForPathname","loadPage","loadPageSync","api","defaultReturn","argTransform","results","previous","off","evt","mitt","pathAndSearch","charAt","pathCache","Map","matchPaths","trimPathname","rawPathname","stripPrefix","__BASE_PATH__","setMatchPaths","findMatchPath","trimmedPathname","cleanPath","pickPaths","matchPath","originalPath","normalizePagePath","grabMatchParams","findPath","redirect","maybeGetBrowserRedirect","toPath","foundPath","StaticQueryContext","loader","_arrayLikeToArray","len","arr2","_toConsumableArray","iter","minLen","supportedPrefetchStrategy","fakeLink","relList","supports","support","link","onload","onerror","getElementsByTagName","getElementsByName","parentNode","appendChild","preFetched","PageResourceStatus","Success","preferDefault","createPageDataUrl","rawPath","maybeSearch","__PATH_PREFIX__","doFetch","method","toPageResources","pageData","page","componentChunkName","webpackCompilationHash","staticQueryHashes","getServerDataError","json","BaseLoader","loadComponent","inFlightNetworkRequests","pageDb","inFlightDb","staticQueryDb","pageDataDb","isPrefetchQueueRunning","prefetchQueued","prefetchTriggered","Set","prefetchCompleted","memoizedGet","inFlightPromise","delete","setApiRunner","apiRunner","prefetchDisabled","fetchPageDataJson","loadObj","pagePath","retries","jsonPayload","includes","payload","notFound","internalServerError","loadPageDataJson","loadAppData","allData","finalResult","componentChunkPromise","pageResources","createdAt","staticQueryBatchPromise","staticQueryHash","staticQueryResults","staticQueryResultsMap","withErrorDetails","shouldPrefetch","navigator","connection","effectiveType","saveData","doesConnectionSupportPrefetch","prefetch","defer","promise","abortC","AbortController","signal","findIndex","_processNextPrefetchBatch","requestIdleCallback","toPrefetch","prefetches","dPromise","add","doPrefetch","pageDataUrl","prefetchHelper","crossOrigin","as","createComponentUrls","isPageNotFound","appData","___chunkMapping","chunk","ProdLoader","asyncRequires","chunkName","componentUrls","setLoader","_loader","publicLoader","getStaticQueryResults","PageRenderer","pageContext","__params","pageElement","RouteAnnouncerProps","top","width","height","padding","overflow","clip","whiteSpace","border","maybeRedirect","___replace","nextRoute","onPreRouteUpdate","prevLocation","onRouteUpdate","___swUpdated","___webpackCompilationHash","serviceWorker","controller","postMessage","gatsbyApi","reachNavigate","getSavedScrollPosition","RouteAnnouncer","announcementRef","nextProps","pageName","title","pageHeadings","querySelectorAll","textContent","newAnnouncement","innerText","compareLocationProps","nextLocation","RouteUpdates","shouldComponentUpdate","shallowDiffers","EnsureResources","loadResources","nextState","___emitter","___push","reloadStorageKey","apiRunnerAsync","RouteHandler","BaseContext","baseuri","basepath","DataContext","GatsbyRoot","LocationHandler","Router","browserLoc","getSessionStorage","reload","removeItem","SiteRoot","App","onClientEntryRanRef","performance","mark","renderer","ReactDOM","runRender","rootElement","doc","documentElement","doScroll","InternalPageRenderer","redirectMap","redirectIgnoreCaseMap","toLowerCase","redirects","ignoreCase","fromPath","register","reg","installingWorker","installing","___failedResources","fetchUser","wrapPageElement","_objectWithoutProperties","_classCallCheck","Constructor","_possibleConstructorReturn","_inherits","writable","createNamedContext","Ctx","LocationContext","LocationProvider","_temp","getContext","refs","unlisten","_props$history","componentDidCatch","isRedirect","_navigate","unmounted","ServerLocation","baseContext","locationContext","RouterImpl","_React$PureComponent","_props","_navigate2","primary","_props$component","domProps","array","createRoute","clone","FocusWrapper","FocusHandler","wrapperProps","FocusContext","requestFocus","FocusHandlerImpl","initialRender","focusHandlerCount","_React$Component2","_temp2","_this4","_len2","_key2","shouldFocus","focus","myURIChanged","navigatedUpToMe","activeElement","_this5","_props2","_props2$component","Comp","outline","tabIndex","_ref4","_ref5","_ref6","_props$getProps","anchorProps","encodedHref","shouldNavigate","_location$state","restState","RedirectRequest","redirectTo","RedirectImpl","_React$Component3","_props3","_props3$replace","noThrow","resolvedTo","_props4","Redirect","_ref7","Match","_ref8","_ref9","_ref10","resolvedPath","useNavigate","useParams","useMatch","stripSlashes","elementPath","condition","argIndex","framesToPop","_inheritsLoose"],"sourceRoot":""}